<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.4"/>
<title>InfiniSQL: Pg Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="header_60.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">InfiniSQL
   &#160;<span id="projectnumber">v0.1.2-alpha</span>
   </div>
   <div id="projectbrief">Massive Scale Transaction Processing</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.4 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('class_pg.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="class_pg-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Pg Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>object that handles SQL activities  
 <a href="class_pg.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_pg_8h_source.html">Pg.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for Pg:</div>
<div class="dyncontent">
<div class="center"><img src="class_pg__inherit__graph.png" border="0" usemap="#_pg_inherit__map" alt="Inheritance graph"/></div>
<map name="_pg_inherit__map" id="_pg_inherit__map">
<area shape="rect" id="node2" href="class_api_interface.html" title="Stored procedure API. " alt="" coords="5,5,96,35"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for Pg:</div>
<div class="dyncontent">
<div class="center"><img src="class_pg__coll__graph.png" border="0" usemap="#_pg_coll__map" alt="Collaboration graph"/></div>
<map name="_pg_coll__map" id="_pg_coll__map">
<area shape="rect" id="node2" href="class_api_interface.html" title="Stored procedure API. " alt="" coords="2852,1740,2943,1769"/><area shape="rect" id="node83" href="class_transaction.html" title="create Transaction object " alt="" coords="3176,1975,3267,2004"/><area shape="rect" id="node121" href="struct_statement_1_1reentry__s.html" title="continuation destination " alt="" coords="3149,1744,3293,1773"/><area shape="rect" id="node4" href="class_transaction_agent.html" title="execute Transaction Agent actor " alt="" coords="2487,1044,2609,1073"/><area shape="rect" id="node6" href="class_operation.html" title="non&#45;transactional user and schema&#45;related activity " alt="" coords="2859,307,2936,336"/><area shape="rect" id="node119" href="class_statement.html" title="contains all necessary information to execute a SQL statement " alt="" coords="3463,1655,3545,1684"/><area shape="rect" id="node9" href="structschemastruct.html" title="state information for Operations between TransactionAgent and UserSchemaMgr " alt="" coords="2497,13,2599,43"/><area shape="rect" id="node11" title="STL class. " alt="" coords="667,1759,747,1788"/><area shape="rect" id="node28" href="struct_topology_1_1partition_address.html" title="Topology::partitionAddress" alt="" coords="1244,1101,1420,1131"/><area shape="rect" id="node70" href="structauth_info.html" title="authentication information, uniquely identifying a user " alt="" coords="1123,1344,1192,1373"/><area shape="rect" id="node85" href="structfield_value__s.html" title="field contents " alt="" coords="2127,2145,2220,2175"/><area shape="rect" id="node96" href="struct_transaction_1_1cmd_state__s.html" title="state for pending transactional activities " alt="" coords="2813,1993,2981,2023"/><area shape="rect" id="node107" href="class_table.html" title="create new Table object " alt="" coords="1967,1896,2020,1925"/><area shape="rect" id="node124" href="struct_statement_1_1query__s.html" title="all elements for a main or sub&#45;query " alt="" coords="1264,1580,1400,1609"/><area shape="rect" id="node140" href="structfieldtypename__s.html" title="name and type of field " alt="" coords="1099,2484,1216,2513"/><area shape="rect" id="node13" title="STL class. " alt="" coords="304,1750,429,1797"/><area shape="rect" id="node15" href="class_topology.html" title="Topology" alt="" coords="2136,1044,2211,1073"/><area shape="rect" id="node48" href="class_mboxes.html" title="collection of producers " alt="" coords="955,449,1021,479"/><area shape="rect" id="node31" href="class_mbox.html" title="create mailbox " alt="" coords="961,888,1015,917"/><area shape="rect" id="node53" href="class_mbox_producer.html" title="mailbox producer " alt="" coords="1279,340,1385,369"/><area shape="rect" id="node33" href="class_message.html" title="create Message object " alt="" coords="669,883,744,912"/><area shape="rect" id="node35" href="struct_message_1_1message__s.html" title="Message POD (serializable by memcpy) data members. " alt="" coords="292,851,441,880"/><area shape="rect" id="node37" href="struct_topology_1_1address_struct.html" title="Topology::addressStruct" alt="" coords="7,737,169,767"/><area shape="rect" id="node51" href="struct_mboxes_1_1location__s.html" title="address and MboxProducer for an actor " alt="" coords="1712,327,1845,356"/><area shape="rect" id="node81" href="struct_api_interface_1_1results__s.html" title="results from SQL query " alt="" coords="3428,1919,3580,1948"/><area shape="rect" id="node88" href="unionfield_input__u.html" title="contents of a field (other than CHARX or VARCHAR) " alt="" coords="1735,2093,1823,2123"/><area shape="rect" id="node93" href="class_schema.html" title="Schema object. " alt="" coords="2863,2379,2932,2408"/><area shape="rect" id="node102" href="structuu_record__s.html" title="universally unique Record " alt="" coords="2503,2176,2593,2205"/><area shape="rect" id="node116" href="struct_transaction_1_1sqlcmdstate__s.html" title="state for pending SQL commands " alt="" coords="3695,1655,3876,1684"/><area shape="rect" id="node143" href="structprocedure_response__s.html" title="orphan? " alt="" coords="2472,1740,2624,1769"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a3dfd8436412740e96fafae7516a6050a"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pg.html#a3dfd8436412740e96fafae7516a6050a">states_e</a> { <br/>
&#160;&#160;<a class="el" href="class_pg.html#a3dfd8436412740e96fafae7516a6050aa32d54744d0859d6b6f3475ea844181cd">STATE_NONE</a> = 0, 
<a class="el" href="class_pg.html#a3dfd8436412740e96fafae7516a6050aa9ac9445ae8e14932b697d454cafd4dff">STATE_BEGIN</a>, 
<a class="el" href="class_pg.html#a3dfd8436412740e96fafae7516a6050aa4d9da4aee89b0c6c7b2ab9aeb4709262">STATE_AUTH</a>, 
<a class="el" href="class_pg.html#a3dfd8436412740e96fafae7516a6050aaacd8781f9b4894944ac521960edaa181">STATE_ESTABLISHED</a>, 
<br/>
&#160;&#160;<a class="el" href="class_pg.html#a3dfd8436412740e96fafae7516a6050aaa6f47c9d45fd56ad81b3cbb04a7def65">STATE_ABORTED</a>, 
<a class="el" href="class_pg.html#a3dfd8436412740e96fafae7516a6050aad3b3a04101f0f52861d7edf8b62e02dc">STATE_EXITING</a>
<br/>
 }</td></tr>
<tr class="memdesc:a3dfd8436412740e96fafae7516a6050a"><td class="mdescLeft">&#160;</td><td class="mdescRight">states for an SQL connection  <a href="class_pg.html#a3dfd8436412740e96fafae7516a6050a">More...</a><br/></td></tr>
<tr class="separator:a3dfd8436412740e96fafae7516a6050a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a6367317bde051076086c1a8c026e9446"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pg.html#a6367317bde051076086c1a8c026e9446">Pg</a> (class <a class="el" href="class_transaction_agent.html">TransactionAgent</a> *entrypoint, int statePtr)</td></tr>
<tr class="separator:a6367317bde051076086c1a8c026e9446"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85530c6c5a69e6cebe6d6f2b17efd786"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pg.html#a85530c6c5a69e6cebe6d6f2b17efd786">~Pg</a> ()</td></tr>
<tr class="separator:a85530c6c5a69e6cebe6d6f2b17efd786"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb8b8b19d745e20b31c53647d0c90dd6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pg.html#acb8b8b19d745e20b31c53647d0c90dd6">doit</a> ()</td></tr>
<tr class="separator:acb8b8b19d745e20b31c53647d0c90dd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abae1c31a9b68ad2cfc65766eef1889a7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pg.html#abae1c31a9b68ad2cfc65766eef1889a7">continueFunc1</a> (int64_t entrypoint, void *statePtr)</td></tr>
<tr class="memdesc:abae1c31a9b68ad2cfc65766eef1889a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">user-defined continuation function  <a href="#abae1c31a9b68ad2cfc65766eef1889a7">More...</a><br/></td></tr>
<tr class="separator:abae1c31a9b68ad2cfc65766eef1889a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93771c20605273765684b11899440130"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pg.html#a93771c20605273765684b11899440130">continueFunc2</a> (int64_t entrypoint, void *statePtr)</td></tr>
<tr class="memdesc:a93771c20605273765684b11899440130"><td class="mdescLeft">&#160;</td><td class="mdescRight">second user-defined continuation function  <a href="#a93771c20605273765684b11899440130">More...</a><br/></td></tr>
<tr class="separator:a93771c20605273765684b11899440130"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac132fbe1a0c46c68ece5004366dd8a62"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pg.html#ac132fbe1a0c46c68ece5004366dd8a62">continuePgFunc</a> (int64_t entrypoint, void *statePtr)</td></tr>
<tr class="memdesc:ac132fbe1a0c46c68ece5004366dd8a62"><td class="mdescLeft">&#160;</td><td class="mdescRight">after SQL activity is performed  <a href="#ac132fbe1a0c46c68ece5004366dd8a62">More...</a><br/></td></tr>
<tr class="separator:ac132fbe1a0c46c68ece5004366dd8a62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc7f4444738cd3201d51fd254c28f353"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pg.html#adc7f4444738cd3201d51fd254c28f353">continuePgCommitimplicit</a> (int64_t entrypoint, void *statePtr)</td></tr>
<tr class="memdesc:adc7f4444738cd3201d51fd254c28f353"><td class="mdescLeft">&#160;</td><td class="mdescRight">continuation function after implicit commit  <a href="#adc7f4444738cd3201d51fd254c28f353">More...</a><br/></td></tr>
<tr class="separator:adc7f4444738cd3201d51fd254c28f353"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af53fe07c0c0a879e0291e723dff34926"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pg.html#af53fe07c0c0a879e0291e723dff34926">continuePgCommitexplicit</a> (int64_t entrypoint, void *statePtr)</td></tr>
<tr class="memdesc:af53fe07c0c0a879e0291e723dff34926"><td class="mdescLeft">&#160;</td><td class="mdescRight">continuation function after explicit commit  <a href="#af53fe07c0c0a879e0291e723dff34926">More...</a><br/></td></tr>
<tr class="separator:af53fe07c0c0a879e0291e723dff34926"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23d0ef3e3908161087c7452d459da402"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pg.html#a23d0ef3e3908161087c7452d459da402">continuePgRollbackimplicit</a> (int64_t entrypoint, void *statePtr)</td></tr>
<tr class="memdesc:a23d0ef3e3908161087c7452d459da402"><td class="mdescLeft">&#160;</td><td class="mdescRight">continuation function after implicit rollback  <a href="#a23d0ef3e3908161087c7452d459da402">More...</a><br/></td></tr>
<tr class="separator:a23d0ef3e3908161087c7452d459da402"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bdee216f5c823ca136fee3c50a53d7c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pg.html#a5bdee216f5c823ca136fee3c50a53d7c">continuePgRollbackexplicit</a> (int64_t entrypoint, void *statePtr)</td></tr>
<tr class="memdesc:a5bdee216f5c823ca136fee3c50a53d7c"><td class="mdescLeft">&#160;</td><td class="mdescRight">continuation function after explicit rollback  <a href="#a5bdee216f5c823ca136fee3c50a53d7c">More...</a><br/></td></tr>
<tr class="separator:a5bdee216f5c823ca136fee3c50a53d7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44c82eede544bcf6999302f41f705c81"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pg.html#a44c82eede544bcf6999302f41f705c81">readsocket</a> (string &amp;buf)</td></tr>
<tr class="memdesc:a44c82eede544bcf6999302f41f705c81"><td class="mdescLeft">&#160;</td><td class="mdescRight">read from socket  <a href="#a44c82eede544bcf6999302f41f705c81">More...</a><br/></td></tr>
<tr class="separator:a44c82eede544bcf6999302f41f705c81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23146f712d62c6b5c4537b55dbc89727"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pg.html#a23146f712d62c6b5c4537b55dbc89727">closesocket</a> (class <a class="el" href="class_transaction_agent.html">TransactionAgent</a> &amp;taRef)</td></tr>
<tr class="memdesc:a23146f712d62c6b5c4537b55dbc89727"><td class="mdescLeft">&#160;</td><td class="mdescRight">close socket  <a href="#a23146f712d62c6b5c4537b55dbc89727">More...</a><br/></td></tr>
<tr class="separator:a23146f712d62c6b5c4537b55dbc89727"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d9453abb6c088797e14baea3f2c241b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pg.html#a1d9453abb6c088797e14baea3f2c241b">cont</a> ()</td></tr>
<tr class="memdesc:a1d9453abb6c088797e14baea3f2c241b"><td class="mdescLeft">&#160;</td><td class="mdescRight">wire protocol handling  <a href="#a1d9453abb6c088797e14baea3f2c241b">More...</a><br/></td></tr>
<tr class="separator:a1d9453abb6c088797e14baea3f2c241b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad00c2730c7e3d4ad3c66a6b32a5906d9"><td class="memItemLeft" align="right" valign="top">short&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pg.html#ad00c2730c7e3d4ad3c66a6b32a5906d9">initcmd</a> (string &amp;newdata)</td></tr>
<tr class="memdesc:ad00c2730c7e3d4ad3c66a6b32a5906d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">read new command from socket  <a href="#ad00c2730c7e3d4ad3c66a6b32a5906d9">More...</a><br/></td></tr>
<tr class="separator:ad00c2730c7e3d4ad3c66a6b32a5906d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ea550f9d0d24a3c7aeb736b83c86bcb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pg.html#a3ea550f9d0d24a3c7aeb736b83c86bcb">replymsg</a> ()</td></tr>
<tr class="memdesc:a3ea550f9d0d24a3c7aeb736b83c86bcb"><td class="mdescLeft">&#160;</td><td class="mdescRight">put message for reply into outbound buffer  <a href="#a3ea550f9d0d24a3c7aeb736b83c86bcb">More...</a><br/></td></tr>
<tr class="separator:a3ea550f9d0d24a3c7aeb736b83c86bcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8422838d3a7e83f6db18eceb18817588"><td class="memItemLeft" align="right" valign="top">short&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pg.html#a8422838d3a7e83f6db18eceb18817588">writesocket</a> ()</td></tr>
<tr class="memdesc:a8422838d3a7e83f6db18eceb18817588"><td class="mdescLeft">&#160;</td><td class="mdescRight">write response messages to socket  <a href="#a8422838d3a7e83f6db18eceb18817588">More...</a><br/></td></tr>
<tr class="separator:a8422838d3a7e83f6db18eceb18817588"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fefc9290f305a1700e08a5c08b10a7b"><td class="memItemLeft" align="right" valign="top">short&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pg.html#a9fefc9290f305a1700e08a5c08b10a7b">rewritesocket</a> ()</td></tr>
<tr class="memdesc:a9fefc9290f305a1700e08a5c08b10a7b"><td class="mdescLeft">&#160;</td><td class="mdescRight">write stored buffer to socket  <a href="#a9fefc9290f305a1700e08a5c08b10a7b">More...</a><br/></td></tr>
<tr class="separator:a9fefc9290f305a1700e08a5c08b10a7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cc82cf9b6982e76e3f71bb14a41b19e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pg.html#a4cc82cf9b6982e76e3f71bb14a41b19e">get</a> (int16_t *val)</td></tr>
<tr class="memdesc:a4cc82cf9b6982e76e3f71bb14a41b19e"><td class="mdescLeft">&#160;</td><td class="mdescRight">read 16bit integer from inbound message string  <a href="#a4cc82cf9b6982e76e3f71bb14a41b19e">More...</a><br/></td></tr>
<tr class="separator:a4cc82cf9b6982e76e3f71bb14a41b19e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1254dacac5cb5a5a51245fa719c8fe66"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pg.html#a1254dacac5cb5a5a51245fa719c8fe66">get</a> (int32_t *val)</td></tr>
<tr class="memdesc:a1254dacac5cb5a5a51245fa719c8fe66"><td class="mdescLeft">&#160;</td><td class="mdescRight">read 32bit integer from inbound message string  <a href="#a1254dacac5cb5a5a51245fa719c8fe66">More...</a><br/></td></tr>
<tr class="separator:a1254dacac5cb5a5a51245fa719c8fe66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab79359a6e60260b3333b4e14c477015b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pg.html#ab79359a6e60260b3333b4e14c477015b">get</a> (int64_t *val)</td></tr>
<tr class="memdesc:ab79359a6e60260b3333b4e14c477015b"><td class="mdescLeft">&#160;</td><td class="mdescRight">read 64bit integer from inbound message string  <a href="#ab79359a6e60260b3333b4e14c477015b">More...</a><br/></td></tr>
<tr class="separator:ab79359a6e60260b3333b4e14c477015b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a985abb3ac8f1d4040adb21d2e1cd96a4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pg.html#a985abb3ac8f1d4040adb21d2e1cd96a4">get</a> (vector&lt; int16_t &gt; &amp;val, size_t nelem)</td></tr>
<tr class="memdesc:a985abb3ac8f1d4040adb21d2e1cd96a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">read list of 16bit integers from inbound message string  <a href="#a985abb3ac8f1d4040adb21d2e1cd96a4">More...</a><br/></td></tr>
<tr class="separator:a985abb3ac8f1d4040adb21d2e1cd96a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad77c853fdc52aa5dec561b5a14ee08e8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pg.html#ad77c853fdc52aa5dec561b5a14ee08e8">get</a> (vector&lt; int32_t &gt; &amp;val, size_t nelem)</td></tr>
<tr class="memdesc:ad77c853fdc52aa5dec561b5a14ee08e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">read array of 32bit integers from inbound message string  <a href="#ad77c853fdc52aa5dec561b5a14ee08e8">More...</a><br/></td></tr>
<tr class="separator:ad77c853fdc52aa5dec561b5a14ee08e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e2687a3657883130f96373932bd65ef"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pg.html#a6e2687a3657883130f96373932bd65ef">get</a> (vector&lt; int64_t &gt; &amp;val, size_t nelem)</td></tr>
<tr class="memdesc:a6e2687a3657883130f96373932bd65ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">read array of 64bit integers inbound message string  <a href="#a6e2687a3657883130f96373932bd65ef">More...</a><br/></td></tr>
<tr class="separator:a6e2687a3657883130f96373932bd65ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6811832a3fd95c252ad6cc1328a1c16"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pg.html#ab6811832a3fd95c252ad6cc1328a1c16">get</a> (char *val)</td></tr>
<tr class="memdesc:ab6811832a3fd95c252ad6cc1328a1c16"><td class="mdescLeft">&#160;</td><td class="mdescRight">read Byte1 from inbound message string  <a href="#ab6811832a3fd95c252ad6cc1328a1c16">More...</a><br/></td></tr>
<tr class="separator:ab6811832a3fd95c252ad6cc1328a1c16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8c296f72d4ee7b4e816f00ea5615a3e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pg.html#ab8c296f72d4ee7b4e816f00ea5615a3e">get</a> (string &amp;val, size_t nelem)</td></tr>
<tr class="memdesc:ab8c296f72d4ee7b4e816f00ea5615a3e"><td class="mdescLeft">&#160;</td><td class="mdescRight">read Byten from inbound message string  <a href="#ab8c296f72d4ee7b4e816f00ea5615a3e">More...</a><br/></td></tr>
<tr class="separator:ab8c296f72d4ee7b4e816f00ea5615a3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3cae676b62128e37b5abf7117f11904"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pg.html#ad3cae676b62128e37b5abf7117f11904">get</a> (string &amp;val)</td></tr>
<tr class="memdesc:ad3cae676b62128e37b5abf7117f11904"><td class="mdescLeft">&#160;</td><td class="mdescRight">read String (c-style) from inbound message string  <a href="#ad3cae676b62128e37b5abf7117f11904">More...</a><br/></td></tr>
<tr class="separator:ad3cae676b62128e37b5abf7117f11904"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3859c82746de187e1eaaa2af79763bb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb">put</a> (int16_t val)</td></tr>
<tr class="memdesc:aa3859c82746de187e1eaaa2af79763bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">write data to outbound message buffer  <a href="#aa3859c82746de187e1eaaa2af79763bb">More...</a><br/></td></tr>
<tr class="separator:aa3859c82746de187e1eaaa2af79763bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95c6251280193bbb5fe1c3f2935a9eb8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pg.html#a95c6251280193bbb5fe1c3f2935a9eb8">put</a> (int32_t val)</td></tr>
<tr class="memdesc:a95c6251280193bbb5fe1c3f2935a9eb8"><td class="mdescLeft">&#160;</td><td class="mdescRight">write data to outbound message buffer  <a href="#a95c6251280193bbb5fe1c3f2935a9eb8">More...</a><br/></td></tr>
<tr class="separator:a95c6251280193bbb5fe1c3f2935a9eb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91c36fa4af5be8a36e6470cdafba4732"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pg.html#a91c36fa4af5be8a36e6470cdafba4732">put</a> (int64_t val)</td></tr>
<tr class="memdesc:a91c36fa4af5be8a36e6470cdafba4732"><td class="mdescLeft">&#160;</td><td class="mdescRight">write data to outbound message buffer  <a href="#a91c36fa4af5be8a36e6470cdafba4732">More...</a><br/></td></tr>
<tr class="separator:a91c36fa4af5be8a36e6470cdafba4732"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fc6b682d48e42cde992de6c1ad5c0ec"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pg.html#a9fc6b682d48e42cde992de6c1ad5c0ec">put</a> (vector&lt; int16_t &gt; &amp;val)</td></tr>
<tr class="memdesc:a9fc6b682d48e42cde992de6c1ad5c0ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">write data to outbound message buffer  <a href="#a9fc6b682d48e42cde992de6c1ad5c0ec">More...</a><br/></td></tr>
<tr class="separator:a9fc6b682d48e42cde992de6c1ad5c0ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80ef54e5922233a9b075002f07a69d6f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pg.html#a80ef54e5922233a9b075002f07a69d6f">put</a> (vector&lt; int32_t &gt; &amp;val)</td></tr>
<tr class="memdesc:a80ef54e5922233a9b075002f07a69d6f"><td class="mdescLeft">&#160;</td><td class="mdescRight">write data to outbound message buffer  <a href="#a80ef54e5922233a9b075002f07a69d6f">More...</a><br/></td></tr>
<tr class="separator:a80ef54e5922233a9b075002f07a69d6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ec3f84aa81181367b21f1e192a4321b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pg.html#a7ec3f84aa81181367b21f1e192a4321b">put</a> (vector&lt; int64_t &gt; &amp;val)</td></tr>
<tr class="memdesc:a7ec3f84aa81181367b21f1e192a4321b"><td class="mdescLeft">&#160;</td><td class="mdescRight">write data to outbound message buffer  <a href="#a7ec3f84aa81181367b21f1e192a4321b">More...</a><br/></td></tr>
<tr class="separator:a7ec3f84aa81181367b21f1e192a4321b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeffd881189d9e098c34a16c9b1f708be"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pg.html#aeffd881189d9e098c34a16c9b1f708be">put</a> (char val)</td></tr>
<tr class="memdesc:aeffd881189d9e098c34a16c9b1f708be"><td class="mdescLeft">&#160;</td><td class="mdescRight">write data to outbound message buffer  <a href="#aeffd881189d9e098c34a16c9b1f708be">More...</a><br/></td></tr>
<tr class="separator:aeffd881189d9e098c34a16c9b1f708be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a721c78562841ed877d0d3fdea922befc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pg.html#a721c78562841ed877d0d3fdea922befc">put</a> (char *val, size_t nelem)</td></tr>
<tr class="memdesc:a721c78562841ed877d0d3fdea922befc"><td class="mdescLeft">&#160;</td><td class="mdescRight">write Byten to outbound message buffer  <a href="#a721c78562841ed877d0d3fdea922befc">More...</a><br/></td></tr>
<tr class="separator:a721c78562841ed877d0d3fdea922befc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3245d92553967f70d2ee93a65ad2efa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pg.html#ac3245d92553967f70d2ee93a65ad2efa">put</a> (string &amp;val)</td></tr>
<tr class="memdesc:ac3245d92553967f70d2ee93a65ad2efa"><td class="mdescLeft">&#160;</td><td class="mdescRight">write data to outbound message buffer  <a href="#ac3245d92553967f70d2ee93a65ad2efa">More...</a><br/></td></tr>
<tr class="separator:ac3245d92553967f70d2ee93a65ad2efa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a771fa2aa8d7f74e208a4ef3bc54bcb27"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pg.html#a771fa2aa8d7f74e208a4ef3bc54bcb27">put</a> (char *val)</td></tr>
<tr class="memdesc:a771fa2aa8d7f74e208a4ef3bc54bcb27"><td class="mdescLeft">&#160;</td><td class="mdescRight">write data to outbound message buffer  <a href="#a771fa2aa8d7f74e208a4ef3bc54bcb27">More...</a><br/></td></tr>
<tr class="separator:a771fa2aa8d7f74e208a4ef3bc54bcb27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5367b8b342543bd56c310ff0afe2aea"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pg.html#af5367b8b342543bd56c310ff0afe2aea">putCommandComplete</a> (char *tag)</td></tr>
<tr class="memdesc:af5367b8b342543bd56c310ff0afe2aea"><td class="mdescLeft">&#160;</td><td class="mdescRight">write completed command to outbound message buffer  <a href="#af5367b8b342543bd56c310ff0afe2aea">More...</a><br/></td></tr>
<tr class="separator:af5367b8b342543bd56c310ff0afe2aea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79e2585fe00a44c7064745113cf6816a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pg.html#a79e2585fe00a44c7064745113cf6816a">putErrorResponse</a> (char *severity, char *code, char *message)</td></tr>
<tr class="memdesc:a79e2585fe00a44c7064745113cf6816a"><td class="mdescLeft">&#160;</td><td class="mdescRight">write error to outbound message buffer  <a href="#a79e2585fe00a44c7064745113cf6816a">More...</a><br/></td></tr>
<tr class="separator:a79e2585fe00a44c7064745113cf6816a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa27e5bcd510d4b5a3203b8a8191273c2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pg.html#aa27e5bcd510d4b5a3203b8a8191273c2">putNoticeResponse</a> (char *severity, char *code, char *message)</td></tr>
<tr class="memdesc:aa27e5bcd510d4b5a3203b8a8191273c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">write notice to outbound message buffer  <a href="#aa27e5bcd510d4b5a3203b8a8191273c2">More...</a><br/></td></tr>
<tr class="separator:aa27e5bcd510d4b5a3203b8a8191273c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab381a3f0ef9beb0470e5aaff768d404d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pg.html#ab381a3f0ef9beb0470e5aaff768d404d">putRowDescription</a> ()</td></tr>
<tr class="memdesc:ab381a3f0ef9beb0470e5aaff768d404d"><td class="mdescLeft">&#160;</td><td class="mdescRight">write field names to outbound message buffer  <a href="#ab381a3f0ef9beb0470e5aaff768d404d">More...</a><br/></td></tr>
<tr class="separator:ab381a3f0ef9beb0470e5aaff768d404d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a74f6c5437f7e8faea3f875fc9a73c4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pg.html#a1a74f6c5437f7e8faea3f875fc9a73c4">putDataRows</a> ()</td></tr>
<tr class="memdesc:a1a74f6c5437f7e8faea3f875fc9a73c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">write rows to outbound message buffer  <a href="#a1a74f6c5437f7e8faea3f875fc9a73c4">More...</a><br/></td></tr>
<tr class="separator:a1a74f6c5437f7e8faea3f875fc9a73c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b16e732905412fd19a9b1c75e62ced3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pg.html#a9b16e732905412fd19a9b1c75e62ced3">putAuthenticationOk</a> ()</td></tr>
<tr class="memdesc:a9b16e732905412fd19a9b1c75e62ced3"><td class="mdescLeft">&#160;</td><td class="mdescRight">write authenticationok status to outbound message buffer  <a href="#a9b16e732905412fd19a9b1c75e62ced3">More...</a><br/></td></tr>
<tr class="separator:a9b16e732905412fd19a9b1c75e62ced3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbe09ff203b419a42ad234f906959c8a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pg.html#afbe09ff203b419a42ad234f906959c8a">putParameterStatus</a> (char *name, char *value)</td></tr>
<tr class="memdesc:afbe09ff203b419a42ad234f906959c8a"><td class="mdescLeft">&#160;</td><td class="mdescRight">write server parameters in status message to outbound message buffer  <a href="#afbe09ff203b419a42ad234f906959c8a">More...</a><br/></td></tr>
<tr class="separator:afbe09ff203b419a42ad234f906959c8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c7a5cc08d6f879c72e2a5e9515ae7a8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pg.html#a5c7a5cc08d6f879c72e2a5e9515ae7a8">sqlcommitimplicit</a> ()</td></tr>
<tr class="memdesc:a5c7a5cc08d6f879c72e2a5e9515ae7a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">implicit commit  <a href="#a5c7a5cc08d6f879c72e2a5e9515ae7a8">More...</a><br/></td></tr>
<tr class="separator:a5c7a5cc08d6f879c72e2a5e9515ae7a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55518b7c783c58e23badcc740e96cd8e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pg.html#a55518b7c783c58e23badcc740e96cd8e">sqlcommitexplicit</a> ()</td></tr>
<tr class="memdesc:a55518b7c783c58e23badcc740e96cd8e"><td class="mdescLeft">&#160;</td><td class="mdescRight">explicit commit  <a href="#a55518b7c783c58e23badcc740e96cd8e">More...</a><br/></td></tr>
<tr class="separator:a55518b7c783c58e23badcc740e96cd8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7dab9ff8d6e0a409b2e645605ca52e6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pg.html#ac7dab9ff8d6e0a409b2e645605ca52e6">sqlrollbackimplicit</a> ()</td></tr>
<tr class="memdesc:ac7dab9ff8d6e0a409b2e645605ca52e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">implicit rollback  <a href="#ac7dab9ff8d6e0a409b2e645605ca52e6">More...</a><br/></td></tr>
<tr class="separator:ac7dab9ff8d6e0a409b2e645605ca52e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26dfda1f20b2fdaac85986fa3dd7ebca"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pg.html#a26dfda1f20b2fdaac85986fa3dd7ebca">sqlrollbackexplicit</a> ()</td></tr>
<tr class="memdesc:a26dfda1f20b2fdaac85986fa3dd7ebca"><td class="mdescLeft">&#160;</td><td class="mdescRight">explicit rollback  <a href="#a26dfda1f20b2fdaac85986fa3dd7ebca">More...</a><br/></td></tr>
<tr class="separator:a26dfda1f20b2fdaac85986fa3dd7ebca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a41dfc859568fa99954e3a2cccb01e1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pg.html#a2a41dfc859568fa99954e3a2cccb01e1">sqlbegin</a> ()</td></tr>
<tr class="memdesc:a2a41dfc859568fa99954e3a2cccb01e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">appears to be orphan  <a href="#a2a41dfc859568fa99954e3a2cccb01e1">More...</a><br/></td></tr>
<tr class="separator:a2a41dfc859568fa99954e3a2cccb01e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee8ca6d9759c75c81a8d41679744b31e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pg.html#aee8ca6d9759c75c81a8d41679744b31e">continueLogin</a> (int cmdstate, class <a class="el" href="class_message_user_schema.html">MessageUserSchema</a> &amp;msgrcvref)</td></tr>
<tr class="memdesc:aee8ca6d9759c75c81a8d41679744b31e"><td class="mdescLeft">&#160;</td><td class="mdescRight">continuation after login operation  <a href="#aee8ca6d9759c75c81a8d41679744b31e">More...</a><br/></td></tr>
<tr class="separator:aee8ca6d9759c75c81a8d41679744b31e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7204d6b309e5d68f8bd37fdbcc5929e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pg.html#af7204d6b309e5d68f8bd37fdbcc5929e">executeStatement</a> (string &amp;stmtstr)</td></tr>
<tr class="memdesc:af7204d6b309e5d68f8bd37fdbcc5929e"><td class="mdescLeft">&#160;</td><td class="mdescRight">tokenize, parse, compile and execute SQL query  <a href="#af7204d6b309e5d68f8bd37fdbcc5929e">More...</a><br/></td></tr>
<tr class="separator:af7204d6b309e5d68f8bd37fdbcc5929e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa7af6e009006b5eb3c4ff8324ac2d6c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pg.html#aaa7af6e009006b5eb3c4ff8324ac2d6c">errorStatus</a> (int64_t status)</td></tr>
<tr class="memdesc:aaa7af6e009006b5eb3c4ff8324ac2d6c"><td class="mdescLeft">&#160;</td><td class="mdescRight">output error based on <a class="el" href="class_transaction.html#a8396b59c0a5c3485f9e42de072bdb7ff">Transaction::resultCode</a>  <a href="#aaa7af6e009006b5eb3c4ff8324ac2d6c">More...</a><br/></td></tr>
<tr class="separator:aaa7af6e009006b5eb3c4ff8324ac2d6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_api_interface"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_class_api_interface')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="class_api_interface.html">ApiInterface</a></td></tr>
<tr class="memitem:ad0a548178e3ab88bf1ffe609f81fc344 inherit pub_methods_class_api_interface"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_api_interface.html#ad0a548178e3ab88bf1ffe609f81fc344">ApiInterface</a> ()</td></tr>
<tr class="separator:ad0a548178e3ab88bf1ffe609f81fc344 inherit pub_methods_class_api_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17d9431d9ade382487154802e717345c inherit pub_methods_class_api_interface"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_api_interface.html#a17d9431d9ade382487154802e717345c">~ApiInterface</a> ()</td></tr>
<tr class="separator:a17d9431d9ade382487154802e717345c inherit pub_methods_class_api_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80b23990c80650d5b296fd60a7f44950 inherit pub_methods_class_api_interface"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_api_interface.html#a80b23990c80650d5b296fd60a7f44950">deserialize2Vector</a> ()</td></tr>
<tr class="memdesc:a80b23990c80650d5b296fd60a7f44950 inherit pub_methods_class_api_interface"><td class="mdescLeft">&#160;</td><td class="mdescRight">orphan  <a href="#a80b23990c80650d5b296fd60a7f44950">More...</a><br/></td></tr>
<tr class="separator:a80b23990c80650d5b296fd60a7f44950 inherit pub_methods_class_api_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7add476841d6568e5c3a9aaebea77072 inherit pub_methods_class_api_interface"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_api_interface.html#a7add476841d6568e5c3a9aaebea77072">beginTransaction</a> ()</td></tr>
<tr class="memdesc:a7add476841d6568e5c3a9aaebea77072 inherit pub_methods_class_api_interface"><td class="mdescLeft">&#160;</td><td class="mdescRight">start <a class="el" href="class_transaction.html" title="create Transaction object ">Transaction</a>  <a href="#a7add476841d6568e5c3a9aaebea77072">More...</a><br/></td></tr>
<tr class="separator:a7add476841d6568e5c3a9aaebea77072 inherit pub_methods_class_api_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d3ce55ddea2cd2868501f0df93457f6 inherit pub_methods_class_api_interface"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_api_interface.html#a4d3ce55ddea2cd2868501f0df93457f6">destruct</a> ()</td></tr>
<tr class="memdesc:a4d3ce55ddea2cd2868501f0df93457f6 inherit pub_methods_class_api_interface"><td class="mdescLeft">&#160;</td><td class="mdescRight">orphan  <a href="#a4d3ce55ddea2cd2868501f0df93457f6">More...</a><br/></td></tr>
<tr class="separator:a4d3ce55ddea2cd2868501f0df93457f6 inherit pub_methods_class_api_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1902f575474f32627bf0a7eda9509c37 inherit pub_methods_class_api_interface"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_api_interface.html#a1902f575474f32627bf0a7eda9509c37">bouncebackproxy</a> ()</td></tr>
<tr class="memdesc:a1902f575474f32627bf0a7eda9509c37 inherit pub_methods_class_api_interface"><td class="mdescLeft">&#160;</td><td class="mdescRight">orphan  <a href="#a1902f575474f32627bf0a7eda9509c37">More...</a><br/></td></tr>
<tr class="separator:a1902f575474f32627bf0a7eda9509c37 inherit pub_methods_class_api_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7927617d71f0bf3175cb96775be8d44 inherit pub_methods_class_api_interface"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_api_interface.html#ad7927617d71f0bf3175cb96775be8d44">insertRow</a> (<a class="el" href="_transaction_8h.html#a10deed48db84d832b5b0fb42c0f15466">apifPtr</a> re, int64_t recmd, void *reptr, int64_t tableid)</td></tr>
<tr class="memdesc:ad7927617d71f0bf3175cb96775be8d44 inherit pub_methods_class_api_interface"><td class="mdescLeft">&#160;</td><td class="mdescRight">deprecated  <a href="#ad7927617d71f0bf3175cb96775be8d44">More...</a><br/></td></tr>
<tr class="separator:ad7927617d71f0bf3175cb96775be8d44 inherit pub_methods_class_api_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3de7a816d521ff799e3e4c5131b1cd92 inherit pub_methods_class_api_interface"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_api_interface.html#a3de7a816d521ff799e3e4c5131b1cd92">deleteRow</a> (<a class="el" href="_transaction_8h.html#a10deed48db84d832b5b0fb42c0f15466">apifPtr</a> re, int64_t recmd, void *reptr, <a class="el" href="structuu_record__s.html">uuRecord_s</a> &amp;uur)</td></tr>
<tr class="memdesc:a3de7a816d521ff799e3e4c5131b1cd92 inherit pub_methods_class_api_interface"><td class="mdescLeft">&#160;</td><td class="mdescRight">deprecated  <a href="#a3de7a816d521ff799e3e4c5131b1cd92">More...</a><br/></td></tr>
<tr class="separator:a3de7a816d521ff799e3e4c5131b1cd92 inherit pub_methods_class_api_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af91175a5e7f6bc4c704ab89a13a3e722 inherit pub_methods_class_api_interface"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_api_interface.html#af91175a5e7f6bc4c704ab89a13a3e722">replaceRow</a> (<a class="el" href="_transaction_8h.html#a10deed48db84d832b5b0fb42c0f15466">apifPtr</a> re, int64_t recmd, void *reptr)</td></tr>
<tr class="memdesc:af91175a5e7f6bc4c704ab89a13a3e722 inherit pub_methods_class_api_interface"><td class="mdescLeft">&#160;</td><td class="mdescRight">deprecated  <a href="#af91175a5e7f6bc4c704ab89a13a3e722">More...</a><br/></td></tr>
<tr class="separator:af91175a5e7f6bc4c704ab89a13a3e722 inherit pub_methods_class_api_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad69182d0b279da241cd4b8efd84fe0b3 inherit pub_methods_class_api_interface"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_api_interface.html#ad69182d0b279da241cd4b8efd84fe0b3">selectRows</a> (<a class="el" href="_transaction_8h.html#a10deed48db84d832b5b0fb42c0f15466">apifPtr</a> re, int64_t recmd, void *reptr, int64_t tableid, int64_t fieldid, <a class="el" href="infinisql_8h.html#ae4840ab04fbdcaa7ef849bc424a7b86a">locktype_e</a> locktype, <a class="el" href="infinisql_8h.html#a9061badccbe3f49b7e98e80c038c79e2">operatortypes_e</a> op)</td></tr>
<tr class="memdesc:ad69182d0b279da241cd4b8efd84fe0b3 inherit pub_methods_class_api_interface"><td class="mdescLeft">&#160;</td><td class="mdescRight">deprecated  <a href="#ad69182d0b279da241cd4b8efd84fe0b3">More...</a><br/></td></tr>
<tr class="separator:ad69182d0b279da241cd4b8efd84fe0b3 inherit pub_methods_class_api_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af948a18df39ca64415dadf4aa17c843f inherit pub_methods_class_api_interface"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_api_interface.html#af948a18df39ca64415dadf4aa17c843f">selectRows</a> (<a class="el" href="_transaction_8h.html#a10deed48db84d832b5b0fb42c0f15466">apifPtr</a> re, int64_t recmd, void *reptr, int64_t tableid, int64_t fieldid, <a class="el" href="infinisql_8h.html#ae4840ab04fbdcaa7ef849bc424a7b86a">locktype_e</a> locktype, <a class="el" href="infinisql_8h.html#a9061badccbe3f49b7e98e80c038c79e2">operatortypes_e</a> op, int64_t input)</td></tr>
<tr class="memdesc:af948a18df39ca64415dadf4aa17c843f inherit pub_methods_class_api_interface"><td class="mdescLeft">&#160;</td><td class="mdescRight">deprecated  <a href="#af948a18df39ca64415dadf4aa17c843f">More...</a><br/></td></tr>
<tr class="separator:af948a18df39ca64415dadf4aa17c843f inherit pub_methods_class_api_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d673b3694ac509fd2ea767995fc95a1 inherit pub_methods_class_api_interface"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_api_interface.html#a6d673b3694ac509fd2ea767995fc95a1">selectRows</a> (<a class="el" href="_transaction_8h.html#a10deed48db84d832b5b0fb42c0f15466">apifPtr</a> re, int64_t recmd, void *reptr, int64_t tableid, int64_t fieldid, <a class="el" href="infinisql_8h.html#ae4840ab04fbdcaa7ef849bc424a7b86a">locktype_e</a> locktype, <a class="el" href="infinisql_8h.html#a9061badccbe3f49b7e98e80c038c79e2">operatortypes_e</a> op, uint64_t input)</td></tr>
<tr class="memdesc:a6d673b3694ac509fd2ea767995fc95a1 inherit pub_methods_class_api_interface"><td class="mdescLeft">&#160;</td><td class="mdescRight">deprecated  <a href="#a6d673b3694ac509fd2ea767995fc95a1">More...</a><br/></td></tr>
<tr class="separator:a6d673b3694ac509fd2ea767995fc95a1 inherit pub_methods_class_api_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63d0e5002dce4da1e93005bcce245b3a inherit pub_methods_class_api_interface"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_api_interface.html#a63d0e5002dce4da1e93005bcce245b3a">selectRows</a> (<a class="el" href="_transaction_8h.html#a10deed48db84d832b5b0fb42c0f15466">apifPtr</a> re, int64_t recmd, void *reptr, int64_t tableid, int64_t fieldid, <a class="el" href="infinisql_8h.html#ae4840ab04fbdcaa7ef849bc424a7b86a">locktype_e</a> locktype, <a class="el" href="infinisql_8h.html#a9061badccbe3f49b7e98e80c038c79e2">operatortypes_e</a> op, bool input)</td></tr>
<tr class="memdesc:a63d0e5002dce4da1e93005bcce245b3a inherit pub_methods_class_api_interface"><td class="mdescLeft">&#160;</td><td class="mdescRight">deprecated  <a href="#a63d0e5002dce4da1e93005bcce245b3a">More...</a><br/></td></tr>
<tr class="separator:a63d0e5002dce4da1e93005bcce245b3a inherit pub_methods_class_api_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a685eab8534f6297d379f5cdbbc6d7f1d inherit pub_methods_class_api_interface"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_api_interface.html#a685eab8534f6297d379f5cdbbc6d7f1d">selectRows</a> (<a class="el" href="_transaction_8h.html#a10deed48db84d832b5b0fb42c0f15466">apifPtr</a> re, int64_t recmd, void *reptr, int64_t tableid, int64_t fieldid, <a class="el" href="infinisql_8h.html#ae4840ab04fbdcaa7ef849bc424a7b86a">locktype_e</a> locktype, <a class="el" href="infinisql_8h.html#a9061badccbe3f49b7e98e80c038c79e2">operatortypes_e</a> op, long double input)</td></tr>
<tr class="memdesc:a685eab8534f6297d379f5cdbbc6d7f1d inherit pub_methods_class_api_interface"><td class="mdescLeft">&#160;</td><td class="mdescRight">deprecated  <a href="#a685eab8534f6297d379f5cdbbc6d7f1d">More...</a><br/></td></tr>
<tr class="separator:a685eab8534f6297d379f5cdbbc6d7f1d inherit pub_methods_class_api_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3391ceb11929fb9f99fe4ea17f6bc21e inherit pub_methods_class_api_interface"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_api_interface.html#a3391ceb11929fb9f99fe4ea17f6bc21e">selectRows</a> (<a class="el" href="_transaction_8h.html#a10deed48db84d832b5b0fb42c0f15466">apifPtr</a> re, int64_t recmd, void *reptr, int64_t tableid, int64_t fieldid, <a class="el" href="infinisql_8h.html#ae4840ab04fbdcaa7ef849bc424a7b86a">locktype_e</a> locktype, <a class="el" href="infinisql_8h.html#a9061badccbe3f49b7e98e80c038c79e2">operatortypes_e</a> op, char input)</td></tr>
<tr class="memdesc:a3391ceb11929fb9f99fe4ea17f6bc21e inherit pub_methods_class_api_interface"><td class="mdescLeft">&#160;</td><td class="mdescRight">deprecated  <a href="#a3391ceb11929fb9f99fe4ea17f6bc21e">More...</a><br/></td></tr>
<tr class="separator:a3391ceb11929fb9f99fe4ea17f6bc21e inherit pub_methods_class_api_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49b60235a55f8cd53d11ff2d3db9ae60 inherit pub_methods_class_api_interface"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_api_interface.html#a49b60235a55f8cd53d11ff2d3db9ae60">selectRows</a> (<a class="el" href="_transaction_8h.html#a10deed48db84d832b5b0fb42c0f15466">apifPtr</a> re, int64_t recmd, void *reptr, int64_t tableid, int64_t fieldid, <a class="el" href="infinisql_8h.html#ae4840ab04fbdcaa7ef849bc424a7b86a">locktype_e</a> locktype, <a class="el" href="infinisql_8h.html#a9061badccbe3f49b7e98e80c038c79e2">operatortypes_e</a> op, string *input)</td></tr>
<tr class="memdesc:a49b60235a55f8cd53d11ff2d3db9ae60 inherit pub_methods_class_api_interface"><td class="mdescLeft">&#160;</td><td class="mdescRight">deprecated  <a href="#a49b60235a55f8cd53d11ff2d3db9ae60">More...</a><br/></td></tr>
<tr class="separator:a49b60235a55f8cd53d11ff2d3db9ae60 inherit pub_methods_class_api_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f8fec61dcd70f62b3088432973f5eab inherit pub_methods_class_api_interface"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_api_interface.html#a8f8fec61dcd70f62b3088432973f5eab">selectRows</a> (<a class="el" href="_transaction_8h.html#a10deed48db84d832b5b0fb42c0f15466">apifPtr</a> re, int64_t recmd, void *reptr, int64_t tableid, int64_t fieldid, <a class="el" href="infinisql_8h.html#ae4840ab04fbdcaa7ef849bc424a7b86a">locktype_e</a> locktype, <a class="el" href="infinisql_8h.html#a9061badccbe3f49b7e98e80c038c79e2">operatortypes_e</a> op, vector&lt; int64_t &gt; *input)</td></tr>
<tr class="memdesc:a8f8fec61dcd70f62b3088432973f5eab inherit pub_methods_class_api_interface"><td class="mdescLeft">&#160;</td><td class="mdescRight">deprecated  <a href="#a8f8fec61dcd70f62b3088432973f5eab">More...</a><br/></td></tr>
<tr class="separator:a8f8fec61dcd70f62b3088432973f5eab inherit pub_methods_class_api_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08e820f4b96a328a8634eb3842d589e6 inherit pub_methods_class_api_interface"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_api_interface.html#a08e820f4b96a328a8634eb3842d589e6">selectRows</a> (<a class="el" href="_transaction_8h.html#a10deed48db84d832b5b0fb42c0f15466">apifPtr</a> re, int64_t recmd, void *reptr, int64_t tableid, int64_t fieldid, <a class="el" href="infinisql_8h.html#ae4840ab04fbdcaa7ef849bc424a7b86a">locktype_e</a> locktype, <a class="el" href="infinisql_8h.html#a9061badccbe3f49b7e98e80c038c79e2">operatortypes_e</a> op, vector&lt; uint64_t &gt; *input)</td></tr>
<tr class="memdesc:a08e820f4b96a328a8634eb3842d589e6 inherit pub_methods_class_api_interface"><td class="mdescLeft">&#160;</td><td class="mdescRight">deprecated  <a href="#a08e820f4b96a328a8634eb3842d589e6">More...</a><br/></td></tr>
<tr class="separator:a08e820f4b96a328a8634eb3842d589e6 inherit pub_methods_class_api_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f737f1b02ad759310014a64c6d675b1 inherit pub_methods_class_api_interface"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_api_interface.html#a8f737f1b02ad759310014a64c6d675b1">selectRows</a> (<a class="el" href="_transaction_8h.html#a10deed48db84d832b5b0fb42c0f15466">apifPtr</a> re, int64_t recmd, void *reptr, int64_t tableid, int64_t fieldid, <a class="el" href="infinisql_8h.html#ae4840ab04fbdcaa7ef849bc424a7b86a">locktype_e</a> locktype, <a class="el" href="infinisql_8h.html#a9061badccbe3f49b7e98e80c038c79e2">operatortypes_e</a> op, vector&lt; bool &gt; *input)</td></tr>
<tr class="memdesc:a8f737f1b02ad759310014a64c6d675b1 inherit pub_methods_class_api_interface"><td class="mdescLeft">&#160;</td><td class="mdescRight">deprecated  <a href="#a8f737f1b02ad759310014a64c6d675b1">More...</a><br/></td></tr>
<tr class="separator:a8f737f1b02ad759310014a64c6d675b1 inherit pub_methods_class_api_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a176a68568bb70192ac28df87d1e99acb inherit pub_methods_class_api_interface"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_api_interface.html#a176a68568bb70192ac28df87d1e99acb">selectRows</a> (<a class="el" href="_transaction_8h.html#a10deed48db84d832b5b0fb42c0f15466">apifPtr</a> re, int64_t recmd, void *reptr, int64_t tableid, int64_t fieldid, <a class="el" href="infinisql_8h.html#ae4840ab04fbdcaa7ef849bc424a7b86a">locktype_e</a> locktype, <a class="el" href="infinisql_8h.html#a9061badccbe3f49b7e98e80c038c79e2">operatortypes_e</a> op, vector&lt; long double &gt; *input)</td></tr>
<tr class="memdesc:a176a68568bb70192ac28df87d1e99acb inherit pub_methods_class_api_interface"><td class="mdescLeft">&#160;</td><td class="mdescRight">deprecated  <a href="#a176a68568bb70192ac28df87d1e99acb">More...</a><br/></td></tr>
<tr class="separator:a176a68568bb70192ac28df87d1e99acb inherit pub_methods_class_api_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3787df628fe057fdf09521cb325463ae inherit pub_methods_class_api_interface"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_api_interface.html#a3787df628fe057fdf09521cb325463ae">selectRows</a> (<a class="el" href="_transaction_8h.html#a10deed48db84d832b5b0fb42c0f15466">apifPtr</a> re, int64_t recmd, void *reptr, int64_t tableid, int64_t fieldid, <a class="el" href="infinisql_8h.html#ae4840ab04fbdcaa7ef849bc424a7b86a">locktype_e</a> locktype, <a class="el" href="infinisql_8h.html#a9061badccbe3f49b7e98e80c038c79e2">operatortypes_e</a> op, vector&lt; char &gt; *input)</td></tr>
<tr class="memdesc:a3787df628fe057fdf09521cb325463ae inherit pub_methods_class_api_interface"><td class="mdescLeft">&#160;</td><td class="mdescRight">deprecated  <a href="#a3787df628fe057fdf09521cb325463ae">More...</a><br/></td></tr>
<tr class="separator:a3787df628fe057fdf09521cb325463ae inherit pub_methods_class_api_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5b724acc3f8c01b9a954e5996f2ae9c inherit pub_methods_class_api_interface"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_api_interface.html#ae5b724acc3f8c01b9a954e5996f2ae9c">selectRows</a> (<a class="el" href="_transaction_8h.html#a10deed48db84d832b5b0fb42c0f15466">apifPtr</a> re, int64_t recmd, void *reptr, int64_t tableid, int64_t fieldid, <a class="el" href="infinisql_8h.html#ae4840ab04fbdcaa7ef849bc424a7b86a">locktype_e</a> locktype, <a class="el" href="infinisql_8h.html#a9061badccbe3f49b7e98e80c038c79e2">operatortypes_e</a> op, vector&lt; string &gt; *input)</td></tr>
<tr class="memdesc:ae5b724acc3f8c01b9a954e5996f2ae9c inherit pub_methods_class_api_interface"><td class="mdescLeft">&#160;</td><td class="mdescRight">deprecated  <a href="#ae5b724acc3f8c01b9a954e5996f2ae9c">More...</a><br/></td></tr>
<tr class="separator:ae5b724acc3f8c01b9a954e5996f2ae9c inherit pub_methods_class_api_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a940e32a0753dddec9ed488a76afb229c inherit pub_methods_class_api_interface"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_api_interface.html#a940e32a0753dddec9ed488a76afb229c">selectRows</a> (<a class="el" href="_transaction_8h.html#a10deed48db84d832b5b0fb42c0f15466">apifPtr</a> re, int64_t recmd, void *reptr, int64_t tableid, int64_t fieldid, <a class="el" href="infinisql_8h.html#ae4840ab04fbdcaa7ef849bc424a7b86a">locktype_e</a> locktype, <a class="el" href="infinisql_8h.html#a9061badccbe3f49b7e98e80c038c79e2">operatortypes_e</a> op, int64_t lower, int64_t upper)</td></tr>
<tr class="memdesc:a940e32a0753dddec9ed488a76afb229c inherit pub_methods_class_api_interface"><td class="mdescLeft">&#160;</td><td class="mdescRight">deprecated  <a href="#a940e32a0753dddec9ed488a76afb229c">More...</a><br/></td></tr>
<tr class="separator:a940e32a0753dddec9ed488a76afb229c inherit pub_methods_class_api_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac91adba40e84b9bec82bb638ce49d37c inherit pub_methods_class_api_interface"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_api_interface.html#ac91adba40e84b9bec82bb638ce49d37c">selectRows</a> (<a class="el" href="_transaction_8h.html#a10deed48db84d832b5b0fb42c0f15466">apifPtr</a> re, int64_t recmd, void *reptr, int64_t tableid, int64_t fieldid, <a class="el" href="infinisql_8h.html#ae4840ab04fbdcaa7ef849bc424a7b86a">locktype_e</a> locktype, <a class="el" href="infinisql_8h.html#a9061badccbe3f49b7e98e80c038c79e2">operatortypes_e</a> op, uint64_t lower, uint64_t upper)</td></tr>
<tr class="memdesc:ac91adba40e84b9bec82bb638ce49d37c inherit pub_methods_class_api_interface"><td class="mdescLeft">&#160;</td><td class="mdescRight">deprecated  <a href="#ac91adba40e84b9bec82bb638ce49d37c">More...</a><br/></td></tr>
<tr class="separator:ac91adba40e84b9bec82bb638ce49d37c inherit pub_methods_class_api_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70bc613728187c4e954c0485d675d05e inherit pub_methods_class_api_interface"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_api_interface.html#a70bc613728187c4e954c0485d675d05e">selectRows</a> (<a class="el" href="_transaction_8h.html#a10deed48db84d832b5b0fb42c0f15466">apifPtr</a> re, int64_t recmd, void *reptr, int64_t tableid, int64_t fieldid, <a class="el" href="infinisql_8h.html#ae4840ab04fbdcaa7ef849bc424a7b86a">locktype_e</a> locktype, <a class="el" href="infinisql_8h.html#a9061badccbe3f49b7e98e80c038c79e2">operatortypes_e</a> op, bool lower, bool upper)</td></tr>
<tr class="memdesc:a70bc613728187c4e954c0485d675d05e inherit pub_methods_class_api_interface"><td class="mdescLeft">&#160;</td><td class="mdescRight">deprecated  <a href="#a70bc613728187c4e954c0485d675d05e">More...</a><br/></td></tr>
<tr class="separator:a70bc613728187c4e954c0485d675d05e inherit pub_methods_class_api_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcf6d19afa486ee7dec2c1963ec63924 inherit pub_methods_class_api_interface"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_api_interface.html#afcf6d19afa486ee7dec2c1963ec63924">selectRows</a> (<a class="el" href="_transaction_8h.html#a10deed48db84d832b5b0fb42c0f15466">apifPtr</a> re, int64_t recmd, void *reptr, int64_t tableid, int64_t fieldid, <a class="el" href="infinisql_8h.html#ae4840ab04fbdcaa7ef849bc424a7b86a">locktype_e</a> locktype, <a class="el" href="infinisql_8h.html#a9061badccbe3f49b7e98e80c038c79e2">operatortypes_e</a> op, long double lower, long double upper)</td></tr>
<tr class="memdesc:afcf6d19afa486ee7dec2c1963ec63924 inherit pub_methods_class_api_interface"><td class="mdescLeft">&#160;</td><td class="mdescRight">deprecated  <a href="#afcf6d19afa486ee7dec2c1963ec63924">More...</a><br/></td></tr>
<tr class="separator:afcf6d19afa486ee7dec2c1963ec63924 inherit pub_methods_class_api_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aceb241fbfa0f4d6cbf8a9d11d4c997e0 inherit pub_methods_class_api_interface"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_api_interface.html#aceb241fbfa0f4d6cbf8a9d11d4c997e0">selectRows</a> (<a class="el" href="_transaction_8h.html#a10deed48db84d832b5b0fb42c0f15466">apifPtr</a> re, int64_t recmd, void *reptr, int64_t tableid, int64_t fieldid, <a class="el" href="infinisql_8h.html#ae4840ab04fbdcaa7ef849bc424a7b86a">locktype_e</a> locktype, <a class="el" href="infinisql_8h.html#a9061badccbe3f49b7e98e80c038c79e2">operatortypes_e</a> op, char lower, char upper)</td></tr>
<tr class="memdesc:aceb241fbfa0f4d6cbf8a9d11d4c997e0 inherit pub_methods_class_api_interface"><td class="mdescLeft">&#160;</td><td class="mdescRight">deprecated  <a href="#aceb241fbfa0f4d6cbf8a9d11d4c997e0">More...</a><br/></td></tr>
<tr class="separator:aceb241fbfa0f4d6cbf8a9d11d4c997e0 inherit pub_methods_class_api_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a351ca14dd213af9091f1822e9030851c inherit pub_methods_class_api_interface"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_api_interface.html#a351ca14dd213af9091f1822e9030851c">selectRows</a> (<a class="el" href="_transaction_8h.html#a10deed48db84d832b5b0fb42c0f15466">apifPtr</a> re, int64_t recmd, void *reptr, int64_t tableid, int64_t fieldid, <a class="el" href="infinisql_8h.html#ae4840ab04fbdcaa7ef849bc424a7b86a">locktype_e</a> locktype, <a class="el" href="infinisql_8h.html#a9061badccbe3f49b7e98e80c038c79e2">operatortypes_e</a> op, string *lower, string *upper)</td></tr>
<tr class="memdesc:a351ca14dd213af9091f1822e9030851c inherit pub_methods_class_api_interface"><td class="mdescLeft">&#160;</td><td class="mdescRight">deprecated  <a href="#a351ca14dd213af9091f1822e9030851c">More...</a><br/></td></tr>
<tr class="separator:a351ca14dd213af9091f1822e9030851c inherit pub_methods_class_api_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88365d878191d1d0f7fc220ad0fdd8cd inherit pub_methods_class_api_interface"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_api_interface.html#a88365d878191d1d0f7fc220ad0fdd8cd">fetchRows</a> (<a class="el" href="_transaction_8h.html#a10deed48db84d832b5b0fb42c0f15466">apifPtr</a> re, int64_t recmd, void *reptr)</td></tr>
<tr class="memdesc:a88365d878191d1d0f7fc220ad0fdd8cd inherit pub_methods_class_api_interface"><td class="mdescLeft">&#160;</td><td class="mdescRight">deprecated  <a href="#a88365d878191d1d0f7fc220ad0fdd8cd">More...</a><br/></td></tr>
<tr class="separator:a88365d878191d1d0f7fc220ad0fdd8cd inherit pub_methods_class_api_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a829573330c6958169c752878c3d717f4 inherit pub_methods_class_api_interface"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_api_interface.html#a829573330c6958169c752878c3d717f4">unlock</a> (<a class="el" href="_transaction_8h.html#a10deed48db84d832b5b0fb42c0f15466">apifPtr</a> re, int64_t recmd, void *reptr, int64_t rowid, int64_t tableid, int64_t engineid)</td></tr>
<tr class="memdesc:a829573330c6958169c752878c3d717f4 inherit pub_methods_class_api_interface"><td class="mdescLeft">&#160;</td><td class="mdescRight">unlock row  <a href="#a829573330c6958169c752878c3d717f4">More...</a><br/></td></tr>
<tr class="separator:a829573330c6958169c752878c3d717f4 inherit pub_methods_class_api_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1d1423391f1dd6d14b537345b3f64cd inherit pub_methods_class_api_interface"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_api_interface.html#ad1d1423391f1dd6d14b537345b3f64cd">rollback</a> (<a class="el" href="_transaction_8h.html#a10deed48db84d832b5b0fb42c0f15466">apifPtr</a> re, int64_t recmd, void *reptr)</td></tr>
<tr class="memdesc:ad1d1423391f1dd6d14b537345b3f64cd inherit pub_methods_class_api_interface"><td class="mdescLeft">&#160;</td><td class="mdescRight">rollback transaction  <a href="#ad1d1423391f1dd6d14b537345b3f64cd">More...</a><br/></td></tr>
<tr class="separator:ad1d1423391f1dd6d14b537345b3f64cd inherit pub_methods_class_api_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12913077705e0f7885dca839d2014366 inherit pub_methods_class_api_interface"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_api_interface.html#a12913077705e0f7885dca839d2014366">rollback</a> (<a class="el" href="_transaction_8h.html#a10deed48db84d832b5b0fb42c0f15466">apifPtr</a> re, int64_t recmd, void *reptr, <a class="el" href="structuu_record__s.html">uuRecord_s</a> &amp;uur)</td></tr>
<tr class="memdesc:a12913077705e0f7885dca839d2014366 inherit pub_methods_class_api_interface"><td class="mdescLeft">&#160;</td><td class="mdescRight">rollback transaction  <a href="#a12913077705e0f7885dca839d2014366">More...</a><br/></td></tr>
<tr class="separator:a12913077705e0f7885dca839d2014366 inherit pub_methods_class_api_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95a01b40504d9f5b8024221f2805409c inherit pub_methods_class_api_interface"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_api_interface.html#a95a01b40504d9f5b8024221f2805409c">commit</a> (<a class="el" href="_transaction_8h.html#a10deed48db84d832b5b0fb42c0f15466">apifPtr</a> re, int64_t recmd, void *reptr)</td></tr>
<tr class="memdesc:a95a01b40504d9f5b8024221f2805409c inherit pub_methods_class_api_interface"><td class="mdescLeft">&#160;</td><td class="mdescRight">commit transaction  <a href="#a95a01b40504d9f5b8024221f2805409c">More...</a><br/></td></tr>
<tr class="separator:a95a01b40504d9f5b8024221f2805409c inherit pub_methods_class_api_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7238843bdaf0d0d0a04c40501486b2e inherit pub_methods_class_api_interface"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_api_interface.html#ac7238843bdaf0d0d0a04c40501486b2e">revert</a> (<a class="el" href="_transaction_8h.html#a10deed48db84d832b5b0fb42c0f15466">apifPtr</a> re, int64_t recmd, void *reptr, <a class="el" href="structuu_record__s.html">uuRecord_s</a> &amp;uur)</td></tr>
<tr class="memdesc:ac7238843bdaf0d0d0a04c40501486b2e inherit pub_methods_class_api_interface"><td class="mdescLeft">&#160;</td><td class="mdescRight">deprecated  <a href="#ac7238843bdaf0d0d0a04c40501486b2e">More...</a><br/></td></tr>
<tr class="separator:ac7238843bdaf0d0d0a04c40501486b2e inherit pub_methods_class_api_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a431c71ff495e0821ed348846b05539f1 inherit pub_methods_class_api_interface"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_api_interface.html#a431c71ff495e0821ed348846b05539f1">updateRow</a> (<a class="el" href="_transaction_8h.html#a10deed48db84d832b5b0fb42c0f15466">apifPtr</a> re, int64_t recmd, void *reptr, <a class="el" href="structuu_record__s.html">uuRecord_s</a> &amp;uur)</td></tr>
<tr class="memdesc:a431c71ff495e0821ed348846b05539f1 inherit pub_methods_class_api_interface"><td class="mdescLeft">&#160;</td><td class="mdescRight">deprecated  <a href="#a431c71ff495e0821ed348846b05539f1">More...</a><br/></td></tr>
<tr class="separator:a431c71ff495e0821ed348846b05539f1 inherit pub_methods_class_api_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f54064551b6d5159c3e859626719fd1 inherit pub_methods_class_api_interface"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_api_interface.html#a7f54064551b6d5159c3e859626719fd1">updateRowNullField</a> (<a class="el" href="_transaction_8h.html#a10deed48db84d832b5b0fb42c0f15466">apifPtr</a> re, int64_t recmd, void *reptr, <a class="el" href="structuu_record__s.html">uuRecord_s</a> &amp;uur, int64_t fieldid)</td></tr>
<tr class="memdesc:a7f54064551b6d5159c3e859626719fd1 inherit pub_methods_class_api_interface"><td class="mdescLeft">&#160;</td><td class="mdescRight">deprecated  <a href="#a7f54064551b6d5159c3e859626719fd1">More...</a><br/></td></tr>
<tr class="separator:a7f54064551b6d5159c3e859626719fd1 inherit pub_methods_class_api_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2570d23334a47ff232c480dc47b1db1 inherit pub_methods_class_api_interface"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_api_interface.html#ad2570d23334a47ff232c480dc47b1db1">updateRow</a> (<a class="el" href="_transaction_8h.html#a10deed48db84d832b5b0fb42c0f15466">apifPtr</a> re, int64_t recmd, void *reptr, <a class="el" href="structuu_record__s.html">uuRecord_s</a> &amp;uur, int64_t fieldid, int64_t input)</td></tr>
<tr class="memdesc:ad2570d23334a47ff232c480dc47b1db1 inherit pub_methods_class_api_interface"><td class="mdescLeft">&#160;</td><td class="mdescRight">deprecated  <a href="#ad2570d23334a47ff232c480dc47b1db1">More...</a><br/></td></tr>
<tr class="separator:ad2570d23334a47ff232c480dc47b1db1 inherit pub_methods_class_api_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52fa84f5b004159b1aa9e8c5f2d921f8 inherit pub_methods_class_api_interface"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_api_interface.html#a52fa84f5b004159b1aa9e8c5f2d921f8">updateRow</a> (<a class="el" href="_transaction_8h.html#a10deed48db84d832b5b0fb42c0f15466">apifPtr</a> re, int64_t recmd, void *reptr, <a class="el" href="structuu_record__s.html">uuRecord_s</a> &amp;uur, int64_t fieldid, uint64_t input)</td></tr>
<tr class="memdesc:a52fa84f5b004159b1aa9e8c5f2d921f8 inherit pub_methods_class_api_interface"><td class="mdescLeft">&#160;</td><td class="mdescRight">deprecated  <a href="#a52fa84f5b004159b1aa9e8c5f2d921f8">More...</a><br/></td></tr>
<tr class="separator:a52fa84f5b004159b1aa9e8c5f2d921f8 inherit pub_methods_class_api_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7a1dc6bc08d78cdf38813ddab557e13 inherit pub_methods_class_api_interface"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_api_interface.html#ac7a1dc6bc08d78cdf38813ddab557e13">updateRow</a> (<a class="el" href="_transaction_8h.html#a10deed48db84d832b5b0fb42c0f15466">apifPtr</a> re, int64_t recmd, void *reptr, <a class="el" href="structuu_record__s.html">uuRecord_s</a> &amp;uur, int64_t fieldid, bool input)</td></tr>
<tr class="memdesc:ac7a1dc6bc08d78cdf38813ddab557e13 inherit pub_methods_class_api_interface"><td class="mdescLeft">&#160;</td><td class="mdescRight">deprecated  <a href="#ac7a1dc6bc08d78cdf38813ddab557e13">More...</a><br/></td></tr>
<tr class="separator:ac7a1dc6bc08d78cdf38813ddab557e13 inherit pub_methods_class_api_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfebc13e442d269154cde5ad9d4df53d inherit pub_methods_class_api_interface"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_api_interface.html#abfebc13e442d269154cde5ad9d4df53d">updateRow</a> (<a class="el" href="_transaction_8h.html#a10deed48db84d832b5b0fb42c0f15466">apifPtr</a> re, int64_t recmd, void *reptr, <a class="el" href="structuu_record__s.html">uuRecord_s</a> &amp;uur, int64_t fieldid, long double input)</td></tr>
<tr class="memdesc:abfebc13e442d269154cde5ad9d4df53d inherit pub_methods_class_api_interface"><td class="mdescLeft">&#160;</td><td class="mdescRight">deprecated  <a href="#abfebc13e442d269154cde5ad9d4df53d">More...</a><br/></td></tr>
<tr class="separator:abfebc13e442d269154cde5ad9d4df53d inherit pub_methods_class_api_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2fce813eb6698a7549eae915b64c906 inherit pub_methods_class_api_interface"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_api_interface.html#ae2fce813eb6698a7549eae915b64c906">updateRow</a> (<a class="el" href="_transaction_8h.html#a10deed48db84d832b5b0fb42c0f15466">apifPtr</a> re, int64_t recmd, void *reptr, <a class="el" href="structuu_record__s.html">uuRecord_s</a> &amp;uur, int64_t fieldid, char input)</td></tr>
<tr class="memdesc:ae2fce813eb6698a7549eae915b64c906 inherit pub_methods_class_api_interface"><td class="mdescLeft">&#160;</td><td class="mdescRight">deprecated  <a href="#ae2fce813eb6698a7549eae915b64c906">More...</a><br/></td></tr>
<tr class="separator:ae2fce813eb6698a7549eae915b64c906 inherit pub_methods_class_api_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d2adcdaab62d86fb59f14c44185147c inherit pub_methods_class_api_interface"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_api_interface.html#a3d2adcdaab62d86fb59f14c44185147c">updateRow</a> (<a class="el" href="_transaction_8h.html#a10deed48db84d832b5b0fb42c0f15466">apifPtr</a> re, int64_t recmd, void *reptr, <a class="el" href="structuu_record__s.html">uuRecord_s</a> &amp;uur, int64_t fieldid, string input)</td></tr>
<tr class="memdesc:a3d2adcdaab62d86fb59f14c44185147c inherit pub_methods_class_api_interface"><td class="mdescLeft">&#160;</td><td class="mdescRight">deprecated  <a href="#a3d2adcdaab62d86fb59f14c44185147c">More...</a><br/></td></tr>
<tr class="separator:a3d2adcdaab62d86fb59f14c44185147c inherit pub_methods_class_api_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13cace0a005070cc86586d1f47039149 inherit pub_methods_class_api_interface"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_api_interface.html#a13cace0a005070cc86586d1f47039149">unmakerow</a> (int64_t tableid, string *rowstring, vector&lt; <a class="el" href="structfield_value__s.html">fieldValue_s</a> &gt; *resultFields)</td></tr>
<tr class="memdesc:a13cace0a005070cc86586d1f47039149 inherit pub_methods_class_api_interface"><td class="mdescLeft">&#160;</td><td class="mdescRight">deprecated  <a href="#a13cace0a005070cc86586d1f47039149">More...</a><br/></td></tr>
<tr class="separator:a13cace0a005070cc86586d1f47039149 inherit pub_methods_class_api_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a990de7b79c49f0d1b5b3d0de1c85ac4b inherit pub_methods_class_api_interface"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_api_interface.html#a990de7b79c49f0d1b5b3d0de1c85ac4b">prepareResponseVector</a> (int64_t resultCode)</td></tr>
<tr class="memdesc:a990de7b79c49f0d1b5b3d0de1c85ac4b inherit pub_methods_class_api_interface"><td class="mdescLeft">&#160;</td><td class="mdescRight">deprecated  <a href="#a990de7b79c49f0d1b5b3d0de1c85ac4b">More...</a><br/></td></tr>
<tr class="separator:a990de7b79c49f0d1b5b3d0de1c85ac4b inherit pub_methods_class_api_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f2cc48f249332adb115df9f915af2ab inherit pub_methods_class_api_interface"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_api_interface.html#a1f2cc48f249332adb115df9f915af2ab">addFieldToRow</a> ()</td></tr>
<tr class="memdesc:a1f2cc48f249332adb115df9f915af2ab inherit pub_methods_class_api_interface"><td class="mdescLeft">&#160;</td><td class="mdescRight">deprecated  <a href="#a1f2cc48f249332adb115df9f915af2ab">More...</a><br/></td></tr>
<tr class="separator:a1f2cc48f249332adb115df9f915af2ab inherit pub_methods_class_api_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3860abead2df93963dead717536817d inherit pub_methods_class_api_interface"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_api_interface.html#ab3860abead2df93963dead717536817d">addFieldToRow</a> (int64_t val)</td></tr>
<tr class="memdesc:ab3860abead2df93963dead717536817d inherit pub_methods_class_api_interface"><td class="mdescLeft">&#160;</td><td class="mdescRight">deprecated  <a href="#ab3860abead2df93963dead717536817d">More...</a><br/></td></tr>
<tr class="separator:ab3860abead2df93963dead717536817d inherit pub_methods_class_api_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30f1923db0963e8bb2de98194d3a6e71 inherit pub_methods_class_api_interface"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_api_interface.html#a30f1923db0963e8bb2de98194d3a6e71">addFieldToRow</a> (uint64_t val)</td></tr>
<tr class="memdesc:a30f1923db0963e8bb2de98194d3a6e71 inherit pub_methods_class_api_interface"><td class="mdescLeft">&#160;</td><td class="mdescRight">deprecated  <a href="#a30f1923db0963e8bb2de98194d3a6e71">More...</a><br/></td></tr>
<tr class="separator:a30f1923db0963e8bb2de98194d3a6e71 inherit pub_methods_class_api_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7adf4ff6bc4ba781cc5a636c1ece5d94 inherit pub_methods_class_api_interface"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_api_interface.html#a7adf4ff6bc4ba781cc5a636c1ece5d94">addFieldToRow</a> (bool val)</td></tr>
<tr class="memdesc:a7adf4ff6bc4ba781cc5a636c1ece5d94 inherit pub_methods_class_api_interface"><td class="mdescLeft">&#160;</td><td class="mdescRight">deprecated  <a href="#a7adf4ff6bc4ba781cc5a636c1ece5d94">More...</a><br/></td></tr>
<tr class="separator:a7adf4ff6bc4ba781cc5a636c1ece5d94 inherit pub_methods_class_api_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab860dad313241dd648907d66f78753fa inherit pub_methods_class_api_interface"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_api_interface.html#ab860dad313241dd648907d66f78753fa">addFieldToRow</a> (long double val)</td></tr>
<tr class="memdesc:ab860dad313241dd648907d66f78753fa inherit pub_methods_class_api_interface"><td class="mdescLeft">&#160;</td><td class="mdescRight">deprecated  <a href="#ab860dad313241dd648907d66f78753fa">More...</a><br/></td></tr>
<tr class="separator:ab860dad313241dd648907d66f78753fa inherit pub_methods_class_api_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31dab98e083ab3b528a48161aa5235e8 inherit pub_methods_class_api_interface"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_api_interface.html#a31dab98e083ab3b528a48161aa5235e8">addFieldToRow</a> (char val)</td></tr>
<tr class="memdesc:a31dab98e083ab3b528a48161aa5235e8 inherit pub_methods_class_api_interface"><td class="mdescLeft">&#160;</td><td class="mdescRight">deprecated  <a href="#a31dab98e083ab3b528a48161aa5235e8">More...</a><br/></td></tr>
<tr class="separator:a31dab98e083ab3b528a48161aa5235e8 inherit pub_methods_class_api_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6dac66cd41d165fc841de7df73b246af inherit pub_methods_class_api_interface"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_api_interface.html#a6dac66cd41d165fc841de7df73b246af">addFieldToRow</a> (string &amp;val)</td></tr>
<tr class="memdesc:a6dac66cd41d165fc841de7df73b246af inherit pub_methods_class_api_interface"><td class="mdescLeft">&#160;</td><td class="mdescRight">deprecated  <a href="#a6dac66cd41d165fc841de7df73b246af">More...</a><br/></td></tr>
<tr class="separator:a6dac66cd41d165fc841de7df73b246af inherit pub_methods_class_api_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad34d67f168ca1f406dcb5e55892e973a inherit pub_methods_class_api_interface"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_api_interface.html#ad34d67f168ca1f406dcb5e55892e973a">setReEntry</a> (<a class="el" href="_transaction_8h.html#a10deed48db84d832b5b0fb42c0f15466">apifPtr</a> re, int64_t recmd, void *reptr)</td></tr>
<tr class="memdesc:ad34d67f168ca1f406dcb5e55892e973a inherit pub_methods_class_api_interface"><td class="mdescLeft">&#160;</td><td class="mdescRight">set continuation target back to <a class="el" href="class_api_interface.html" title="Stored procedure API. ">ApiInterface</a> object  <a href="#ad34d67f168ca1f406dcb5e55892e973a">More...</a><br/></td></tr>
<tr class="separator:ad34d67f168ca1f406dcb5e55892e973a inherit pub_methods_class_api_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a1a73f032a58252940033976336a459 inherit pub_methods_class_api_interface"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_api_interface.html#a4a1a73f032a58252940033976336a459">sendResponse</a> (int64_t resultCode, vector&lt; std::string &gt; *v)</td></tr>
<tr class="memdesc:a4a1a73f032a58252940033976336a459 inherit pub_methods_class_api_interface"><td class="mdescLeft">&#160;</td><td class="mdescRight">deprecated  <a href="#a4a1a73f032a58252940033976336a459">More...</a><br/></td></tr>
<tr class="separator:a4a1a73f032a58252940033976336a459 inherit pub_methods_class_api_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ae3b20b7d891c713c02575e8795483b inherit pub_methods_class_api_interface"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_api_interface.html#a3ae3b20b7d891c713c02575e8795483b">execStatement</a> (const char *stmtname, <a class="el" href="class_statement.html">Statement</a> *stmtPtr, <a class="el" href="_transaction_8h.html#a10deed48db84d832b5b0fb42c0f15466">apifPtr</a> reentryfunction, int64_t reentrypoint, void *reentrydata)</td></tr>
<tr class="memdesc:a3ae3b20b7d891c713c02575e8795483b inherit pub_methods_class_api_interface"><td class="mdescLeft">&#160;</td><td class="mdescRight">execute SQL statement  <a href="#a3ae3b20b7d891c713c02575e8795483b">More...</a><br/></td></tr>
<tr class="separator:a3ae3b20b7d891c713c02575e8795483b inherit pub_methods_class_api_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa98cd6da46180185e425a6efa84bf950 inherit pub_methods_class_api_interface"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_api_interface.html#aa98cd6da46180185e425a6efa84bf950">execStatement</a> (const char *stmtname, vector&lt; std::string &gt; &amp;args, <a class="el" href="_transaction_8h.html#a10deed48db84d832b5b0fb42c0f15466">apifPtr</a> reentryfunction, int64_t reentrypoint, void *reentrydata)</td></tr>
<tr class="memdesc:aa98cd6da46180185e425a6efa84bf950 inherit pub_methods_class_api_interface"><td class="mdescLeft">&#160;</td><td class="mdescRight">execute SQL statement  <a href="#aa98cd6da46180185e425a6efa84bf950">More...</a><br/></td></tr>
<tr class="separator:aa98cd6da46180185e425a6efa84bf950 inherit pub_methods_class_api_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b6870116c355fe0ceb39c9a69a2a895 inherit pub_methods_class_api_interface"><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_api_interface.html#a3b6870116c355fe0ceb39c9a69a2a895">getResultCode</a> ()</td></tr>
<tr class="memdesc:a3b6870116c355fe0ceb39c9a69a2a895 inherit pub_methods_class_api_interface"><td class="mdescLeft">&#160;</td><td class="mdescRight">get resultCode from most recent transactional activity  <a href="#a3b6870116c355fe0ceb39c9a69a2a895">More...</a><br/></td></tr>
<tr class="separator:a3b6870116c355fe0ceb39c9a69a2a895 inherit pub_methods_class_api_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a529860fdb0d39820f0966a2035516336 inherit pub_methods_class_api_interface"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_api_interface.html#a529860fdb0d39820f0966a2035516336">deleteTransaction</a> ()</td></tr>
<tr class="memdesc:a529860fdb0d39820f0966a2035516336 inherit pub_methods_class_api_interface"><td class="mdescLeft">&#160;</td><td class="mdescRight">delete <a class="el" href="class_transaction.html" title="create Transaction object ">Transaction</a>  <a href="#a529860fdb0d39820f0966a2035516336">More...</a><br/></td></tr>
<tr class="separator:a529860fdb0d39820f0966a2035516336 inherit pub_methods_class_api_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a6ffb3c392a36387a77c407dbfb9215 inherit pub_methods_class_api_interface"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_api_interface.html#a9a6ffb3c392a36387a77c407dbfb9215">deleteStatement</a> ()</td></tr>
<tr class="memdesc:a9a6ffb3c392a36387a77c407dbfb9215 inherit pub_methods_class_api_interface"><td class="mdescLeft">&#160;</td><td class="mdescRight">delete <a class="el" href="class_statement.html" title="contains all necessary information to execute a SQL statement ">Statement</a>  <a href="#a9a6ffb3c392a36387a77c407dbfb9215">More...</a><br/></td></tr>
<tr class="separator:a9a6ffb3c392a36387a77c407dbfb9215 inherit pub_methods_class_api_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6fcd2255dfa9f4179b75c22742cd39e inherit pub_methods_class_api_interface"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_api_interface.html#ae6fcd2255dfa9f4179b75c22742cd39e">getStoredProcedureArgs</a> (<a class="el" href="class_statement.html">Statement</a> *stmtPtr, std::vector&lt; std::string &gt; &amp;argsRef)</td></tr>
<tr class="memdesc:ae6fcd2255dfa9f4179b75c22742cd39e inherit pub_methods_class_api_interface"><td class="mdescLeft">&#160;</td><td class="mdescRight">put args from stored procedure <a class="el" href="class_statement.html" title="contains all necessary information to execute a SQL statement ">Statement</a> into vector of strings  <a href="#ae6fcd2255dfa9f4179b75c22742cd39e">More...</a><br/></td></tr>
<tr class="separator:ae6fcd2255dfa9f4179b75c22742cd39e inherit pub_methods_class_api_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ac6ac0dd94a70fd221b3807ecf908f251"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pg.html#ac6ac0dd94a70fd221b3807ecf908f251">pgclosesocket</a> (class <a class="el" href="class_transaction_agent.html">TransactionAgent</a> &amp;taRef, int socketfd)</td></tr>
<tr class="memdesc:ac6ac0dd94a70fd221b3807ecf908f251"><td class="mdescLeft">&#160;</td><td class="mdescRight">more socket closing-related activities  <a href="#ac6ac0dd94a70fd221b3807ecf908f251">More...</a><br/></td></tr>
<tr class="separator:ac6ac0dd94a70fd221b3807ecf908f251"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ada3091b1aa6c1f463bbc773b02bef89c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_pg.html#a3dfd8436412740e96fafae7516a6050a">states_e</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pg.html#ada3091b1aa6c1f463bbc773b02bef89c">state</a></td></tr>
<tr class="separator:ada3091b1aa6c1f463bbc773b02bef89c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a795eae49ac0f05051ee3c975d67f160a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pg.html#a795eae49ac0f05051ee3c975d67f160a">sockfd</a></td></tr>
<tr class="separator:a795eae49ac0f05051ee3c975d67f160a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb9e7b85177f05536150dfe87aa0f43d"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pg.html#afb9e7b85177f05536150dfe87aa0f43d">pgcmdtype</a></td></tr>
<tr class="separator:afb9e7b85177f05536150dfe87aa0f43d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada77aac586bbf5345f3891eea170199d"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pg.html#ada77aac586bbf5345f3891eea170199d">size</a></td></tr>
<tr class="separator:ada77aac586bbf5345f3891eea170199d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a467c503836324c5b55d20d7e45c68820"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pg.html#a467c503836324c5b55d20d7e45c68820">inbuf</a></td></tr>
<tr class="separator:a467c503836324c5b55d20d7e45c68820"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19b186dee0f148ff572552c14becf24b"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pg.html#a19b186dee0f148ff572552c14becf24b">pos</a></td></tr>
<tr class="separator:a19b186dee0f148ff572552c14becf24b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8b47198d0557fe10844ee2243553fef"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pg.html#ae8b47198d0557fe10844ee2243553fef">outcmd</a></td></tr>
<tr class="separator:ae8b47198d0557fe10844ee2243553fef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2edef6fb7636b158308f0bfbd757dfc7"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pg.html#a2edef6fb7636b158308f0bfbd757dfc7">outmsg</a></td></tr>
<tr class="separator:a2edef6fb7636b158308f0bfbd757dfc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa66ae17967b8ab82d4753e70598818f1"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pg.html#aa66ae17967b8ab82d4753e70598818f1">outbuf</a></td></tr>
<tr class="separator:aa66ae17967b8ab82d4753e70598818f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f40f67fe0e47628c6bc7ed8053e95a6"><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pg.html#a3f40f67fe0e47628c6bc7ed8053e95a6">userid</a></td></tr>
<tr class="separator:a3f40f67fe0e47628c6bc7ed8053e95a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02b793188e489b313841541b6cc95045"><td class="memItemLeft" align="right" valign="top">class <a class="el" href="class_schema.html">Schema</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pg.html#a02b793188e489b313841541b6cc95045">schemaPtr</a></td></tr>
<tr class="separator:a02b793188e489b313841541b6cc95045"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabfd82fedcd274f8955cfcbe123015fd"><td class="memItemLeft" align="right" valign="top">boost::unordered_map<br class="typebreak"/>
&lt; std::string, std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pg.html#aabfd82fedcd274f8955cfcbe123015fd">startupArgs</a></td></tr>
<tr class="separator:aabfd82fedcd274f8955cfcbe123015fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a550e4a1da1210646ead838dfdf66bd14"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pg.html#a550e4a1da1210646ead838dfdf66bd14">procedureprefix</a></td></tr>
<tr class="separator:a550e4a1da1210646ead838dfdf66bd14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7951fb241c5eb477043de68f40445f17"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pg.html#a7951fb241c5eb477043de68f40445f17">session_isautocommit</a></td></tr>
<tr class="separator:a7951fb241c5eb477043de68f40445f17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ca4c75980e4c98d1dd74829d9ab259d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pg.html#a0ca4c75980e4c98d1dd74829d9ab259d">command_autocommit</a></td></tr>
<tr class="separator:a0ca4c75980e4c98d1dd74829d9ab259d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6a3e38d25a2fc5a56b6f6a9a8038a46"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pg.html#af6a3e38d25a2fc5a56b6f6a9a8038a46">isintransactionblock</a></td></tr>
<tr class="separator:af6a3e38d25a2fc5a56b6f6a9a8038a46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_attribs_class_api_interface"><td colspan="2" onclick="javascript:toggleInherit('pub_attribs_class_api_interface')"><img src="closed.png" alt="-"/>&#160;Public Attributes inherited from <a class="el" href="class_api_interface.html">ApiInterface</a></td></tr>
<tr class="memitem:ab8927a476baf6830781f3528765591ab inherit pub_attribs_class_api_interface"><td class="memItemLeft" align="right" valign="top">class <a class="el" href="class_transaction_agent.html">TransactionAgent</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_api_interface.html#ab8927a476baf6830781f3528765591ab">taPtr</a></td></tr>
<tr class="separator:ab8927a476baf6830781f3528765591ab inherit pub_attribs_class_api_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9192f6e8cb7de3974cf0eb941b781628 inherit pub_attribs_class_api_interface"><td class="memItemLeft" align="right" valign="top">class <a class="el" href="class_api_interface.html">ApiInterface</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_api_interface.html#a9192f6e8cb7de3974cf0eb941b781628">pgPtr</a></td></tr>
<tr class="separator:a9192f6e8cb7de3974cf0eb941b781628 inherit pub_attribs_class_api_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d905b470f3bf5752032a637fe3545fd inherit pub_attribs_class_api_interface"><td class="memItemLeft" align="right" valign="top">class <a class="el" href="class_statement.html">Statement</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_api_interface.html#a9d905b470f3bf5752032a637fe3545fd">statementPtr</a></td></tr>
<tr class="separator:a9d905b470f3bf5752032a637fe3545fd inherit pub_attribs_class_api_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87116bf8f0d2b99ebf3bb80589859798 inherit pub_attribs_class_api_interface"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_api_interface.html#a87116bf8f0d2b99ebf3bb80589859798">inputVector</a></td></tr>
<tr class="separator:a87116bf8f0d2b99ebf3bb80589859798 inherit pub_attribs_class_api_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bbe3b808315357bc57f002abb161cb5 inherit pub_attribs_class_api_interface"><td class="memItemLeft" align="right" valign="top">class <a class="el" href="class_transaction.html">Transaction</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_api_interface.html#a7bbe3b808315357bc57f002abb161cb5">transactionPtr</a></td></tr>
<tr class="separator:a7bbe3b808315357bc57f002abb161cb5 inherit pub_attribs_class_api_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6dfc7c46a91b9d3c47688f18b516ac0 inherit pub_attribs_class_api_interface"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structprocedure_response__s.html">procedureResponse_s</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_api_interface.html#ae6dfc7c46a91b9d3c47688f18b516ac0">response</a></td></tr>
<tr class="separator:ae6dfc7c46a91b9d3c47688f18b516ac0 inherit pub_attribs_class_api_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec15bb0197b44b3b5bec5ddf650174ca inherit pub_attribs_class_api_interface"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_api_interface.html#aec15bb0197b44b3b5bec5ddf650174ca">responseVector</a></td></tr>
<tr class="separator:aec15bb0197b44b3b5bec5ddf650174ca inherit pub_attribs_class_api_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30c83184e14cccf18960c59a18d89da8 inherit pub_attribs_class_api_interface"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_api_interface.html#a30c83184e14cccf18960c59a18d89da8">destroyerPtr</a></td></tr>
<tr class="separator:a30c83184e14cccf18960c59a18d89da8 inherit pub_attribs_class_api_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fb015201bfd85ef654d8394f0c72119 inherit pub_attribs_class_api_interface"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_transaction_8h.html#a10deed48db84d832b5b0fb42c0f15466">apifPtr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_api_interface.html#a4fb015201bfd85ef654d8394f0c72119">continueFunc1Ptr</a></td></tr>
<tr class="separator:a4fb015201bfd85ef654d8394f0c72119 inherit pub_attribs_class_api_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a1d9f2d8d2dfcbac19fb13d9d5f630d inherit pub_attribs_class_api_interface"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_transaction_8h.html#a10deed48db84d832b5b0fb42c0f15466">apifPtr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_api_interface.html#a9a1d9f2d8d2dfcbac19fb13d9d5f630d">continueFunc2Ptr</a></td></tr>
<tr class="separator:a9a1d9f2d8d2dfcbac19fb13d9d5f630d inherit pub_attribs_class_api_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9421c15d72f537dff4632b4110eee81 inherit pub_attribs_class_api_interface"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_transaction_8h.html#a10deed48db84d832b5b0fb42c0f15466">apifPtr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_api_interface.html#ae9421c15d72f537dff4632b4110eee81">continuePgFuncPtr</a></td></tr>
<tr class="separator:ae9421c15d72f537dff4632b4110eee81 inherit pub_attribs_class_api_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cef617b3901ed304e32cf534579dfe1 inherit pub_attribs_class_api_interface"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_api_interface.html#a0cef617b3901ed304e32cf534579dfe1">sockfd</a></td></tr>
<tr class="separator:a0cef617b3901ed304e32cf534579dfe1 inherit pub_attribs_class_api_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03b4ff3fc21b9f56bec1e57d8e9f90bb inherit pub_attribs_class_api_interface"><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_api_interface.html#a03b4ff3fc21b9f56bec1e57d8e9f90bb">domainid</a></td></tr>
<tr class="separator:a03b4ff3fc21b9f56bec1e57d8e9f90bb inherit pub_attribs_class_api_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a457bd797da91eee8ce3f3d59be2ae4ec inherit pub_attribs_class_api_interface"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_api_interface_1_1results__s.html">results_s</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_api_interface.html#a457bd797da91eee8ce3f3d59be2ae4ec">results</a></td></tr>
<tr class="separator:a457bd797da91eee8ce3f3d59be2ae4ec inherit pub_attribs_class_api_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>object that handles SQL activities </p>
<p>implements PostgreSQL frontend/backend protocol, version 3: <a href="http://www.postgresql.org/docs/7.4/static/protocol.html">http://www.postgresql.org/docs/7.4/static/protocol.html</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">entrypoint</td><td></td></tr>
    <tr><td class="paramname">statePtr</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="_pg_8h_source.html#l00047">47</a> of file <a class="el" href="_pg_8h_source.html">Pg.h</a>.</p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a class="anchor" id="a3dfd8436412740e96fafae7516a6050a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="class_pg.html#a3dfd8436412740e96fafae7516a6050a">Pg::states_e</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>states for an SQL connection </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="a3dfd8436412740e96fafae7516a6050aa32d54744d0859d6b6f3475ea844181cd"></a>STATE_NONE</em>&nbsp;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a3dfd8436412740e96fafae7516a6050aa9ac9445ae8e14932b697d454cafd4dff"></a>STATE_BEGIN</em>&nbsp;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a3dfd8436412740e96fafae7516a6050aa4d9da4aee89b0c6c7b2ab9aeb4709262"></a>STATE_AUTH</em>&nbsp;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a3dfd8436412740e96fafae7516a6050aaacd8781f9b4894944ac521960edaa181"></a>STATE_ESTABLISHED</em>&nbsp;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a3dfd8436412740e96fafae7516a6050aaa6f47c9d45fd56ad81b3cbb04a7def65"></a>STATE_ABORTED</em>&nbsp;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a3dfd8436412740e96fafae7516a6050aad3b3a04101f0f52861d7edf8b62e02dc"></a>STATE_EXITING</em>&nbsp;</td><td class="fielddoc">
</td></tr>
</table>

<p>Definition at line <a class="el" href="_pg_8h_source.html#l00054">54</a> of file <a class="el" href="_pg_8h_source.html">Pg.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    {</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        <a class="code" href="class_pg.html#a3dfd8436412740e96fafae7516a6050aa32d54744d0859d6b6f3475ea844181cd">STATE_NONE</a> = 0,</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        <a class="code" href="class_pg.html#a3dfd8436412740e96fafae7516a6050aa9ac9445ae8e14932b697d454cafd4dff">STATE_BEGIN</a>,</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        <a class="code" href="class_pg.html#a3dfd8436412740e96fafae7516a6050aa4d9da4aee89b0c6c7b2ab9aeb4709262">STATE_AUTH</a>,</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        <a class="code" href="class_pg.html#a3dfd8436412740e96fafae7516a6050aaacd8781f9b4894944ac521960edaa181">STATE_ESTABLISHED</a>,</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        <a class="code" href="class_pg.html#a3dfd8436412740e96fafae7516a6050aaa6f47c9d45fd56ad81b3cbb04a7def65">STATE_ABORTED</a>,</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        <a class="code" href="class_pg.html#a3dfd8436412740e96fafae7516a6050aad3b3a04101f0f52861d7edf8b62e02dc">STATE_EXITING</a></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    };</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a6367317bde051076086c1a8c026e9446"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Pg::Pg </td>
          <td>(</td>
          <td class="paramtype">class <a class="el" href="class_transaction_agent.html">TransactionAgent</a> *&#160;</td>
          <td class="paramname"><em>entrypoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>statePtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_pg_8cc_source.html#l00037">37</a> of file <a class="el" href="_pg_8cc_source.html">Pg.cc</a>.</p>

<p>References <a class="el" href="infinisql_8h_source.html#l00740">ApiInterface::domainid</a>, <a class="el" href="_transaction_agent_8h_source.html#l00489">TransactionAgent::Pgs</a>, <a class="el" href="_pg_8h_source.html#l00445">sockfd</a>, <a class="el" href="infinisql_8h_source.html#l00730">ApiInterface::statementPtr</a>, <a class="el" href="infinisql_8h_source.html#l00728">ApiInterface::taPtr</a>, and <a class="el" href="infinisql_8h_source.html#l00732">ApiInterface::transactionPtr</a>.</p>
<div class="fragment"><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;                                                      :</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <a class="code" href="class_pg.html#ada3091b1aa6c1f463bbc773b02bef89c">state</a>(<a class="code" href="class_pg.html#a3dfd8436412740e96fafae7516a6050aa9ac9445ae8e14932b697d454cafd4dff">STATE_BEGIN</a>),</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    <a class="code" href="class_pg.html#a795eae49ac0f05051ee3c975d67f160a">sockfd</a>(sockfdarg), <a class="code" href="class_pg.html#afb9e7b85177f05536150dfe87aa0f43d">pgcmdtype</a>(<span class="charliteral">&#39;\0&#39;</span>), <a class="code" href="class_pg.html#ada77aac586bbf5345f3891eea170199d">size</a>(0), <a class="code" href="class_pg.html#ae8b47198d0557fe10844ee2243553fef">outcmd</a>(<span class="charliteral">&#39;\0&#39;</span>), <a class="code" href="class_pg.html#a3f40f67fe0e47628c6bc7ed8053e95a6">userid</a>(-1),</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    <a class="code" href="class_pg.html#a02b793188e489b313841541b6cc95045">schemaPtr</a>(NULL), <a class="code" href="class_pg.html#a7951fb241c5eb477043de68f40445f17">session_isautocommit</a>(<span class="keyword">true</span>), <a class="code" href="class_pg.html#af6a3e38d25a2fc5a56b6f6a9a8038a46">isintransactionblock</a>(<span class="keyword">false</span>)</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;{</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <a class="code" href="class_api_interface.html#a03b4ff3fc21b9f56bec1e57d8e9f90bb">domainid</a>=-1;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <a class="code" href="class_api_interface.html#ab8927a476baf6830781f3528765591ab">taPtr</a> = taPtrarg;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <a class="code" href="class_api_interface.html#a9d905b470f3bf5752032a637fe3545fd">statementPtr</a>=NULL;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <a class="code" href="class_api_interface.html#a7bbe3b808315357bc57f002abb161cb5">transactionPtr</a>=NULL;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <a class="code" href="class_api_interface.html#ab8927a476baf6830781f3528765591ab">taPtr</a>-&gt;<a class="code" href="class_transaction_agent.html#aa39c94b3f227793c649557b136d2b895">Pgs</a>[<a class="code" href="class_pg.html#a795eae49ac0f05051ee3c975d67f160a">sockfd</a>]=<span class="keyword">this</span>;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a85530c6c5a69e6cebe6d6f2b17efd786"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Pg::~Pg </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_pg_8cc_source.html#l00050">50</a> of file <a class="el" href="_pg_8cc_source.html">Pg.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;{</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a23146f712d62c6b5c4537b55dbc89727"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Pg::closesocket </td>
          <td>(</td>
          <td class="paramtype">class <a class="el" href="class_transaction_agent.html">TransactionAgent</a> &amp;&#160;</td>
          <td class="paramname"><em>taRef</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>close socket </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">taRef</td><td><a class="el" href="class_transaction_agent.html" title="execute Transaction Agent actor ">TransactionAgent</a> </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_pg_8cc_source.html#l00372">372</a> of file <a class="el" href="_pg_8cc_source.html">Pg.cc</a>.</p>

<p>References <a class="el" href="class_api_interface.html#a0ec871d856f976629ce78d5fc3e4e9d5">ApiInterface::continuePgCommitimplicit()</a>, <a class="el" href="_pg_8cc_source.html#l00394">pgclosesocket()</a>, <a class="el" href="_transaction_8h_source.html#l00608">Transaction::reentryCmd</a>, <a class="el" href="_transaction_8h_source.html#l00607">Transaction::reentryFuncPtr</a>, <a class="el" href="_transaction_8h_source.html#l00606">Transaction::reentryObject</a>, <a class="el" href="_transaction_8h_source.html#l00609">Transaction::reentryState</a>, <a class="el" href="_transaction_8cc_source.html#l02086">Transaction::rollback()</a>, <a class="el" href="_pg_8h_source.html#l00445">sockfd</a>, <a class="el" href="_pg_8h_source.html#l00444">state</a>, <a class="el" href="_pg_8h_source.html#l00061">STATE_EXITING</a>, <a class="el" href="infinisql_8h_source.html#l00730">ApiInterface::statementPtr</a>, and <a class="el" href="infinisql_8h_source.html#l00732">ApiInterface::transactionPtr</a>.</p>

<p>Referenced by <a class="el" href="_pg_8cc_source.html#l00055">cont()</a>, <a class="el" href="_pg_8cc_source.html#l01446">continuePgCommitexplicit()</a>, <a class="el" href="_pg_8cc_source.html#l01420">continuePgCommitimplicit()</a>, <a class="el" href="_pg_8cc_source.html#l00876">continuePgFunc()</a>, <a class="el" href="_pg_8cc_source.html#l01499">continuePgRollbackexplicit()</a>, <a class="el" href="_pg_8cc_source.html#l01542">putAuthenticationOk()</a>, and <a class="el" href="_pg_8cc_source.html#l01141">putErrorResponse()</a>.</p>
<div class="fragment"><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;{</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <a class="code" href="class_pg.html#ada3091b1aa6c1f463bbc773b02bef89c">state</a>=<a class="code" href="class_pg.html#a3dfd8436412740e96fafae7516a6050aad3b3a04101f0f52861d7edf8b62e02dc">STATE_EXITING</a>;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <a class="code" href="class_pg.html#ac6ac0dd94a70fd221b3807ecf908f251" title="more socket closing-related activities ">pgclosesocket</a>(taRef, <a class="code" href="class_pg.html#a795eae49ac0f05051ee3c975d67f160a">sockfd</a>);</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <a class="code" href="class_pg.html#a795eae49ac0f05051ee3c975d67f160a">sockfd</a>=-1;</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_api_interface.html#a7bbe3b808315357bc57f002abb161cb5">transactionPtr</a> != NULL)</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    {</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        <a class="code" href="class_api_interface.html#a7bbe3b808315357bc57f002abb161cb5">transactionPtr</a>-&gt;<a class="code" href="class_transaction.html#afcf4ef203fcdd9a00037dd4536cb17fe">reentryObject</a> = NULL;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;        <a class="code" href="class_api_interface.html#a7bbe3b808315357bc57f002abb161cb5">transactionPtr</a>-&gt;<a class="code" href="class_transaction.html#ae9e728dd39b295f762b995a8f68b57bc">reentryFuncPtr</a> = &amp;<a class="code" href="class_api_interface.html#a0ec871d856f976629ce78d5fc3e4e9d5" title="continuation function after implicit commit ">ApiInterface::continuePgCommitimplicit</a>;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        <a class="code" href="class_api_interface.html#a7bbe3b808315357bc57f002abb161cb5">transactionPtr</a>-&gt;<a class="code" href="class_transaction.html#ae9338ebefa8fd88af773ce9383a32246">reentryCmd</a> = 1;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        <a class="code" href="class_api_interface.html#a7bbe3b808315357bc57f002abb161cb5">transactionPtr</a>-&gt;<a class="code" href="class_transaction.html#ad372af545a1a497c37b678f3a6ee07d0">reentryState</a> = NULL;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;        <a class="code" href="class_api_interface.html#a7bbe3b808315357bc57f002abb161cb5">transactionPtr</a>-&gt;<a class="code" href="class_transaction.html#a000e4f0882139eb8470f7472ca14a24e" title="ROLLBACK. ">rollback</a>();</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    }</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_api_interface.html#a9d905b470f3bf5752032a637fe3545fd">statementPtr</a>==NULL)</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    {</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        <span class="keyword">delete</span> <span class="keyword">this</span>;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    }</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_pg_a23146f712d62c6b5c4537b55dbc89727_cgraph.png" border="0" usemap="#class_pg_a23146f712d62c6b5c4537b55dbc89727_cgraph" alt=""/></div>
<map name="class_pg_a23146f712d62c6b5c4537b55dbc89727_cgraph" id="class_pg_a23146f712d62c6b5c4537b55dbc89727_cgraph">
<area shape="rect" id="node3" href="class_api_interface.html#a0ec871d856f976629ce78d5fc3e4e9d5" title="continuation function after implicit commit " alt="" coords="171,41,336,87"/><area shape="rect" id="node5" href="class_pg.html#ac6ac0dd94a70fd221b3807ecf908f251" title="more socket closing&#45;related activities " alt="" coords="188,111,319,140"/><area shape="rect" id="node7" href="class_transaction.html#a000e4f0882139eb8470f7472ca14a24e" title="ROLLBACK. " alt="" coords="183,164,324,193"/><area shape="rect" id="node9" href="class_transaction.html#a58d291fe5c0ee6984aa71a79c7126376" title="send MessageTransaction variant to Engine " alt="" coords="384,112,579,141"/><area shape="rect" id="node11" href="class_mboxes.html#a956f8e7626423edfd33db7a185b8b352" title="produce Message for Engine associated with specific partition " alt="" coords="628,139,761,168"/><area shape="rect" id="node27" href="class_transaction.html#a62cfbd3f256c6b36cfdd16cddf1ab5fe" title="continue back to calling function " alt="" coords="412,216,551,245"/><area shape="rect" id="node13" href="class_mbox_producer.html#a9ca818bdf4ef9bacbaa6cb1d63a68dbd" title="produce Message onto mailbox " alt="" coords="812,112,977,141"/><area shape="rect" id="node24" href="class_message.html#a8f4edea412ed3bbaa8d3cf2d1d48b8b3" title="put addresses in Message variant envelope " alt="" coords="817,165,972,195"/><area shape="rect" id="node15" href="class_mbox.html#a5311178f7221ffa942fa128424ac9a86" title="create 128bit integer from Message object " alt="" coords="1027,5,1213,35"/><area shape="rect" id="node17" href="class_mbox.html#ae545aa094bc902b10f9b1e042c24e42b" title="return Message pointer from 128bit integer " alt="" coords="1072,59,1168,88"/><area shape="rect" id="node19" href="class_mboxes.html#abaaf6c0d67c235bcb17e7f9e935861cf" title="send batched Message objects destined to remote nodes " alt="" coords="1043,112,1197,141"/><area shape="rect" id="node22" href="class_message.html#a4508c42d7366a86327ca3076eb1ff007" title="return serialized Message variant string " alt="" coords="1057,165,1183,195"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_pg_a23146f712d62c6b5c4537b55dbc89727_icgraph.png" border="0" usemap="#class_pg_a23146f712d62c6b5c4537b55dbc89727_icgraph" alt=""/></div>
<map name="class_pg_a23146f712d62c6b5c4537b55dbc89727_icgraph" id="class_pg_a23146f712d62c6b5c4537b55dbc89727_icgraph">
<area shape="rect" id="node3" href="class_pg.html#a1d9453abb6c088797e14baea3f2c241b" title="wire protocol handling " alt="" coords="677,5,747,35"/><area shape="rect" id="node5" href="class_pg.html#af53fe07c0c0a879e0291e723dff34926" title="continuation function after explicit commit " alt="" coords="173,268,371,297"/><area shape="rect" id="node9" href="class_pg.html#ac132fbe1a0c46c68ece5004366dd8a62" title="after SQL activity is performed " alt="" coords="643,268,781,297"/><area shape="rect" id="node11" href="class_pg.html#adc7f4444738cd3201d51fd254c28f353" title="continuation function after implicit commit " alt="" coords="173,321,371,351"/><area shape="rect" id="node17" href="class_pg.html#a5bdee216f5c823ca136fee3c50a53d7c" title="continuation function after explicit rollback " alt="" coords="171,375,373,404"/><area shape="rect" id="node22" href="class_pg.html#a9b16e732905412fd19a9b1c75e62ced3" title="write authenticationok status to outbound message buffer " alt="" coords="191,164,353,193"/><area shape="rect" id="node30" href="class_pg.html#a79e2585fe00a44c7064745113cf6816a" title="write error to outbound message buffer " alt="" coords="197,111,347,140"/><area shape="rect" id="node7" href="class_pg.html#a55518b7c783c58e23badcc740e96cd8e" title="explicit commit " alt="" coords="424,268,571,297"/><area shape="rect" id="node13" href="class_pg.html#a5c7a5cc08d6f879c72e2a5e9515ae7a8" title="implicit commit " alt="" coords="424,321,571,351"/><area shape="rect" id="node19" href="class_pg.html#a26dfda1f20b2fdaac85986fa3dd7ebca" title="explicit rollback " alt="" coords="423,375,572,404"/><area shape="rect" id="node24" href="class_pg.html#aee8ca6d9759c75c81a8d41679744b31e" title="continuation after login operation " alt="" coords="435,164,560,193"/><area shape="rect" id="node26" href="class_operation.html#a07d5db6e1d0c41bf4073f3be93e4e7ed" title="perform operation (only for SQL logins) " alt="" coords="623,164,801,193"/><area shape="rect" id="node28" href="class_transaction_agent.html#abe6035d3eb84620ebbdcdfce3d34fc3b" title="TransactionAgent::Transaction\lAgent" alt="" coords="851,155,1051,202"/><area shape="rect" id="node34" href="class_pg.html#af7204d6b309e5d68f8bd37fdbcc5929e" title="tokenize, parse, compile and execute SQL query " alt="" coords="421,57,573,87"/><area shape="rect" id="node37" href="class_pg.html#aaa7af6e009006b5eb3c4ff8324ac2d6c" title="output error based on Transaction::resultCode " alt="" coords="443,111,552,140"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1d9453abb6c088797e14baea3f2c241b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Pg::cont </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>wire protocol handling </p>
<p>called by <a class="el" href="class_transaction_agent.html" title="execute Transaction Agent actor ">TransactionAgent</a> when incoming socket reads ready </p>

<p>Definition at line <a class="el" href="_pg_8cc_source.html#l00055">55</a> of file <a class="el" href="_pg_8cc_source.html">Pg.cc</a>.</p>

<p>References <a class="el" href="_message_8h_source.html#l00243">MessageUserSchema::userschema_s::caller</a>, <a class="el" href="_message_8h_source.html#l00244">MessageUserSchema::userschema_s::callerstate</a>, <a class="el" href="_pg_8cc_source.html#l00372">closesocket()</a>, <a class="el" href="infinisql_8h_source.html#l00071">CMD_COMMIT</a>, <a class="el" href="infinisql_8h_source.html#l00072">CMD_ROLLBACK</a>, <a class="el" href="_message_8h_source.html#l00310">MessageUserSchema::domainname</a>, <a class="el" href="_message_8h_source.html#l00176">MessageSocket::socket_s::events</a>, <a class="el" href="_pg_8cc_source.html#l00836">executeStatement()</a>, <a class="el" href="_pg_8h_source.html#l00449">inbuf</a>, <a class="el" href="_pg_8cc_source.html#l00416">initcmd()</a>, <a class="el" href="_pg_8h_source.html#l00467">isintransactionblock</a>, <a class="el" href="_transaction_agent_8h_source.html#l00160">TransactionAgent::msgrcv</a>, <a class="el" href="defs_8h_source.html#l00215">OPERATION_LOGIN</a>, <a class="el" href="_operation_8h_source.html#l00098">Operation::operationid</a>, <a class="el" href="_message_8h_source.html#l00247">MessageUserSchema::userschema_s::operationid</a>, <a class="el" href="_message_8h_source.html#l00242">MessageUserSchema::userschema_s::operationtype</a>, <a class="el" href="_pg_8h_source.html#l00453">outbuf</a>, <a class="el" href="_pg_8h_source.html#l00451">outcmd</a>, <a class="el" href="_message_8h_source.html#l00311">MessageUserSchema::password</a>, <a class="el" href="_pg_8h_source.html#l00447">pgcmdtype</a>, <a class="el" href="_pg_8h_source.html#l00450">pos</a>, <a class="el" href="_pg_8cc_source.html#l00625">put()</a>, <a class="el" href="_pg_8cc_source.html#l01134">putCommandComplete()</a>, <a class="el" href="_pg_8cc_source.html#l01141">putErrorResponse()</a>, <a class="el" href="_asts_8h_source.html#l00470">Statement::queries</a>, <a class="el" href="_pg_8cc_source.html#l00343">readsocket()</a>, <a class="el" href="_pg_8cc_source.html#l00718">replymsg()</a>, <a class="el" href="_pg_8cc_source.html#l00789">rewritesocket()</a>, <a class="el" href="_pg_8h_source.html#l00456">schemaPtr</a>, <a class="el" href="_pg_8h_source.html#l00448">size</a>, <a class="el" href="_message_8h_source.html#l00225">MessageSocket::socketStruct</a>, <a class="el" href="_operation_8h_source.html#l00099">Operation::sockfd</a>, <a class="el" href="_pg_8h_source.html#l00445">sockfd</a>, <a class="el" href="_pg_8h_source.html#l00459">startupArgs</a>, <a class="el" href="_pg_8h_source.html#l00444">state</a>, <a class="el" href="_pg_8h_source.html#l00060">STATE_ABORTED</a>, <a class="el" href="_pg_8h_source.html#l00058">STATE_AUTH</a>, <a class="el" href="_pg_8h_source.html#l00057">STATE_BEGIN</a>, <a class="el" href="_pg_8h_source.html#l00059">STATE_ESTABLISHED</a>, <a class="el" href="_pg_8h_source.html#l00061">STATE_EXITING</a>, <a class="el" href="_larxer_8h_source.html#l00346">Larxer::statementPtr</a>, <a class="el" href="infinisql_8h_source.html#l00730">ApiInterface::statementPtr</a>, <a class="el" href="infinisql_8h_source.html#l00728">ApiInterface::taPtr</a>, <a class="el" href="_message_8h_source.html#l00309">MessageUserSchema::username</a>, <a class="el" href="_message_8h_source.html#l00304">MessageUserSchema::userschemaStruct</a>, and <a class="el" href="_pg_8cc_source.html#l00731">writesocket()</a>.</p>
<div class="fragment"><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;{</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_pg.html#ada3091b1aa6c1f463bbc773b02bef89c">state</a>==<a class="code" href="class_pg.html#a3dfd8436412740e96fafae7516a6050aad3b3a04101f0f52861d7edf8b62e02dc">STATE_EXITING</a>)</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    {</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    }</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="keyword">class </span><a class="code" href="class_message_socket.html" title="Message variant for communicating socket events. ">MessageSocket</a> &amp;msgrcvref = *((<span class="keyword">class </span><a class="code" href="class_message_socket.html" title="Message variant for communicating socket events. ">MessageSocket</a> *)<a class="code" href="class_api_interface.html#ab8927a476baf6830781f3528765591ab">taPtr</a>-&gt;<a class="code" href="class_transaction_agent.html#a21c377547706946ac9d2f0238b816576">msgrcv</a>);</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <span class="keywordtype">string</span> newdata;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <span class="keywordflow">if</span> ((msgrcvref.<a class="code" href="class_message_socket.html#a771ab7ee85dc98f7bbe53ab14761b648">socketStruct</a>.<a class="code" href="struct_message_socket_1_1socket__s.html#a66ad7dc5247612ccd1e8b5726a35bfb8">events</a> &amp; EPOLLERR) ||</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        (msgrcvref.<a class="code" href="class_message_socket.html#a771ab7ee85dc98f7bbe53ab14761b648">socketStruct</a>.<a class="code" href="struct_message_socket_1_1socket__s.html#a66ad7dc5247612ccd1e8b5726a35bfb8">events</a> &amp; EPOLLHUP))</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    {</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        <a class="code" href="class_pg.html#a23146f712d62c6b5c4537b55dbc89727" title="close socket ">closesocket</a>(*<a class="code" href="class_api_interface.html#ab8927a476baf6830781f3528765591ab">taPtr</a>);</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    }</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="keywordflow">if</span> (msgrcvref.<a class="code" href="class_message_socket.html#a771ab7ee85dc98f7bbe53ab14761b648">socketStruct</a>.<a class="code" href="struct_message_socket_1_1socket__s.html#a66ad7dc5247612ccd1e8b5726a35bfb8">events</a> &amp; EPOLLIN)</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    {</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        <span class="comment">// read stuff from the socket</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_pg.html#a44c82eede544bcf6999302f41f705c81" title="read from socket ">readsocket</a>(newdata)==<span class="keyword">false</span>)</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        {</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;            <a class="code" href="class_pg.html#a23146f712d62c6b5c4537b55dbc89727" title="close socket ">closesocket</a>(*<a class="code" href="class_api_interface.html#ab8927a476baf6830781f3528765591ab">taPtr</a>);</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        }</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        <span class="keywordflow">if</span> (!newdata.size())</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        {</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;            <span class="comment">// must&#39;ve been spurious event from epoll</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        }</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    }</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (msgrcvref.<a class="code" href="class_message_socket.html#a771ab7ee85dc98f7bbe53ab14761b648">socketStruct</a>.<a class="code" href="struct_message_socket_1_1socket__s.html#a66ad7dc5247612ccd1e8b5726a35bfb8">events</a> &amp; EPOLLOUT)</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    {</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_pg.html#a9fefc9290f305a1700e08a5c08b10a7b" title="write stored buffer to socket ">rewritesocket</a>()==-1)</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        {</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;            <a class="code" href="class_pg.html#a23146f712d62c6b5c4537b55dbc89727" title="close socket ">closesocket</a>(*<a class="code" href="class_api_interface.html#ab8927a476baf6830781f3528765591ab">taPtr</a>);</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        }</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    }</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    {</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        printf(<span class="stringliteral">&quot;%s %i anomaly events %u\n&quot;</span>, __FILE__, __LINE__,</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;               msgrcvref.<a class="code" href="class_message_socket.html#a771ab7ee85dc98f7bbe53ab14761b648">socketStruct</a>.<a class="code" href="struct_message_socket_1_1socket__s.html#a66ad7dc5247612ccd1e8b5726a35bfb8">events</a>);</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    }</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="keywordtype">short</span> retval = <a class="code" href="class_pg.html#ad00c2730c7e3d4ad3c66a6b32a5906d9" title="read new command from socket ">initcmd</a>(newdata);</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="keywordflow">switch</span> (retval)</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    {</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <span class="keywordflow">case</span> -1: <span class="comment">// bogus input</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        <a class="code" href="class_pg.html#a23146f712d62c6b5c4537b55dbc89727" title="close socket ">closesocket</a>(*<a class="code" href="class_api_interface.html#ab8927a476baf6830781f3528765591ab">taPtr</a>);</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="comment">//        break;</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="keywordflow">case</span> 0: <span class="comment">// command not completely received</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="comment">//        break;</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="keywordflow">case</span> 1: <span class="comment">// command completely received</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        <a class="code" href="class_pg.html#a19b186dee0f148ff572552c14becf24b">pos</a> = 0;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        <a class="code" href="class_pg.html#aa66ae17967b8ab82d4753e70598818f1">outbuf</a>.clear();</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        printf(<span class="stringliteral">&quot;%s %i anomaly retval %i\n&quot;</span>, __FILE__, __LINE__, retval);</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    }</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <span class="comment">// now, type &amp; size are set.</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="class_pg.html#ada3091b1aa6c1f463bbc773b02bef89c">state</a>)</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    {</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="class_pg.html#a3dfd8436412740e96fafae7516a6050aa9ac9445ae8e14932b697d454cafd4dff">STATE_BEGIN</a>:</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    {</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_pg.html#ada77aac586bbf5345f3891eea170199d">size</a>==8) <span class="comment">// ssl request</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        {</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;            int32_t sslreq;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;            <span class="keywordflow">if</span> (<span class="keyword">get</span>(&amp;sslreq)==<span class="keyword">false</span>)</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;            {</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                <a class="code" href="class_pg.html#a23146f712d62c6b5c4537b55dbc89727" title="close socket ">closesocket</a>(*<a class="code" href="class_api_interface.html#ab8927a476baf6830781f3528765591ab">taPtr</a>);</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;            }</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;            <span class="keywordflow">if</span> (sslreq != 80877103)</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;            {</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;                <a class="code" href="class_pg.html#a23146f712d62c6b5c4537b55dbc89727" title="close socket ">closesocket</a>(*<a class="code" href="class_api_interface.html#ab8927a476baf6830781f3528765591ab">taPtr</a>);</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;            }</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;            <a class="code" href="class_pg.html#aa66ae17967b8ab82d4753e70598818f1">outbuf</a>.assign(<span class="stringliteral">&quot;N&quot;</span>);</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_pg.html#a8422838d3a7e83f6db18eceb18817588" title="write response messages to socket ">writesocket</a>()==-1)</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;            {</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;                <a class="code" href="class_pg.html#a23146f712d62c6b5c4537b55dbc89727" title="close socket ">closesocket</a>(*<a class="code" href="class_api_interface.html#ab8927a476baf6830781f3528765591ab">taPtr</a>);</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;            }</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;            <a class="code" href="class_pg.html#ada77aac586bbf5345f3891eea170199d">size</a> = 0;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        }</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        <span class="keywordflow">else</span> <span class="comment">// normal start packet</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        {</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;            int32_t protvers;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;            <span class="keywordflow">if</span> (<span class="keyword">get</span>(&amp;protvers)==<span class="keyword">false</span>)</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;            {</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                <a class="code" href="class_pg.html#a23146f712d62c6b5c4537b55dbc89727" title="close socket ">closesocket</a>(*<a class="code" href="class_api_interface.html#ab8927a476baf6830781f3528765591ab">taPtr</a>);</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;            }</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;            <span class="keywordflow">if</span> (protvers != 196608)</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;            {</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                <a class="code" href="class_pg.html#a23146f712d62c6b5c4537b55dbc89727" title="close socket ">closesocket</a>(*<a class="code" href="class_api_interface.html#ab8927a476baf6830781f3528765591ab">taPtr</a>);</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;            }</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;            <span class="keywordflow">while</span> (<a class="code" href="class_pg.html#a467c503836324c5b55d20d7e45c68820">inbuf</a>[<a class="code" href="class_pg.html#a19b186dee0f148ff572552c14becf24b">pos</a>] != <span class="charliteral">&#39;\0&#39;</span>)</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;            {</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                <span class="keywordtype">string</span> paramstr;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                <span class="keywordflow">if</span> (<span class="keyword">get</span>(paramstr)==<span class="keyword">false</span>)</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                {</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                    <a class="code" href="class_pg.html#a23146f712d62c6b5c4537b55dbc89727" title="close socket ">closesocket</a>(*<a class="code" href="class_api_interface.html#ab8927a476baf6830781f3528765591ab">taPtr</a>);</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                }</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                <span class="keywordtype">string</span> valstr;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;                <span class="keywordflow">if</span> (<span class="keyword">get</span>(valstr)==<span class="keyword">false</span>)</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;                {</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                    <a class="code" href="class_pg.html#a23146f712d62c6b5c4537b55dbc89727" title="close socket ">closesocket</a>(*<a class="code" href="class_api_interface.html#ab8927a476baf6830781f3528765591ab">taPtr</a>);</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;                    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                }</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                <a class="code" href="class_pg.html#aabfd82fedcd274f8955cfcbe123015fd">startupArgs</a>[paramstr] = valstr;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;            }</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="class_pg.html#aabfd82fedcd274f8955cfcbe123015fd">startupArgs</a>.count(<span class="stringliteral">&quot;user&quot;</span>))</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;            {</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;                <a class="code" href="class_pg.html#a23146f712d62c6b5c4537b55dbc89727" title="close socket ">closesocket</a>(*<a class="code" href="class_api_interface.html#ab8927a476baf6830781f3528765591ab">taPtr</a>);</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;            }</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="class_pg.html#aabfd82fedcd274f8955cfcbe123015fd">startupArgs</a>.count(<span class="stringliteral">&quot;database&quot;</span>))</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;            {</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                <a class="code" href="class_pg.html#aabfd82fedcd274f8955cfcbe123015fd">startupArgs</a>[<span class="stringliteral">&quot;database&quot;</span>] = <a class="code" href="class_pg.html#aabfd82fedcd274f8955cfcbe123015fd">startupArgs</a>[<span class="stringliteral">&quot;user&quot;</span>];</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;            }</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;            <a class="code" href="class_pg.html#ae8b47198d0557fe10844ee2243553fef">outcmd</a> = <span class="charliteral">&#39;R&#39;</span>;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;            <a class="code" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer ">put</a>((int32_t)3);</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;            <a class="code" href="class_pg.html#a3ea550f9d0d24a3c7aeb736b83c86bcb" title="put message for reply into outbound buffer ">replymsg</a>();</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_pg.html#a8422838d3a7e83f6db18eceb18817588" title="write response messages to socket ">writesocket</a>()==-1)</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;            {</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                <a class="code" href="class_pg.html#a23146f712d62c6b5c4537b55dbc89727" title="close socket ">closesocket</a>(*<a class="code" href="class_api_interface.html#ab8927a476baf6830781f3528765591ab">taPtr</a>);</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;            }</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;            <a class="code" href="class_pg.html#ada3091b1aa6c1f463bbc773b02bef89c">state</a> = <a class="code" href="class_pg.html#a3dfd8436412740e96fafae7516a6050aa4d9da4aee89b0c6c7b2ab9aeb4709262">STATE_AUTH</a>;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;            <a class="code" href="class_pg.html#ada77aac586bbf5345f3891eea170199d">size</a> = 0;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;            <a class="code" href="class_pg.html#a467c503836324c5b55d20d7e45c68820">inbuf</a>.clear();</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        }</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    }</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="class_pg.html#a3dfd8436412740e96fafae7516a6050aa4d9da4aee89b0c6c7b2ab9aeb4709262">STATE_AUTH</a>:</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    {</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_pg.html#afb9e7b85177f05536150dfe87aa0f43d">pgcmdtype</a> != <span class="charliteral">&#39;p&#39;</span>)</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        {</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;            <a class="code" href="class_pg.html#a23146f712d62c6b5c4537b55dbc89727" title="close socket ">closesocket</a>(*<a class="code" href="class_api_interface.html#ab8927a476baf6830781f3528765591ab">taPtr</a>);</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        }</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        <span class="keywordtype">string</span> password;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">get</span>(password)==<span class="keyword">false</span>)</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        {</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;            <a class="code" href="class_pg.html#a23146f712d62c6b5c4537b55dbc89727" title="close socket ">closesocket</a>(*<a class="code" href="class_api_interface.html#ab8927a476baf6830781f3528765591ab">taPtr</a>);</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        }</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        <span class="comment">// send credentials to USM</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        <span class="keyword">class </span><a class="code" href="class_operation.html" title="non-transactional user and schema-related activity ">Operation</a> &amp;operationRef = *(<span class="keyword">new</span> <span class="keyword">class </span><a class="code" href="class_operation.html" title="non-transactional user and schema-related activity ">Operation</a>(<a class="code" href="defs_8h.html#a802e4f09bf9e26024aee68c44ee2cbeb">OP_PGLOGIN</a>, <a class="code" href="class_api_interface.html#ab8927a476baf6830781f3528765591ab">taPtr</a>,</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                                                              -1, -1));</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        operationRef.<a class="code" href="class_operation.html#aa8dbda56210a44b04ceb9d6954bf037c">sockfd</a> = <a class="code" href="class_pg.html#a795eae49ac0f05051ee3c975d67f160a">sockfd</a>;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        <span class="keyword">class </span><a class="code" href="class_message_user_schema.html" title="Message variant for UserSchemaMgr activities. ">MessageUserSchema</a> *msg =</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;            <span class="keyword">new</span> <span class="keyword">class </span>MessageUserSchema(TOPIC_OPERATION);</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        msg-&gt;<a class="code" href="class_message_user_schema.html#ae2d6a073f7238bbb302fe3da77b53f02">userschemaStruct</a>.<a class="code" href="struct_message_user_schema_1_1userschema__s.html#a5ee093655d7d072cdf2c725482fc89e1">caller</a> = 1;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        msg-&gt;<a class="code" href="class_message_user_schema.html#ae2d6a073f7238bbb302fe3da77b53f02">userschemaStruct</a>.<a class="code" href="struct_message_user_schema_1_1userschema__s.html#a34526dd6ec917ec7c9b69d76a3279d19">callerstate</a> = 1;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        msg-&gt;<a class="code" href="class_message_user_schema.html#ae2d6a073f7238bbb302fe3da77b53f02">userschemaStruct</a>.<a class="code" href="struct_message_user_schema_1_1userschema__s.html#ac56df00e7a5f93b400565a4cebbb37fe">operationid</a> = operationRef.<a class="code" href="class_operation.html#a534c11e19a7e02c56711c6ae80094da1">operationid</a>;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        msg-&gt;<a class="code" href="class_message_user_schema.html#ae2d6a073f7238bbb302fe3da77b53f02">userschemaStruct</a>.<a class="code" href="struct_message_user_schema_1_1userschema__s.html#a82d0ae628bd80808ec3853d51ef65152">operationtype</a> = <a class="code" href="defs_8h.html#a5432cbb8bfe9669f9f54c5f7b11904c5ad59c67367e34623813026d1299c7a5d6">OPERATION_LOGIN</a>;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        msg-&gt;<a class="code" href="class_message_user_schema.html#aac50594f8b41ed7a44c85d20068f31ab">username</a> = <a class="code" href="class_pg.html#aabfd82fedcd274f8955cfcbe123015fd">startupArgs</a>[<span class="stringliteral">&quot;user&quot;</span>];</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        msg-&gt;<a class="code" href="class_message_user_schema.html#aa1898aa0ff5e0dbc3ad9f62f1e3852cc">domainname</a> = <a class="code" href="class_pg.html#aabfd82fedcd274f8955cfcbe123015fd">startupArgs</a>[<span class="stringliteral">&quot;database&quot;</span>];</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;        msg-&gt;<a class="code" href="class_message_user_schema.html#ae40d69d47b49a8e7f8273d3259f0df76">password</a> = password;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        <a class="code" href="class_api_interface.html#ab8927a476baf6830781f3528765591ab">taPtr</a>-&gt;<a class="code" href="class_transaction_agent.html#a026b2e3eeae3537e02ea892217619ad7">mboxes</a>.<a class="code" href="class_mboxes.html#ad590feb7f8bacbf2054bfce186ee6f2e" title="produce Message for replica&#39;s UserSchemaMgr ">toUserSchemaMgr</a>(<a class="code" href="class_api_interface.html#ab8927a476baf6830781f3528765591ab">taPtr</a>-&gt;<a class="code" href="class_transaction_agent.html#a4cf668ec19e2a97cb8691c0e1b5c7e76">myIdentity</a>.<a class="code" href="struct_topology_1_1partition_address.html#a977a5bca3443c49a671157c4a46e0210">address</a>, *msg);</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    }</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="class_pg.html#a3dfd8436412740e96fafae7516a6050aaacd8781f9b4894944ac521960edaa181">STATE_ESTABLISHED</a>:</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    {</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        <span class="keywordflow">switch</span> (<a class="code" href="class_pg.html#afb9e7b85177f05536150dfe87aa0f43d">pgcmdtype</a>)</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        {</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;Q&#39;</span>:</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        {</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;            <span class="keywordtype">string</span> query;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;            <span class="keyword">get</span>(query);</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;            <a class="code" href="class_pg.html#a467c503836324c5b55d20d7e45c68820">inbuf</a>.clear();</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;            <a class="code" href="class_pg.html#ada77aac586bbf5345f3891eea170199d">size</a>=0;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;            <a class="code" href="class_pg.html#af7204d6b309e5d68f8bd37fdbcc5929e" title="tokenize, parse, compile and execute SQL query ">executeStatement</a>(query);</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        }</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;X&#39;</span>:</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;            <a class="code" href="class_pg.html#a23146f712d62c6b5c4537b55dbc89727" title="close socket ">closesocket</a>(*<a class="code" href="class_api_interface.html#ab8927a476baf6830781f3528765591ab">taPtr</a>);</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            printf(<span class="stringliteral">&quot;%s %i don&#39;t know how to handle cmdtype %c\n&quot;</span>, __FILE__,</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;                   __LINE__, <a class="code" href="class_pg.html#afb9e7b85177f05536150dfe87aa0f43d">pgcmdtype</a>);</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        }</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    }</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="class_pg.html#a3dfd8436412740e96fafae7516a6050aaa6f47c9d45fd56ad81b3cbb04a7def65">STATE_ABORTED</a>:</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    {</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        <span class="keywordflow">switch</span> (<a class="code" href="class_pg.html#afb9e7b85177f05536150dfe87aa0f43d">pgcmdtype</a>)</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        {</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;Q&#39;</span>:</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        {</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;            <span class="keywordtype">string</span> query;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;            <span class="keyword">get</span>(query);</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;            <a class="code" href="class_pg.html#a467c503836324c5b55d20d7e45c68820">inbuf</a>.clear();</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;            <a class="code" href="class_pg.html#ada77aac586bbf5345f3891eea170199d">size</a>=0;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;            <span class="keyword">class </span><a class="code" href="class_larxer.html" title="create object to tokenize, parse, and compile SQL statement ">Larxer</a> lx((char *)query.c_str(), <a class="code" href="class_api_interface.html#ab8927a476baf6830781f3528765591ab">taPtr</a>, <a class="code" href="class_pg.html#a02b793188e489b313841541b6cc95045">schemaPtr</a>);</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;            <span class="keywordflow">if</span> (lx.statementPtr==NULL)</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;            {</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                <a class="code" href="class_pg.html#a79e2585fe00a44c7064745113cf6816a" title="write error to outbound message buffer ">putErrorResponse</a>(<span class="stringliteral">&quot;ERROR&quot;</span>, <span class="stringliteral">&quot;42601&quot;</span>, <span class="stringliteral">&quot;syntax error, aborted&quot;</span>);</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;            }</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;            <a class="code" href="class_api_interface.html#a9d905b470f3bf5752032a637fe3545fd">statementPtr</a>=lx.statementPtr;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_api_interface.html#a9d905b470f3bf5752032a637fe3545fd">statementPtr</a>-&gt;<a class="code" href="class_statement.html#a470507e2db1304135bb9c73c429de099">queries</a>[0].type==<a class="code" href="infinisql_8h.html#a65a2263ffbf59255bacff6451520cdb1a804e3de743eb90fcb17c9381e245c89e">CMD_COMMIT</a> ||</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                <a class="code" href="class_api_interface.html#a9d905b470f3bf5752032a637fe3545fd">statementPtr</a>-&gt;<a class="code" href="class_statement.html#a470507e2db1304135bb9c73c429de099">queries</a>[0].type==<a class="code" href="infinisql_8h.html#a65a2263ffbf59255bacff6451520cdb1ae09c2a8c073c4d5489d396783293e046">CMD_ROLLBACK</a>)</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;            {</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;                <a class="code" href="class_pg.html#af5367b8b342543bd56c310ff0afe2aea" title="write completed command to outbound message buffer ">putCommandComplete</a>(<span class="stringliteral">&quot;ROLLBACK&quot;</span>);</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;                <a class="code" href="class_pg.html#ada3091b1aa6c1f463bbc773b02bef89c">state</a>=<a class="code" href="class_pg.html#a3dfd8436412740e96fafae7516a6050aaacd8781f9b4894944ac521960edaa181">STATE_ESTABLISHED</a>;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;                <a class="code" href="class_pg.html#af6a3e38d25a2fc5a56b6f6a9a8038a46">isintransactionblock</a>=<span class="keyword">false</span>;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_pg.html#a8422838d3a7e83f6db18eceb18817588" title="write response messages to socket ">writesocket</a>()==-1)</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                {</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                    <a class="code" href="class_pg.html#a23146f712d62c6b5c4537b55dbc89727" title="close socket ">closesocket</a>(*<a class="code" href="class_api_interface.html#ab8927a476baf6830781f3528765591ab">taPtr</a>);</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                }</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;            }</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;            {</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                <a class="code" href="class_pg.html#a79e2585fe00a44c7064745113cf6816a" title="write error to outbound message buffer ">putErrorResponse</a>(<span class="stringliteral">&quot;ERROR&quot;</span>, <span class="stringliteral">&quot;25P02&quot;</span>, <span class="stringliteral">&quot;current transaction is aborted, commands ignored until end of transaction block&quot;</span>);</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;            }</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;            <span class="keyword">delete</span> <a class="code" href="class_api_interface.html#a9d905b470f3bf5752032a637fe3545fd">statementPtr</a>;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        }</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;X&#39;</span>:</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;            <a class="code" href="class_pg.html#a23146f712d62c6b5c4537b55dbc89727" title="close socket ">closesocket</a>(*<a class="code" href="class_api_interface.html#ab8927a476baf6830781f3528765591ab">taPtr</a>);</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;            printf(<span class="stringliteral">&quot;%s %i don&#39;t know how to handle cmdtype %c\n&quot;</span>, __FILE__,</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                   __LINE__, <a class="code" href="class_pg.html#afb9e7b85177f05536150dfe87aa0f43d">pgcmdtype</a>);</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        }</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    }</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        printf(<span class="stringliteral">&quot;%s %i anomaly state %i\n&quot;</span>, __FILE__, __LINE__, <a class="code" href="class_pg.html#ada3091b1aa6c1f463bbc773b02bef89c">state</a>);</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    }</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_pg_a1d9453abb6c088797e14baea3f2c241b_cgraph.png" border="0" usemap="#class_pg_a1d9453abb6c088797e14baea3f2c241b_cgraph" alt=""/></div>
<map name="class_pg_a1d9453abb6c088797e14baea3f2c241b_cgraph" id="class_pg_a1d9453abb6c088797e14baea3f2c241b_cgraph">
<area shape="rect" id="node3" href="class_pg.html#a23146f712d62c6b5c4537b55dbc89727" title="close socket " alt="" coords="620,516,735,545"/><area shape="rect" id="node31" href="class_pg.html#af7204d6b309e5d68f8bd37fdbcc5929e" title="tokenize, parse, compile and execute SQL query " alt="" coords="125,716,277,745"/><area shape="rect" id="node33" href="class_pg.html#a79e2585fe00a44c7064745113cf6816a" title="write error to outbound message buffer " alt="" coords="351,796,500,825"/><area shape="rect" id="node35" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer " alt="" coords="899,977,963,1007"/><area shape="rect" id="node37" href="class_pg.html#a3ea550f9d0d24a3c7aeb736b83c86bcb" title="put message for reply into outbound buffer " alt="" coords="881,1031,980,1060"/><area shape="rect" id="node39" href="class_pg.html#a8422838d3a7e83f6db18eceb18817588" title="write response messages to socket " alt="" coords="621,951,733,980"/><area shape="rect" id="node127" href="class_pg.html#ad00c2730c7e3d4ad3c66a6b32a5906d9" title="read new command from socket " alt="" coords="157,1004,245,1033"/><area shape="rect" id="node130" href="class_pg.html#af5367b8b342543bd56c310ff0afe2aea" title="write completed command to outbound message buffer " alt="" coords="588,1031,767,1060"/><area shape="rect" id="node135" href="class_pg.html#a44c82eede544bcf6999302f41f705c81" title="read from socket " alt="" coords="147,1108,256,1137"/><area shape="rect" id="node138" href="class_pg.html#a9fefc9290f305a1700e08a5c08b10a7b" title="write stored buffer to socket " alt="" coords="140,951,263,980"/><area shape="rect" id="node5" href="class_api_interface.html#a0ec871d856f976629ce78d5fc3e4e9d5" title="continuation function after implicit commit " alt="" coords="848,507,1013,554"/><area shape="rect" id="node7" href="class_pg.html#ac6ac0dd94a70fd221b3807ecf908f251" title="more socket closing&#45;related activities " alt="" coords="865,455,996,484"/><area shape="rect" id="node9" href="class_transaction.html#a000e4f0882139eb8470f7472ca14a24e" title="ROLLBACK. " alt="" coords="860,319,1001,348"/><area shape="rect" id="node11" href="class_transaction.html#a58d291fe5c0ee6984aa71a79c7126376" title="send MessageTransaction variant to Engine " alt="" coords="1539,604,1733,633"/><area shape="rect" id="node13" href="class_mboxes.html#a956f8e7626423edfd33db7a185b8b352" title="produce Message for Engine associated with specific partition " alt="" coords="1796,319,1929,348"/><area shape="rect" id="node29" href="class_transaction.html#a62cfbd3f256c6b36cfdd16cddf1ab5fe" title="continue back to calling function " alt="" coords="1093,59,1232,88"/><area shape="rect" id="node15" href="class_mbox_producer.html#a9ca818bdf4ef9bacbaa6cb1d63a68dbd" title="produce Message onto mailbox " alt="" coords="1980,292,2145,321"/><area shape="rect" id="node26" href="class_message.html#a8f4edea412ed3bbaa8d3cf2d1d48b8b3" title="put addresses in Message variant envelope " alt="" coords="1985,345,2140,375"/><area shape="rect" id="node17" href="class_mbox.html#a5311178f7221ffa942fa128424ac9a86" title="create 128bit integer from Message object " alt="" coords="2195,185,2381,215"/><area shape="rect" id="node19" href="class_mbox.html#ae545aa094bc902b10f9b1e042c24e42b" title="return Message pointer from 128bit integer " alt="" coords="2240,239,2336,268"/><area shape="rect" id="node21" href="class_mboxes.html#abaaf6c0d67c235bcb17e7f9e935861cf" title="send batched Message objects destined to remote nodes " alt="" coords="2211,292,2365,321"/><area shape="rect" id="node24" href="class_message.html#a4508c42d7366a86327ca3076eb1ff007" title="return serialized Message variant string " alt="" coords="2225,345,2351,375"/><area shape="rect" id="node44" href="class_statement.html#a589ba57cddbeca322262d879ab7c56d9" title="resolves table and field names to integers " alt="" coords="327,213,524,243"/><area shape="rect" id="node53" href="class_pg.html#ac7dab9ff8d6e0a409b2e645605ca52e6" title="implicit rollback " alt="" coords="351,421,500,451"/><area shape="rect" id="node60" href="class_statement.html#a42ca63333686087acb579354fce0720f" title="execute SQL statement " alt="" coords="357,689,493,719"/><area shape="rect" id="node125" href="class_api_interface.html#a1742d74b8d302780a5d1226f6360dfee" title="after SQL activity is performed " alt="" coords="328,743,523,772"/><area shape="rect" id="node46" href="class_statement.html#a5c5ac7cc1ac72955bb16c2c4837fe33c" title="Statement::resolveTableFields2" alt="" coords="575,57,780,87"/><area shape="rect" id="node48" href="class_statement.html#a17991c985f8cf4520b339a52c122c00a" title="returns fieldid " alt="" coords="1092,5,1233,35"/><area shape="rect" id="node50" href="class_statement.html#ad09ed23c387d9826ed1cb66b47373425" title="Statement::resolveFieldNames" alt="" coords="829,57,1032,87"/><area shape="rect" id="node55" href="class_pg.html#a23d0ef3e3908161087c7452d459da402" title="continuation function after implicit rollback " alt="" coords="576,391,779,420"/><area shape="rect" id="node57" href="class_api_interface.html#a0b9c5cae7628c13a1680bb75502b702b" title="continuation function after implicit rollback " alt="" coords="595,443,760,490"/><area shape="rect" id="node62" href="class_statement.html#a0a683e44fb4dfcf9063a476428490ada" title="begin query execution " alt="" coords="603,692,752,721"/><area shape="rect" id="node64" href="class_statement.html#a9f0b670dfa46844eb90de3ca3444d2d2" title="perform search expression " alt="" coords="833,577,1028,607"/><area shape="rect" id="node88" href="class_statement.html#a4d278eaa6b77688702b33b4ad73baaf8" title="SELECT, INSERT, UPDATE, DELETE, stored proc branch to. " alt="" coords="1080,692,1245,721"/><area shape="rect" id="node100" href="class_statement.html#a7b1aa54923a3dfa6bf072bf88d691f89" title="return to calling function (Statement execution complete) " alt="" coords="1320,528,1451,557"/><area shape="rect" id="node66" href="class_ast.html#a229d1f25bd5f15a7f8a2b1a44ea26ed9" title="Ast::evaluate" alt="" coords="1113,397,1212,427"/><area shape="rect" id="node68" href="class_statement.html#a0ffb8f37248c531f61d49347d1014d1a" title="Statement::andPredicate" alt="" coords="1303,163,1468,192"/><area shape="rect" id="node70" href="class_ast.html#a222befa9f7230c7482efdfb7e4602e0d" title="Ast::toFloat" alt="" coords="1591,267,1681,296"/><area shape="rect" id="node74" href="class_transaction.html#a3d0b71c4ec2701fb542956f3d1e493f8" title="SQL predicate search. " alt="" coords="1300,475,1471,504"/><area shape="rect" id="node80" href="class_statement.html#af39b39977a9604b52958e2a7a2f25a77" title="Statement::stagedPredicate" alt="" coords="1293,267,1477,296"/><area shape="rect" id="node85" href="class_statement.html#aaff3a575709be7108542aa5a4bf2ab26" title="EXISTS subquery. " alt="" coords="1296,371,1475,400"/><area shape="rect" id="node77" href="class_transaction.html#abfb2d360e416bdf8dc2453a4642c93b8" title="generate unique, always incrementing id for pending command " alt="" coords="1525,785,1747,815"/><area shape="rect" id="node82" href="defs_8h.html#ac6701d7f321147d88d80b8469aadb568" title="convert stagedRow_s to returnRow_s " alt="" coords="1556,473,1716,503"/><area shape="rect" id="node91" href="class_transaction.html#acc68e7f9e766d98f3c7318780405f465" title="get all rows from a table " alt="" coords="1303,891,1468,920"/><area shape="rect" id="node93" href="class_statement.html#abb110d0dc3abf1f5dcbb33ff33a7174b" title="continuation for SELECT statement " alt="" coords="1548,1044,1724,1073"/><area shape="rect" id="node103" href="class_table.html#ac484a70335c2b6d466bd6289c9be98b0" title="assemble row string from fields " alt="" coords="1579,965,1693,995"/><area shape="rect" id="node105" href="class_transaction.html#a817fce7776e16ad79f9d72f4aa7899f7" title="get engine/partitionid based on hash of input " alt="" coords="1559,863,1713,892"/><area shape="rect" id="node109" href="class_statement.html#ab44eeb418a8a7b4fba8000accc66c81a" title="continuation for UPDATE statement " alt="" coords="1295,837,1476,867"/><area shape="rect" id="node117" href="class_statement.html#a61c903a35c6032860f06e40116fd3da1" title="continuation for DELETE statement " alt="" coords="1297,733,1473,763"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="abae1c31a9b68ad2cfc65766eef1889a7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Pg::continueFunc1 </td>
          <td>(</td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>entrypoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>statePtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>user-defined continuation function </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">entrypoint</td><td>entrypoint for continuation </td></tr>
    <tr><td class="paramname">statePtr</td><td>state data </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="class_api_interface.html#ae8d123e4176ef43ccfd66405af19f4be">ApiInterface</a>.</p>

<p>Definition at line <a class="el" href="_pg_8h_source.html#l00072">72</a> of file <a class="el" href="_pg_8h_source.html">Pg.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    {</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        ;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a93771c20605273765684b11899440130"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Pg::continueFunc2 </td>
          <td>(</td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>entrypoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>statePtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>second user-defined continuation function </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">entrypoint</td><td>entrypoint for continuation </td></tr>
    <tr><td class="paramname">statePtr</td><td>state data </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="class_api_interface.html#a76b9eaf31faa4d41882ee8afcc76c2ea">ApiInterface</a>.</p>

<p>Definition at line <a class="el" href="_pg_8h_source.html#l00076">76</a> of file <a class="el" href="_pg_8h_source.html">Pg.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    {</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        ;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aee8ca6d9759c75c81a8d41679744b31e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Pg::continueLogin </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cmdstate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">class <a class="el" href="class_message_user_schema.html">MessageUserSchema</a> &amp;&#160;</td>
          <td class="paramname"><em>msgrcvref</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>continuation after login operation </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cmdstate</td><td>function state to continue </td></tr>
    <tr><td class="paramname">msgrcvref</td><td>reply <a class="el" href="class_message_user_schema.html" title="Message variant for UserSchemaMgr activities. ">MessageUserSchema</a> </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_pg_8cc_source.html#l00817">817</a> of file <a class="el" href="_pg_8cc_source.html">Pg.cc</a>.</p>

<p>References <a class="el" href="_message_8h_source.html#l00248">MessageUserSchema::userschema_s::domainid</a>, <a class="el" href="infinisql_8h_source.html#l00740">ApiInterface::domainid</a>, <a class="el" href="_transaction_agent_8h_source.html#l00162">TransactionAgent::domainidsToSchemata</a>, <a class="el" href="_message_8h_source.html#l00310">MessageUserSchema::domainname</a>, <a class="el" href="_pg_8h_source.html#l00461">procedureprefix</a>, <a class="el" href="_pg_8cc_source.html#l01542">putAuthenticationOk()</a>, <a class="el" href="_pg_8cc_source.html#l01141">putErrorResponse()</a>, <a class="el" href="_pg_8h_source.html#l00456">schemaPtr</a>, <a class="el" href="_message_8h_source.html#l00259">MessageUserSchema::userschema_s::status</a>, <a class="el" href="infinisql_8h_source.html#l00045">STATUS_OK</a>, <a class="el" href="main_8cc_source.html#l00043">storedprocprefix</a>, <a class="el" href="infinisql_8h_source.html#l00728">ApiInterface::taPtr</a>, <a class="el" href="_message_8h_source.html#l00249">MessageUserSchema::userschema_s::userid</a>, <a class="el" href="_pg_8h_source.html#l00455">userid</a>, and <a class="el" href="_message_8h_source.html#l00304">MessageUserSchema::userschemaStruct</a>.</p>

<p>Referenced by <a class="el" href="_operation_8cc_source.html#l00069">Operation::handleOperation()</a>.</p>
<div class="fragment"><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;{</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    <span class="keywordflow">if</span> (msgrcvref.userschemaStruct.status==<a class="code" href="infinisql_8h.html#a2403320c41f08e7567cb169de5db66b3">STATUS_OK</a>)</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    {</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;        <a class="code" href="class_pg.html#a3f40f67fe0e47628c6bc7ed8053e95a6">userid</a> = msgrcvref.userschemaStruct.userid;</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;        <a class="code" href="class_api_interface.html#a03b4ff3fc21b9f56bec1e57d8e9f90bb">domainid</a> = msgrcvref.userschemaStruct.domainid;</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;        <a class="code" href="class_pg.html#a550e4a1da1210646ead838dfdf66bd14">procedureprefix</a>.assign(<a class="code" href="defs_8h.html#a6dc2114677970a38d4c413301bf684a8">storedprocprefix</a>);</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;        <a class="code" href="class_pg.html#a550e4a1da1210646ead838dfdf66bd14">procedureprefix</a>.append(msgrcvref.domainname);</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;        <a class="code" href="class_pg.html#a550e4a1da1210646ead838dfdf66bd14">procedureprefix</a>.append(<span class="stringliteral">&quot;_&quot;</span>);</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;        <a class="code" href="class_pg.html#a02b793188e489b313841541b6cc95045">schemaPtr</a> = <a class="code" href="class_api_interface.html#ab8927a476baf6830781f3528765591ab">taPtr</a>-&gt;<a class="code" href="class_transaction_agent.html#a7ace8fdb2e089df372d86b7290ae47f4">domainidsToSchemata</a>[<a class="code" href="class_api_interface.html#a03b4ff3fc21b9f56bec1e57d8e9f90bb">domainid</a>];</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;        <a class="code" href="class_pg.html#a9b16e732905412fd19a9b1c75e62ced3" title="write authenticationok status to outbound message buffer ">putAuthenticationOk</a>();</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    }</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    <span class="keywordflow">else</span> <span class="comment">// STATUS_NOTOK</span></div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;    {</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;        <a class="code" href="class_pg.html#a79e2585fe00a44c7064745113cf6816a" title="write error to outbound message buffer ">putErrorResponse</a>(<span class="stringliteral">&quot;FATAL&quot;</span>, <span class="stringliteral">&quot;28P01&quot;</span>, <span class="stringliteral">&quot;authenticationfailure&quot;</span>);</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    }</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_pg_aee8ca6d9759c75c81a8d41679744b31e_cgraph.png" border="0" usemap="#class_pg_aee8ca6d9759c75c81a8d41679744b31e_cgraph" alt=""/></div>
<map name="class_pg_aee8ca6d9759c75c81a8d41679744b31e_cgraph" id="class_pg_aee8ca6d9759c75c81a8d41679744b31e_cgraph">
<area shape="rect" id="node3" href="class_pg.html#a9b16e732905412fd19a9b1c75e62ced3" title="write authenticationok status to outbound message buffer " alt="" coords="183,137,345,167"/><area shape="rect" id="node45" href="class_pg.html#a79e2585fe00a44c7064745113cf6816a" title="write error to outbound message buffer " alt="" coords="189,191,339,220"/><area shape="rect" id="node5" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer " alt="" coords="656,73,720,103"/><area shape="rect" id="node7" href="class_pg.html#a3ea550f9d0d24a3c7aeb736b83c86bcb" title="put message for reply into outbound buffer " alt="" coords="639,151,737,180"/><area shape="rect" id="node9" href="class_pg.html#afbe09ff203b419a42ad234f906959c8a" title="write server parameters in status message to outbound message buffer " alt="" coords="395,35,557,64"/><area shape="rect" id="node13" href="class_pg.html#a8422838d3a7e83f6db18eceb18817588" title="write response messages to socket " alt="" coords="420,189,532,219"/><area shape="rect" id="node17" href="class_pg.html#a23146f712d62c6b5c4537b55dbc89727" title="close socket " alt="" coords="419,293,533,323"/><area shape="rect" id="node19" href="class_api_interface.html#a0ec871d856f976629ce78d5fc3e4e9d5" title="continuation function after implicit commit " alt="" coords="605,346,771,393"/><area shape="rect" id="node21" href="class_pg.html#ac6ac0dd94a70fd221b3807ecf908f251" title="more socket closing&#45;related activities " alt="" coords="623,240,753,269"/><area shape="rect" id="node23" href="class_transaction.html#a000e4f0882139eb8470f7472ca14a24e" title="ROLLBACK. " alt="" coords="617,293,759,323"/><area shape="rect" id="node25" href="class_transaction.html#a58d291fe5c0ee6984aa71a79c7126376" title="send MessageTransaction variant to Engine " alt="" coords="819,241,1013,271"/><area shape="rect" id="node27" href="class_mboxes.html#a956f8e7626423edfd33db7a185b8b352" title="produce Message for Engine associated with specific partition " alt="" coords="1063,268,1196,297"/><area shape="rect" id="node43" href="class_transaction.html#a62cfbd3f256c6b36cfdd16cddf1ab5fe" title="continue back to calling function " alt="" coords="847,345,985,375"/><area shape="rect" id="node29" href="class_mbox_producer.html#a9ca818bdf4ef9bacbaa6cb1d63a68dbd" title="produce Message onto mailbox " alt="" coords="1247,241,1412,271"/><area shape="rect" id="node40" href="class_message.html#a8f4edea412ed3bbaa8d3cf2d1d48b8b3" title="put addresses in Message variant envelope " alt="" coords="1252,295,1407,324"/><area shape="rect" id="node31" href="class_mbox.html#a5311178f7221ffa942fa128424ac9a86" title="create 128bit integer from Message object " alt="" coords="1461,135,1648,164"/><area shape="rect" id="node33" href="class_mbox.html#ae545aa094bc902b10f9b1e042c24e42b" title="return Message pointer from 128bit integer " alt="" coords="1507,188,1603,217"/><area shape="rect" id="node35" href="class_mboxes.html#abaaf6c0d67c235bcb17e7f9e935861cf" title="send batched Message objects destined to remote nodes " alt="" coords="1477,241,1632,271"/><area shape="rect" id="node38" href="class_message.html#a4508c42d7366a86327ca3076eb1ff007" title="return serialized Message variant string " alt="" coords="1492,295,1617,324"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_pg_aee8ca6d9759c75c81a8d41679744b31e_icgraph.png" border="0" usemap="#class_pg_aee8ca6d9759c75c81a8d41679744b31e_icgraph" alt=""/></div>
<map name="class_pg_aee8ca6d9759c75c81a8d41679744b31e_icgraph" id="class_pg_aee8ca6d9759c75c81a8d41679744b31e_icgraph">
<area shape="rect" id="node3" href="class_operation.html#a07d5db6e1d0c41bf4073f3be93e4e7ed" title="perform operation (only for SQL logins) " alt="" coords="183,13,361,43"/><area shape="rect" id="node5" href="class_transaction_agent.html#abe6035d3eb84620ebbdcdfce3d34fc3b" title="TransactionAgent::Transaction\lAgent" alt="" coords="411,5,611,51"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af53fe07c0c0a879e0291e723dff34926"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Pg::continuePgCommitexplicit </td>
          <td>(</td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>entrypoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>statePtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>continuation function after explicit commit </p>
<p>explicit commit is sent as COMMIT or END at end of transaction</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">entrypoint</td><td>entry point to continue </td></tr>
    <tr><td class="paramname">statePtr</td><td>state data to continue with </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="class_api_interface.html#acc92546b7e795c8d327ac765ff3d2eea">ApiInterface</a>.</p>

<p>Definition at line <a class="el" href="_pg_8cc_source.html#l01446">1446</a> of file <a class="el" href="_pg_8cc_source.html">Pg.cc</a>.</p>

<p>References <a class="el" href="_pg_8cc_source.html#l00372">closesocket()</a>, <a class="el" href="main_8cc_source.html#l00036">logfile</a>, <a class="el" href="_pg_8h_source.html#l00453">outbuf</a>, <a class="el" href="_pg_8cc_source.html#l01134">putCommandComplete()</a>, <a class="el" href="_pg_8h_source.html#l00444">state</a>, <a class="el" href="_pg_8h_source.html#l00061">STATE_EXITING</a>, <a class="el" href="infinisql_8h_source.html#l00730">ApiInterface::statementPtr</a>, <a class="el" href="infinisql_8h_source.html#l00728">ApiInterface::taPtr</a>, <a class="el" href="infinisql_8h_source.html#l00732">ApiInterface::transactionPtr</a>, and <a class="el" href="_pg_8cc_source.html#l00731">writesocket()</a>.</p>

<p>Referenced by <a class="el" href="_pg_8cc_source.html#l01190">sqlcommitexplicit()</a>.</p>
<div class="fragment"><div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;{</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;    <a class="code" href="class_pg.html#af5367b8b342543bd56c310ff0afe2aea" title="write completed command to outbound message buffer ">putCommandComplete</a>(<span class="stringliteral">&quot;COMMIT&quot;</span>);</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_api_interface.html#a7bbe3b808315357bc57f002abb161cb5">transactionPtr</a> != NULL)</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;    {</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;        <span class="keyword">delete</span> <a class="code" href="class_api_interface.html#a7bbe3b808315357bc57f002abb161cb5">transactionPtr</a>;</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;        <a class="code" href="class_api_interface.html#a7bbe3b808315357bc57f002abb161cb5">transactionPtr</a>=NULL;</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;    }</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_pg.html#ada3091b1aa6c1f463bbc773b02bef89c">state</a>==<a class="code" href="class_pg.html#a3dfd8436412740e96fafae7516a6050aad3b3a04101f0f52861d7edf8b62e02dc">STATE_EXITING</a>)</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;    {</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_api_interface.html#a9d905b470f3bf5752032a637fe3545fd">statementPtr</a>==NULL)</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;        {</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;            fprintf(<a class="code" href="defs_8h.html#ab25a3625a8efbaa3d81ef27bbb51c9c5">logfile</a>, <span class="stringliteral">&quot;%s %i deleting this %p\n&quot;</span>, __FILE__, __LINE__,</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;                    <span class="keyword">this</span>);</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;            <span class="keyword">delete</span> <span class="keyword">this</span>;</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;        }</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;    }</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_pg.html#a8422838d3a7e83f6db18eceb18817588" title="write response messages to socket ">writesocket</a>()==-1)</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;    {</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;        <a class="code" href="class_pg.html#a23146f712d62c6b5c4537b55dbc89727" title="close socket ">closesocket</a>(*<a class="code" href="class_api_interface.html#ab8927a476baf6830781f3528765591ab">taPtr</a>);</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;    }</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;    <a class="code" href="class_pg.html#aa66ae17967b8ab82d4753e70598818f1">outbuf</a>.clear();</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_pg_af53fe07c0c0a879e0291e723dff34926_cgraph.png" border="0" usemap="#class_pg_af53fe07c0c0a879e0291e723dff34926_cgraph" alt=""/></div>
<map name="class_pg_af53fe07c0c0a879e0291e723dff34926_cgraph" id="class_pg_af53fe07c0c0a879e0291e723dff34926_cgraph">
<area shape="rect" id="node3" href="class_pg.html#a23146f712d62c6b5c4537b55dbc89727" title="close socket " alt="" coords="287,137,401,167"/><area shape="rect" id="node31" href="class_pg.html#af5367b8b342543bd56c310ff0afe2aea" title="write completed command to outbound message buffer " alt="" coords="255,271,433,300"/><area shape="rect" id="node37" href="class_pg.html#a8422838d3a7e83f6db18eceb18817588" title="write response messages to socket " alt="" coords="288,217,400,247"/><area shape="rect" id="node5" href="class_api_interface.html#a0ec871d856f976629ce78d5fc3e4e9d5" title="continuation function after implicit commit " alt="" coords="483,41,648,87"/><area shape="rect" id="node7" href="class_pg.html#ac6ac0dd94a70fd221b3807ecf908f251" title="more socket closing&#45;related activities " alt="" coords="500,111,631,140"/><area shape="rect" id="node9" href="class_transaction.html#a000e4f0882139eb8470f7472ca14a24e" title="ROLLBACK. " alt="" coords="495,164,636,193"/><area shape="rect" id="node11" href="class_transaction.html#a58d291fe5c0ee6984aa71a79c7126376" title="send MessageTransaction variant to Engine " alt="" coords="696,112,891,141"/><area shape="rect" id="node13" href="class_mboxes.html#a956f8e7626423edfd33db7a185b8b352" title="produce Message for Engine associated with specific partition " alt="" coords="940,139,1073,168"/><area shape="rect" id="node29" href="class_transaction.html#a62cfbd3f256c6b36cfdd16cddf1ab5fe" title="continue back to calling function " alt="" coords="724,216,863,245"/><area shape="rect" id="node15" href="class_mbox_producer.html#a9ca818bdf4ef9bacbaa6cb1d63a68dbd" title="produce Message onto mailbox " alt="" coords="1124,112,1289,141"/><area shape="rect" id="node26" href="class_message.html#a8f4edea412ed3bbaa8d3cf2d1d48b8b3" title="put addresses in Message variant envelope " alt="" coords="1129,165,1284,195"/><area shape="rect" id="node17" href="class_mbox.html#a5311178f7221ffa942fa128424ac9a86" title="create 128bit integer from Message object " alt="" coords="1339,5,1525,35"/><area shape="rect" id="node19" href="class_mbox.html#ae545aa094bc902b10f9b1e042c24e42b" title="return Message pointer from 128bit integer " alt="" coords="1384,59,1480,88"/><area shape="rect" id="node21" href="class_mboxes.html#abaaf6c0d67c235bcb17e7f9e935861cf" title="send batched Message objects destined to remote nodes " alt="" coords="1355,112,1509,141"/><area shape="rect" id="node24" href="class_message.html#a4508c42d7366a86327ca3076eb1ff007" title="return serialized Message variant string " alt="" coords="1369,165,1495,195"/><area shape="rect" id="node33" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer " alt="" coords="533,271,597,300"/><area shape="rect" id="node35" href="class_pg.html#a3ea550f9d0d24a3c7aeb736b83c86bcb" title="put message for reply into outbound buffer " alt="" coords="516,217,615,247"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_pg_af53fe07c0c0a879e0291e723dff34926_icgraph.png" border="0" usemap="#class_pg_af53fe07c0c0a879e0291e723dff34926_icgraph" alt=""/></div>
<map name="class_pg_af53fe07c0c0a879e0291e723dff34926_icgraph" id="class_pg_af53fe07c0c0a879e0291e723dff34926_icgraph">
<area shape="rect" id="node3" href="class_pg.html#a55518b7c783c58e23badcc740e96cd8e" title="explicit commit " alt="" coords="253,5,400,35"/><area shape="rect" id="node5" href="class_pg.html#ac132fbe1a0c46c68ece5004366dd8a62" title="after SQL activity is performed " alt="" coords="449,5,588,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="adc7f4444738cd3201d51fd254c28f353"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Pg::continuePgCommitimplicit </td>
          <td>(</td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>entrypoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>statePtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>continuation function after implicit commit </p>
<p>implicit commit done after a single statement is entered, not in a transaction already, and session_isautocommit is true</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">entrypoint</td><td>entry point to continue </td></tr>
    <tr><td class="paramname">statePtr</td><td>state data to continue with </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="class_api_interface.html#a0ec871d856f976629ce78d5fc3e4e9d5">ApiInterface</a>.</p>

<p>Definition at line <a class="el" href="_pg_8cc_source.html#l01420">1420</a> of file <a class="el" href="_pg_8cc_source.html">Pg.cc</a>.</p>

<p>References <a class="el" href="_pg_8cc_source.html#l00372">closesocket()</a>, <a class="el" href="main_8cc_source.html#l00036">logfile</a>, <a class="el" href="_pg_8h_source.html#l00444">state</a>, <a class="el" href="_pg_8h_source.html#l00061">STATE_EXITING</a>, <a class="el" href="infinisql_8h_source.html#l00730">ApiInterface::statementPtr</a>, <a class="el" href="infinisql_8h_source.html#l00728">ApiInterface::taPtr</a>, <a class="el" href="infinisql_8h_source.html#l00732">ApiInterface::transactionPtr</a>, and <a class="el" href="_pg_8cc_source.html#l00731">writesocket()</a>.</p>

<p>Referenced by <a class="el" href="_pg_8cc_source.html#l01174">sqlcommitimplicit()</a>.</p>
<div class="fragment"><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;{</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_api_interface.html#a7bbe3b808315357bc57f002abb161cb5">transactionPtr</a> != NULL)</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;    {</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;        <span class="keyword">delete</span> <a class="code" href="class_api_interface.html#a7bbe3b808315357bc57f002abb161cb5">transactionPtr</a>;</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;        <a class="code" href="class_api_interface.html#a7bbe3b808315357bc57f002abb161cb5">transactionPtr</a>=NULL;</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;    }</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_pg.html#ada3091b1aa6c1f463bbc773b02bef89c">state</a>==<a class="code" href="class_pg.html#a3dfd8436412740e96fafae7516a6050aad3b3a04101f0f52861d7edf8b62e02dc">STATE_EXITING</a>)</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;    {</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_api_interface.html#a9d905b470f3bf5752032a637fe3545fd">statementPtr</a>==NULL)</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;        {</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;            fprintf(<a class="code" href="defs_8h.html#ab25a3625a8efbaa3d81ef27bbb51c9c5">logfile</a>, <span class="stringliteral">&quot;%s %i deleting this %p\n&quot;</span>, __FILE__, __LINE__,</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;                    <span class="keyword">this</span>);</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;            <span class="keyword">delete</span> <span class="keyword">this</span>;</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;        }</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;    }</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_pg.html#a8422838d3a7e83f6db18eceb18817588" title="write response messages to socket ">writesocket</a>()==-1)</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;    {</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;        <a class="code" href="class_pg.html#a23146f712d62c6b5c4537b55dbc89727" title="close socket ">closesocket</a>(*<a class="code" href="class_api_interface.html#ab8927a476baf6830781f3528765591ab">taPtr</a>);</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;    }</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_pg_adc7f4444738cd3201d51fd254c28f353_cgraph.png" border="0" usemap="#class_pg_adc7f4444738cd3201d51fd254c28f353_cgraph" alt=""/></div>
<map name="class_pg_adc7f4444738cd3201d51fd254c28f353_cgraph" id="class_pg_adc7f4444738cd3201d51fd254c28f353_cgraph">
<area shape="rect" id="node3" href="class_pg.html#a23146f712d62c6b5c4537b55dbc89727" title="close socket " alt="" coords="255,137,369,167"/><area shape="rect" id="node31" href="class_pg.html#a8422838d3a7e83f6db18eceb18817588" title="write response messages to socket " alt="" coords="256,217,368,247"/><area shape="rect" id="node5" href="class_api_interface.html#a0ec871d856f976629ce78d5fc3e4e9d5" title="continuation function after implicit commit " alt="" coords="419,41,584,87"/><area shape="rect" id="node7" href="class_pg.html#ac6ac0dd94a70fd221b3807ecf908f251" title="more socket closing&#45;related activities " alt="" coords="436,111,567,140"/><area shape="rect" id="node9" href="class_transaction.html#a000e4f0882139eb8470f7472ca14a24e" title="ROLLBACK. " alt="" coords="431,164,572,193"/><area shape="rect" id="node11" href="class_transaction.html#a58d291fe5c0ee6984aa71a79c7126376" title="send MessageTransaction variant to Engine " alt="" coords="632,112,827,141"/><area shape="rect" id="node13" href="class_mboxes.html#a956f8e7626423edfd33db7a185b8b352" title="produce Message for Engine associated with specific partition " alt="" coords="876,139,1009,168"/><area shape="rect" id="node29" href="class_transaction.html#a62cfbd3f256c6b36cfdd16cddf1ab5fe" title="continue back to calling function " alt="" coords="660,216,799,245"/><area shape="rect" id="node15" href="class_mbox_producer.html#a9ca818bdf4ef9bacbaa6cb1d63a68dbd" title="produce Message onto mailbox " alt="" coords="1060,112,1225,141"/><area shape="rect" id="node26" href="class_message.html#a8f4edea412ed3bbaa8d3cf2d1d48b8b3" title="put addresses in Message variant envelope " alt="" coords="1065,165,1220,195"/><area shape="rect" id="node17" href="class_mbox.html#a5311178f7221ffa942fa128424ac9a86" title="create 128bit integer from Message object " alt="" coords="1275,5,1461,35"/><area shape="rect" id="node19" href="class_mbox.html#ae545aa094bc902b10f9b1e042c24e42b" title="return Message pointer from 128bit integer " alt="" coords="1320,59,1416,88"/><area shape="rect" id="node21" href="class_mboxes.html#abaaf6c0d67c235bcb17e7f9e935861cf" title="send batched Message objects destined to remote nodes " alt="" coords="1291,112,1445,141"/><area shape="rect" id="node24" href="class_message.html#a4508c42d7366a86327ca3076eb1ff007" title="return serialized Message variant string " alt="" coords="1305,165,1431,195"/><area shape="rect" id="node33" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer " alt="" coords="469,217,533,247"/><area shape="rect" id="node35" href="class_pg.html#a3ea550f9d0d24a3c7aeb736b83c86bcb" title="put message for reply into outbound buffer " alt="" coords="452,271,551,300"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_pg_adc7f4444738cd3201d51fd254c28f353_icgraph.png" border="0" usemap="#class_pg_adc7f4444738cd3201d51fd254c28f353_icgraph" alt=""/></div>
<map name="class_pg_adc7f4444738cd3201d51fd254c28f353_icgraph" id="class_pg_adc7f4444738cd3201d51fd254c28f353_icgraph">
<area shape="rect" id="node3" href="class_pg.html#a5c7a5cc08d6f879c72e2a5e9515ae7a8" title="implicit commit " alt="" coords="253,5,400,35"/><area shape="rect" id="node5" href="class_pg.html#ac132fbe1a0c46c68ece5004366dd8a62" title="after SQL activity is performed " alt="" coords="449,5,588,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac132fbe1a0c46c68ece5004366dd8a62"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Pg::continuePgFunc </td>
          <td>(</td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>entrypoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>statePtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>after SQL activity is performed </p>
<p>based on the statement type and transaction state, a variety of things if session_isautocommit==true, and is SELECT, INSERT, UPDATE, DELETE, then output If autocommit==false, and SELECT, INSERT, UPDATE, DELETE, then prepare output but don't output if COMMIT (END), then commit open transaction and output results already prepared if ROLLBACK, then rollback open transaction and output results CommandComplete at the end of everything returned If set, then set whatever</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">entrypoint</td><td>entry point to contiue </td></tr>
    <tr><td class="paramname">statePtr</td><td>state data to continue with </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="class_api_interface.html#a1742d74b8d302780a5d1226f6360dfee">ApiInterface</a>.</p>

<p>Definition at line <a class="el" href="_pg_8cc_source.html#l00876">876</a> of file <a class="el" href="_pg_8cc_source.html">Pg.cc</a>.</p>

<p>References <a class="el" href="_pg_8cc_source.html#l00372">closesocket()</a>, <a class="el" href="infinisql_8h_source.html#l00070">CMD_BEGIN</a>, <a class="el" href="infinisql_8h_source.html#l00071">CMD_COMMIT</a>, <a class="el" href="infinisql_8h_source.html#l00069">CMD_DELETE</a>, <a class="el" href="infinisql_8h_source.html#l00067">CMD_INSERT</a>, <a class="el" href="infinisql_8h_source.html#l00072">CMD_ROLLBACK</a>, <a class="el" href="infinisql_8h_source.html#l00066">CMD_SELECT</a>, <a class="el" href="infinisql_8h_source.html#l00073">CMD_SET</a>, <a class="el" href="infinisql_8h_source.html#l00074">CMD_STOREDPROCEDURE</a>, <a class="el" href="infinisql_8h_source.html#l00068">CMD_UPDATE</a>, <a class="el" href="infinisql_8h_source.html#l00252">ApiInterface::results_s::cmdtype</a>, <a class="el" href="_pg_8h_source.html#l00466">command_autocommit</a>, <a class="el" href="_pg_8cc_source.html#l01595">errorStatus()</a>, <a class="el" href="_pg_8h_source.html#l00467">isintransactionblock</a>, <a class="el" href="main_8cc_source.html#l00036">logfile</a>, <a class="el" href="_pg_8cc_source.html#l01134">putCommandComplete()</a>, <a class="el" href="_pg_8cc_source.html#l01316">putDataRows()</a>, <a class="el" href="_pg_8cc_source.html#l01160">putNoticeResponse()</a>, <a class="el" href="_pg_8cc_source.html#l01254">putRowDescription()</a>, <a class="el" href="infinisql_8h_source.html#l00742">ApiInterface::results</a>, <a class="el" href="infinisql_8h_source.html#l00258">ApiInterface::results_s::selectResults</a>, <a class="el" href="_pg_8h_source.html#l00464">session_isautocommit</a>, <a class="el" href="_pg_8cc_source.html#l01190">sqlcommitexplicit()</a>, <a class="el" href="_pg_8cc_source.html#l01174">sqlcommitimplicit()</a>, <a class="el" href="_pg_8cc_source.html#l01227">sqlrollbackexplicit()</a>, <a class="el" href="_pg_8cc_source.html#l01206">sqlrollbackimplicit()</a>, <a class="el" href="_pg_8h_source.html#l00444">state</a>, <a class="el" href="_pg_8h_source.html#l00061">STATE_EXITING</a>, <a class="el" href="infinisql_8h_source.html#l00255">ApiInterface::results_s::statementResults</a>, <a class="el" href="infinisql_8h_source.html#l00254">ApiInterface::results_s::statementStatus</a>, <a class="el" href="infinisql_8h_source.html#l00046">STATUS_NOTOK</a>, <a class="el" href="infinisql_8h_source.html#l00045">STATUS_OK</a>, <a class="el" href="infinisql_8h_source.html#l00728">ApiInterface::taPtr</a>, <a class="el" href="infinisql_8h_source.html#l00253">ApiInterface::results_s::transactionPtr</a>, <a class="el" href="infinisql_8h_source.html#l00732">ApiInterface::transactionPtr</a>, and <a class="el" href="_pg_8cc_source.html#l00731">writesocket()</a>.</p>
<div class="fragment"><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;{</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;    <span class="comment">/* based on the statement type and transaction state, a variety of things</span></div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;<span class="comment">     * if session_isautocommit==true, and is SELECT, INSERT, UPDATE, DELETE,</span></div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;<span class="comment">     * then output</span></div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;<span class="comment">     * If autocommit==false, and SELECT, INSERT, UPDATE, DELETE, then prepare</span></div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;<span class="comment">     * output but don&#39;t output</span></div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;<span class="comment">     * if COMMIT (END), then commit open transaction and output results already</span></div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;<span class="comment">     * prepared</span></div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;<span class="comment">     * if ROLLBACK, then rollback open transaction and output results</span></div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;<span class="comment">     * CommandComplete at the end of everything returned</span></div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;<span class="comment">     * If set, then set whatever</span></div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;    <a class="code" href="class_api_interface.html#a7bbe3b808315357bc57f002abb161cb5">transactionPtr</a>=<a class="code" href="class_api_interface.html#a457bd797da91eee8ce3f3d59be2ae4ec">results</a>.<a class="code" href="struct_api_interface_1_1results__s.html#a1316973c76d74e75d297911e351a2196">transactionPtr</a>;</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_pg.html#ada3091b1aa6c1f463bbc773b02bef89c">state</a>==<a class="code" href="class_pg.html#a3dfd8436412740e96fafae7516a6050aad3b3a04101f0f52861d7edf8b62e02dc">STATE_EXITING</a>)</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;    {</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_api_interface.html#a7bbe3b808315357bc57f002abb161cb5">transactionPtr</a>==NULL)</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;        {</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;            fprintf(<a class="code" href="defs_8h.html#ab25a3625a8efbaa3d81ef27bbb51c9c5">logfile</a>, <span class="stringliteral">&quot;%s %i deleting this %p\n&quot;</span>, __FILE__, __LINE__,</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;                    <span class="keyword">this</span>);</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;            <span class="keyword">delete</span> <span class="keyword">this</span>;</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;        }</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;        {</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;            <a class="code" href="class_pg.html#a26dfda1f20b2fdaac85986fa3dd7ebca" title="explicit rollback ">sqlrollbackexplicit</a>();</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;        }</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;    }</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="class_api_interface.html#a457bd797da91eee8ce3f3d59be2ae4ec">results</a>.<a class="code" href="struct_api_interface_1_1results__s.html#aacc9d4b449bc3798a9eba902ea6860d7">cmdtype</a>)</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;    {</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="infinisql_8h.html#a65a2263ffbf59255bacff6451520cdb1acdfd080a7b573501dc2293cbe2d1376c">CMD_SELECT</a>:</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;    {</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_api_interface.html#a457bd797da91eee8ce3f3d59be2ae4ec">results</a>.<a class="code" href="struct_api_interface_1_1results__s.html#a7227cf08bdf95e3e4ed1e856aaec5c9b">statementStatus</a>==<a class="code" href="infinisql_8h.html#a2403320c41f08e7567cb169de5db66b3">STATUS_OK</a>)</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;        {</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;            <a class="code" href="class_pg.html#ab381a3f0ef9beb0470e5aaff768d404d" title="write field names to outbound message buffer ">putRowDescription</a>();</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;            <a class="code" href="class_pg.html#a1a74f6c5437f7e8faea3f875fc9a73c4" title="write rows to outbound message buffer ">putDataRows</a>();</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;            std::stringstream tag;</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;            tag &lt;&lt; <span class="stringliteral">&quot;SELECT &quot;</span> &lt;&lt; <a class="code" href="class_api_interface.html#a457bd797da91eee8ce3f3d59be2ae4ec">results</a>.<a class="code" href="struct_api_interface_1_1results__s.html#a1ff0823cfc2f024d2908428f0634c7fb">selectResults</a>.size();</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;            <a class="code" href="class_pg.html#af5367b8b342543bd56c310ff0afe2aea" title="write completed command to outbound message buffer ">putCommandComplete</a>((<span class="keywordtype">char</span> *)tag.str().c_str());</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;        }</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;        {</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;            <a class="code" href="class_pg.html#ac7dab9ff8d6e0a409b2e645605ca52e6" title="implicit rollback ">sqlrollbackimplicit</a>();</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;            <a class="code" href="class_pg.html#aaa7af6e009006b5eb3c4ff8324ac2d6c" title="output error based on Transaction::resultCode ">errorStatus</a>(<a class="code" href="class_api_interface.html#a457bd797da91eee8ce3f3d59be2ae4ec">results</a>.<a class="code" href="struct_api_interface_1_1results__s.html#a7227cf08bdf95e3e4ed1e856aaec5c9b">statementStatus</a>);</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;        }</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_pg.html#af6a3e38d25a2fc5a56b6f6a9a8038a46">isintransactionblock</a>==<span class="keyword">false</span> &amp;&amp; (<a class="code" href="class_pg.html#a7951fb241c5eb477043de68f40445f17">session_isautocommit</a>==<span class="keyword">true</span> ||</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;                                            <a class="code" href="class_pg.html#a0ca4c75980e4c98d1dd74829d9ab259d">command_autocommit</a>==<span class="keyword">true</span>))</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;        {</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;            <a class="code" href="class_pg.html#a5c7a5cc08d6f879c72e2a5e9515ae7a8" title="implicit commit ">sqlcommitimplicit</a>();</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;        }</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;        {</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_pg.html#a8422838d3a7e83f6db18eceb18817588" title="write response messages to socket ">writesocket</a>()==-1)</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;            {</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;                <a class="code" href="class_pg.html#a23146f712d62c6b5c4537b55dbc89727" title="close socket ">closesocket</a>(*<a class="code" href="class_api_interface.html#ab8927a476baf6830781f3528765591ab">taPtr</a>);</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;            }</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;        }</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;    }</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="infinisql_8h.html#a65a2263ffbf59255bacff6451520cdb1a25e33e3e067ed7f6886045c67b537e1b">CMD_INSERT</a>:</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_api_interface.html#a457bd797da91eee8ce3f3d59be2ae4ec">results</a>.<a class="code" href="struct_api_interface_1_1results__s.html#a7227cf08bdf95e3e4ed1e856aaec5c9b">statementStatus</a>==<a class="code" href="infinisql_8h.html#a2403320c41f08e7567cb169de5db66b3">STATUS_OK</a>)</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;        {</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;            <a class="code" href="class_pg.html#af5367b8b342543bd56c310ff0afe2aea" title="write completed command to outbound message buffer ">putCommandComplete</a>(<span class="stringliteral">&quot;INSERT 0 1&quot;</span>);</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;        }</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;        {</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;            <a class="code" href="class_pg.html#ac7dab9ff8d6e0a409b2e645605ca52e6" title="implicit rollback ">sqlrollbackimplicit</a>();</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;            <a class="code" href="class_pg.html#aaa7af6e009006b5eb3c4ff8324ac2d6c" title="output error based on Transaction::resultCode ">errorStatus</a>(<a class="code" href="class_api_interface.html#a457bd797da91eee8ce3f3d59be2ae4ec">results</a>.<a class="code" href="struct_api_interface_1_1results__s.html#a7227cf08bdf95e3e4ed1e856aaec5c9b">statementStatus</a>);</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;        }</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_pg.html#af6a3e38d25a2fc5a56b6f6a9a8038a46">isintransactionblock</a>==<span class="keyword">false</span> &amp;&amp; (<a class="code" href="class_pg.html#a7951fb241c5eb477043de68f40445f17">session_isautocommit</a>==<span class="keyword">true</span> ||</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;                                            <a class="code" href="class_pg.html#a0ca4c75980e4c98d1dd74829d9ab259d">command_autocommit</a>==<span class="keyword">true</span>))</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;        {</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;            <a class="code" href="class_pg.html#a5c7a5cc08d6f879c72e2a5e9515ae7a8" title="implicit commit ">sqlcommitimplicit</a>();</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;        }</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;        {</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_pg.html#a8422838d3a7e83f6db18eceb18817588" title="write response messages to socket ">writesocket</a>()==-1)</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;            {</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;                <a class="code" href="class_pg.html#a23146f712d62c6b5c4537b55dbc89727" title="close socket ">closesocket</a>(*<a class="code" href="class_api_interface.html#ab8927a476baf6830781f3528765591ab">taPtr</a>);</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;            }</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;        }</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="infinisql_8h.html#a65a2263ffbf59255bacff6451520cdb1ac856eb309007d142b85ff6e07f578582">CMD_UPDATE</a>:</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;    {</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_api_interface.html#a457bd797da91eee8ce3f3d59be2ae4ec">results</a>.<a class="code" href="struct_api_interface_1_1results__s.html#a7227cf08bdf95e3e4ed1e856aaec5c9b">statementStatus</a>==<a class="code" href="infinisql_8h.html#a2403320c41f08e7567cb169de5db66b3">STATUS_OK</a>)</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;        {</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;            std::stringstream tag;</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;            tag &lt;&lt; <span class="stringliteral">&quot;UPDATE &quot;</span> &lt;&lt; <a class="code" href="class_api_interface.html#a457bd797da91eee8ce3f3d59be2ae4ec">results</a>.<a class="code" href="struct_api_interface_1_1results__s.html#a219937391edc8bef13918214b1c7c3bb">statementResults</a>.size();</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;            <a class="code" href="class_pg.html#af5367b8b342543bd56c310ff0afe2aea" title="write completed command to outbound message buffer ">putCommandComplete</a>((<span class="keywordtype">char</span> *)tag.str().c_str());</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;        }</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;        {</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;            <a class="code" href="class_pg.html#ac7dab9ff8d6e0a409b2e645605ca52e6" title="implicit rollback ">sqlrollbackimplicit</a>();</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;            <a class="code" href="class_pg.html#aaa7af6e009006b5eb3c4ff8324ac2d6c" title="output error based on Transaction::resultCode ">errorStatus</a>(<a class="code" href="infinisql_8h.html#a3015704fed525d1422b761f2d8614ca1">STATUS_NOTOK</a>);</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;        }</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_pg.html#af6a3e38d25a2fc5a56b6f6a9a8038a46">isintransactionblock</a>==<span class="keyword">false</span> &amp;&amp; (<a class="code" href="class_pg.html#a7951fb241c5eb477043de68f40445f17">session_isautocommit</a>==<span class="keyword">true</span> ||</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;                                            <a class="code" href="class_pg.html#a0ca4c75980e4c98d1dd74829d9ab259d">command_autocommit</a>==<span class="keyword">true</span>))</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;        {</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;            <a class="code" href="class_pg.html#a5c7a5cc08d6f879c72e2a5e9515ae7a8" title="implicit commit ">sqlcommitimplicit</a>();</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;        }</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;        {</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_pg.html#a8422838d3a7e83f6db18eceb18817588" title="write response messages to socket ">writesocket</a>()==-1)</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;            {</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;                <a class="code" href="class_pg.html#a23146f712d62c6b5c4537b55dbc89727" title="close socket ">closesocket</a>(*<a class="code" href="class_api_interface.html#ab8927a476baf6830781f3528765591ab">taPtr</a>);</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;            }</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;        }</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;    }</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="infinisql_8h.html#a65a2263ffbf59255bacff6451520cdb1a44f7b12c33496991aba2ce40f34e18be">CMD_DELETE</a>:</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;    {</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_api_interface.html#a457bd797da91eee8ce3f3d59be2ae4ec">results</a>.<a class="code" href="struct_api_interface_1_1results__s.html#a7227cf08bdf95e3e4ed1e856aaec5c9b">statementStatus</a>==<a class="code" href="infinisql_8h.html#a2403320c41f08e7567cb169de5db66b3">STATUS_OK</a>)</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;        {</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;            std::stringstream tag;</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;            tag &lt;&lt; <span class="stringliteral">&quot;DELETE &quot;</span> &lt;&lt; <a class="code" href="class_api_interface.html#a457bd797da91eee8ce3f3d59be2ae4ec">results</a>.<a class="code" href="struct_api_interface_1_1results__s.html#a219937391edc8bef13918214b1c7c3bb">statementResults</a>.size();</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;            <a class="code" href="class_pg.html#af5367b8b342543bd56c310ff0afe2aea" title="write completed command to outbound message buffer ">putCommandComplete</a>((<span class="keywordtype">char</span> *)tag.str().c_str());</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;        }</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;        {</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;            <a class="code" href="class_pg.html#ac7dab9ff8d6e0a409b2e645605ca52e6" title="implicit rollback ">sqlrollbackimplicit</a>();</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;            <a class="code" href="class_pg.html#aaa7af6e009006b5eb3c4ff8324ac2d6c" title="output error based on Transaction::resultCode ">errorStatus</a>(<a class="code" href="class_api_interface.html#a457bd797da91eee8ce3f3d59be2ae4ec">results</a>.<a class="code" href="struct_api_interface_1_1results__s.html#a7227cf08bdf95e3e4ed1e856aaec5c9b">statementStatus</a>);</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;        }</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_pg.html#af6a3e38d25a2fc5a56b6f6a9a8038a46">isintransactionblock</a>==<span class="keyword">false</span> &amp;&amp; (<a class="code" href="class_pg.html#a7951fb241c5eb477043de68f40445f17">session_isautocommit</a>==<span class="keyword">true</span> ||</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;                                            <a class="code" href="class_pg.html#a0ca4c75980e4c98d1dd74829d9ab259d">command_autocommit</a>==<span class="keyword">true</span>))</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;        {</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;            <a class="code" href="class_pg.html#a5c7a5cc08d6f879c72e2a5e9515ae7a8" title="implicit commit ">sqlcommitimplicit</a>();</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;        }</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;        {</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_pg.html#a8422838d3a7e83f6db18eceb18817588" title="write response messages to socket ">writesocket</a>()==-1)</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;            {</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;                <a class="code" href="class_pg.html#a23146f712d62c6b5c4537b55dbc89727" title="close socket ">closesocket</a>(*<a class="code" href="class_api_interface.html#ab8927a476baf6830781f3528765591ab">taPtr</a>);</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;            }</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;        }</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;    }</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="infinisql_8h.html#a65a2263ffbf59255bacff6451520cdb1a0b1882463452a9b63bc4403123dbda2a">CMD_BEGIN</a>:</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_api_interface.html#a7bbe3b808315357bc57f002abb161cb5">transactionPtr</a>==NULL)</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;        {</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;            <a class="code" href="class_api_interface.html#a7bbe3b808315357bc57f002abb161cb5">transactionPtr</a> = <span class="keyword">new</span> <span class="keyword">class </span><a class="code" href="class_transaction.html" title="create Transaction object ">Transaction</a>(<a class="code" href="class_api_interface.html#ab8927a476baf6830781f3528765591ab">taPtr</a>, <a class="code" href="class_pg.html#a02b793188e489b313841541b6cc95045">schemaPtr</a>-&gt;<a class="code" href="class_api_interface.html#a03b4ff3fc21b9f56bec1e57d8e9f90bb">domainid</a>);</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;            <a class="code" href="class_pg.html#af6a3e38d25a2fc5a56b6f6a9a8038a46">isintransactionblock</a>=<span class="keyword">true</span>;</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;            <a class="code" href="class_pg.html#af5367b8b342543bd56c310ff0afe2aea" title="write completed command to outbound message buffer ">putCommandComplete</a>(<span class="stringliteral">&quot;BEGIN&quot;</span>);</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_pg.html#a8422838d3a7e83f6db18eceb18817588" title="write response messages to socket ">writesocket</a>()==-1)</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;            {</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;                <a class="code" href="class_pg.html#a23146f712d62c6b5c4537b55dbc89727" title="close socket ">closesocket</a>(*<a class="code" href="class_api_interface.html#ab8927a476baf6830781f3528765591ab">taPtr</a>);</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;            }</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;        }</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;        {</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;            <a class="code" href="class_pg.html#aa27e5bcd510d4b5a3203b8a8191273c2" title="write notice to outbound message buffer ">putNoticeResponse</a>(<span class="stringliteral">&quot;WARNING&quot;</span>, <span class="stringliteral">&quot;25001&quot;</span>, <span class="stringliteral">&quot;there is already a transaction in progress&quot;</span>);</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;            <a class="code" href="class_pg.html#af5367b8b342543bd56c310ff0afe2aea" title="write completed command to outbound message buffer ">putCommandComplete</a>(<span class="stringliteral">&quot;BEGIN&quot;</span>);</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_pg.html#a8422838d3a7e83f6db18eceb18817588" title="write response messages to socket ">writesocket</a>()==-1)</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;            {</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;                <a class="code" href="class_pg.html#a23146f712d62c6b5c4537b55dbc89727" title="close socket ">closesocket</a>(*<a class="code" href="class_api_interface.html#ab8927a476baf6830781f3528765591ab">taPtr</a>);</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;            }</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;        }</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="infinisql_8h.html#a65a2263ffbf59255bacff6451520cdb1a804e3de743eb90fcb17c9381e245c89e">CMD_COMMIT</a>:</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_api_interface.html#a7bbe3b808315357bc57f002abb161cb5">transactionPtr</a> != NULL)</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;        {</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;            <a class="code" href="class_pg.html#af6a3e38d25a2fc5a56b6f6a9a8038a46">isintransactionblock</a>=<span class="keyword">false</span>;</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;            <a class="code" href="class_pg.html#a55518b7c783c58e23badcc740e96cd8e" title="explicit commit ">sqlcommitexplicit</a>();</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;        }</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;        {</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;            <a class="code" href="class_pg.html#aa27e5bcd510d4b5a3203b8a8191273c2" title="write notice to outbound message buffer ">putNoticeResponse</a>(<span class="stringliteral">&quot;WARNING&quot;</span>, <span class="stringliteral">&quot;25P01&quot;</span>, <span class="stringliteral">&quot;there is no transaction in progress&quot;</span>);</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;            <a class="code" href="class_pg.html#af5367b8b342543bd56c310ff0afe2aea" title="write completed command to outbound message buffer ">putCommandComplete</a>(<span class="stringliteral">&quot;COMMIT&quot;</span>);</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_pg.html#a8422838d3a7e83f6db18eceb18817588" title="write response messages to socket ">writesocket</a>()==-1)</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;            {</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;                <a class="code" href="class_pg.html#a23146f712d62c6b5c4537b55dbc89727" title="close socket ">closesocket</a>(*<a class="code" href="class_api_interface.html#ab8927a476baf6830781f3528765591ab">taPtr</a>);</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;            }</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;        }</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="infinisql_8h.html#a65a2263ffbf59255bacff6451520cdb1ae09c2a8c073c4d5489d396783293e046">CMD_ROLLBACK</a>:</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_api_interface.html#a7bbe3b808315357bc57f002abb161cb5">transactionPtr</a> != NULL)</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;        {</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;            <a class="code" href="class_pg.html#af6a3e38d25a2fc5a56b6f6a9a8038a46">isintransactionblock</a>=<span class="keyword">false</span>;</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;            <a class="code" href="class_pg.html#a26dfda1f20b2fdaac85986fa3dd7ebca" title="explicit rollback ">sqlrollbackexplicit</a>();</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;        }</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;        {</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;            <a class="code" href="class_pg.html#aa27e5bcd510d4b5a3203b8a8191273c2" title="write notice to outbound message buffer ">putNoticeResponse</a>(<span class="stringliteral">&quot;WARNING&quot;</span>, <span class="stringliteral">&quot;25P01&quot;</span>, <span class="stringliteral">&quot;there is no transaction in progress&quot;</span>);</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;            <a class="code" href="class_pg.html#af5367b8b342543bd56c310ff0afe2aea" title="write completed command to outbound message buffer ">putCommandComplete</a>(<span class="stringliteral">&quot;ROLLBACK&quot;</span>);</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_pg.html#a8422838d3a7e83f6db18eceb18817588" title="write response messages to socket ">writesocket</a>()==-1)</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;            {</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;                <a class="code" href="class_pg.html#a23146f712d62c6b5c4537b55dbc89727" title="close socket ">closesocket</a>(*<a class="code" href="class_api_interface.html#ab8927a476baf6830781f3528765591ab">taPtr</a>);</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;            }</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;        }</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="infinisql_8h.html#a65a2263ffbf59255bacff6451520cdb1af159e9c0879325c0a2a9af66c5386654">CMD_SET</a>:</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="infinisql_8h.html#a65a2263ffbf59255bacff6451520cdb1a712078a07a2a9c32b36e46ac6cbbb51c">CMD_STOREDPROCEDURE</a>:</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;    {</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_api_interface.html#a457bd797da91eee8ce3f3d59be2ae4ec">results</a>.<a class="code" href="struct_api_interface_1_1results__s.html#a7227cf08bdf95e3e4ed1e856aaec5c9b">statementStatus</a>==<a class="code" href="infinisql_8h.html#a2403320c41f08e7567cb169de5db66b3">STATUS_OK</a>)</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;        {</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;            <a class="code" href="class_pg.html#ab381a3f0ef9beb0470e5aaff768d404d" title="write field names to outbound message buffer ">putRowDescription</a>();</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;            <a class="code" href="class_pg.html#a1a74f6c5437f7e8faea3f875fc9a73c4" title="write rows to outbound message buffer ">putDataRows</a>();</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;            std::stringstream tag;</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;            tag &lt;&lt; <span class="stringliteral">&quot;SELECT &quot;</span> &lt;&lt; <a class="code" href="class_api_interface.html#a457bd797da91eee8ce3f3d59be2ae4ec">results</a>.<a class="code" href="struct_api_interface_1_1results__s.html#a1ff0823cfc2f024d2908428f0634c7fb">selectResults</a>.size();</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;            <a class="code" href="class_pg.html#af5367b8b342543bd56c310ff0afe2aea" title="write completed command to outbound message buffer ">putCommandComplete</a>((<span class="keywordtype">char</span> *)tag.str().c_str());</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;        }</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;        {</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;            <a class="code" href="class_pg.html#ac7dab9ff8d6e0a409b2e645605ca52e6" title="implicit rollback ">sqlrollbackimplicit</a>();</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;            <a class="code" href="class_pg.html#aaa7af6e009006b5eb3c4ff8324ac2d6c" title="output error based on Transaction::resultCode ">errorStatus</a>(<a class="code" href="class_api_interface.html#a457bd797da91eee8ce3f3d59be2ae4ec">results</a>.<a class="code" href="struct_api_interface_1_1results__s.html#a7227cf08bdf95e3e4ed1e856aaec5c9b">statementStatus</a>);</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;        }</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_pg.html#af6a3e38d25a2fc5a56b6f6a9a8038a46">isintransactionblock</a>==<span class="keyword">false</span> &amp;&amp; (<a class="code" href="class_pg.html#a7951fb241c5eb477043de68f40445f17">session_isautocommit</a>==<span class="keyword">true</span> ||</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;                                            <a class="code" href="class_pg.html#a0ca4c75980e4c98d1dd74829d9ab259d">command_autocommit</a>==<span class="keyword">true</span>))</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;        {</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;            <a class="code" href="class_pg.html#a5c7a5cc08d6f879c72e2a5e9515ae7a8" title="implicit commit ">sqlcommitimplicit</a>();</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;        }</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;        {</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_pg.html#a8422838d3a7e83f6db18eceb18817588" title="write response messages to socket ">writesocket</a>()==-1)</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;            {</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;                <a class="code" href="class_pg.html#a23146f712d62c6b5c4537b55dbc89727" title="close socket ">closesocket</a>(*<a class="code" href="class_api_interface.html#ab8927a476baf6830781f3528765591ab">taPtr</a>);</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;            }</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;        }</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;    }</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;        printf(<span class="stringliteral">&quot;%s %i anomaly cmdtype %i statementStatus %li\n&quot;</span>, __FILE__,</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;               __LINE__, <a class="code" href="class_api_interface.html#a457bd797da91eee8ce3f3d59be2ae4ec">results</a>.<a class="code" href="struct_api_interface_1_1results__s.html#aacc9d4b449bc3798a9eba902ea6860d7">cmdtype</a>, <a class="code" href="class_api_interface.html#a457bd797da91eee8ce3f3d59be2ae4ec">results</a>.<a class="code" href="struct_api_interface_1_1results__s.html#a7227cf08bdf95e3e4ed1e856aaec5c9b">statementStatus</a>);</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;    }</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_pg_ac132fbe1a0c46c68ece5004366dd8a62_cgraph.png" border="0" usemap="#class_pg_ac132fbe1a0c46c68ece5004366dd8a62_cgraph" alt=""/></div>
<map name="class_pg_ac132fbe1a0c46c68ece5004366dd8a62_cgraph" id="class_pg_ac132fbe1a0c46c68ece5004366dd8a62_cgraph">
<area shape="rect" id="node3" href="class_pg.html#a23146f712d62c6b5c4537b55dbc89727" title="close socket " alt="" coords="676,623,791,652"/><area shape="rect" id="node31" href="class_pg.html#aaa7af6e009006b5eb3c4ff8324ac2d6c" title="output error based on Transaction::resultCode " alt="" coords="215,901,324,931"/><area shape="rect" id="node39" href="class_pg.html#a8422838d3a7e83f6db18eceb18817588" title="write response messages to socket " alt="" coords="677,849,789,879"/><area shape="rect" id="node44" href="class_pg.html#af5367b8b342543bd56c310ff0afe2aea" title="write completed command to outbound message buffer " alt="" coords="644,1056,823,1085"/><area shape="rect" id="node48" href="class_pg.html#a1a74f6c5437f7e8faea3f875fc9a73c4" title="write rows to outbound message buffer " alt="" coords="671,1109,796,1139"/><area shape="rect" id="node52" href="class_pg.html#aa27e5bcd510d4b5a3203b8a8191273c2" title="write notice to outbound message buffer " alt="" coords="653,1163,813,1192"/><area shape="rect" id="node56" href="class_pg.html#ab381a3f0ef9beb0470e5aaff768d404d" title="write field names to outbound message buffer " alt="" coords="655,1267,812,1296"/><area shape="rect" id="node60" href="class_pg.html#a55518b7c783c58e23badcc740e96cd8e" title="explicit commit " alt="" coords="196,516,343,545"/><area shape="rect" id="node106" href="class_pg.html#a5c7a5cc08d6f879c72e2a5e9515ae7a8" title="implicit commit " alt="" coords="196,425,343,455"/><area shape="rect" id="node114" href="class_pg.html#a26dfda1f20b2fdaac85986fa3dd7ebca" title="explicit rollback " alt="" coords="195,767,344,796"/><area shape="rect" id="node124" href="class_pg.html#ac7dab9ff8d6e0a409b2e645605ca52e6" title="implicit rollback " alt="" coords="195,980,344,1009"/><area shape="rect" id="node5" href="class_api_interface.html#a0ec871d856f976629ce78d5fc3e4e9d5" title="continuation function after implicit commit " alt="" coords="900,553,1065,599"/><area shape="rect" id="node7" href="class_pg.html#ac6ac0dd94a70fd221b3807ecf908f251" title="more socket closing&#45;related activities " alt="" coords="917,623,1048,652"/><area shape="rect" id="node9" href="class_transaction.html#a000e4f0882139eb8470f7472ca14a24e" title="ROLLBACK. " alt="" coords="912,676,1053,705"/><area shape="rect" id="node11" href="class_transaction.html#a58d291fe5c0ee6984aa71a79c7126376" title="send MessageTransaction variant to Engine " alt="" coords="1141,403,1336,432"/><area shape="rect" id="node13" href="class_mboxes.html#a956f8e7626423edfd33db7a185b8b352" title="produce Message for Engine associated with specific partition " alt="" coords="1393,428,1527,457"/><area shape="rect" id="node29" href="class_transaction.html#a62cfbd3f256c6b36cfdd16cddf1ab5fe" title="continue back to calling function " alt="" coords="1169,349,1308,379"/><area shape="rect" id="node15" href="class_mbox_producer.html#a9ca818bdf4ef9bacbaa6cb1d63a68dbd" title="produce Message onto mailbox " alt="" coords="1585,481,1751,511"/><area shape="rect" id="node26" href="class_message.html#a8f4edea412ed3bbaa8d3cf2d1d48b8b3" title="put addresses in Message variant envelope " alt="" coords="1591,428,1745,457"/><area shape="rect" id="node17" href="class_mbox.html#a5311178f7221ffa942fa128424ac9a86" title="create 128bit integer from Message object " alt="" coords="1800,428,1987,457"/><area shape="rect" id="node19" href="class_mbox.html#ae545aa094bc902b10f9b1e042c24e42b" title="return Message pointer from 128bit integer " alt="" coords="1845,481,1941,511"/><area shape="rect" id="node21" href="class_mboxes.html#abaaf6c0d67c235bcb17e7f9e935861cf" title="send batched Message objects destined to remote nodes " alt="" coords="1816,535,1971,564"/><area shape="rect" id="node24" href="class_message.html#a4508c42d7366a86327ca3076eb1ff007" title="return serialized Message variant string " alt="" coords="1831,375,1956,404"/><area shape="rect" id="node33" href="class_pg.html#a79e2585fe00a44c7064745113cf6816a" title="write error to outbound message buffer " alt="" coords="419,901,568,931"/><area shape="rect" id="node35" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer " alt="" coords="951,1069,1015,1099"/><area shape="rect" id="node37" href="class_pg.html#a3ea550f9d0d24a3c7aeb736b83c86bcb" title="put message for reply into outbound buffer " alt="" coords="933,1136,1032,1165"/><area shape="rect" id="node62" href="class_pg.html#af53fe07c0c0a879e0291e723dff34926" title="continuation function after explicit commit " alt="" coords="395,624,592,653"/><area shape="rect" id="node67" href="class_api_interface.html#acc92546b7e795c8d327ac765ff3d2eea" title="continuation function after explicit commit " alt="" coords="411,503,576,550"/><area shape="rect" id="node69" href="class_transaction.html#a109bd0f1d70b6ff69cf3abccf7eea8f8" title="COMMIT. " alt="" coords="663,344,804,373"/><area shape="rect" id="node71" href="class_transaction.html#abfb2d360e416bdf8dc2453a4642c93b8" title="generate unique, always incrementing id for pending command " alt="" coords="872,339,1093,368"/><area shape="rect" id="node73" href="class_transaction.html#a7466fd171b67232f43e9a540950f2413" title="continuation of COMMIT " alt="" coords="887,257,1079,303"/><area shape="rect" id="node100" href="class_transaction.html#aaaab2fa0d5c4c49e970461eabca86783" title="create MessageDispatch for synchronous replication " alt="" coords="892,391,1073,438"/><area shape="rect" id="node102" href="class_mboxes.html#a91b938e3db8b15f7dffbe9a3b04b8d1a" title="produce Message for specific actor " alt="" coords="1401,481,1519,511"/><area shape="rect" id="node75" href="class_transaction.html#aa741adabd498325416959375fb3ac6c2" title="add entry (row or field) to list for Engine processing " alt="" coords="1169,243,1308,272"/><area shape="rect" id="node77" href="class_table.html#a1f82fb5350dd9409ba854b73efe569ee" title="extract fields from row string " alt="" coords="1175,296,1303,325"/><area shape="rect" id="node79" href="defs_8h.html#a1893cfdf91d0c9c964e3791c550894c8" title="trimspace" alt="" coords="1200,139,1277,168"/><area shape="rect" id="node81" href="class_transaction.html#a43be7c7b2347ad858b594ab1c6537b64" title="get engineid/partitionid based on hash of this fieldValues " alt="" coords="1156,85,1321,115"/><area shape="rect" id="node83" href="class_spooky_hash.html#acabbc1948064bffaf1c7ed4e78cc1a30" title="SpookyHash::Hash64" alt="" coords="1385,85,1535,115"/><area shape="rect" id="node85" href="class_spooky_hash.html#a9d8973d46becbc8036c458fae3efc3a5" title="SpookyHash::Hash128" alt="" coords="1589,85,1747,115"/><area shape="rect" id="node87" href="class_spooky_hash.html#af9b11a6c6092014a571c337db7a0dac8" title="SpookyHash::Short" alt="" coords="1825,32,1961,61"/><area shape="rect" id="node93" href="class_spooky_hash.html#a749e6012af3d67884a323e227105e032" title="SpookyHash::Mix" alt="" coords="1831,85,1956,115"/><area shape="rect" id="node95" href="class_spooky_hash.html#ae93bdc4013fbfa7d4ce9bfadf8fe953b" title="SpookyHash::End" alt="" coords="1829,139,1957,168"/><area shape="rect" id="node89" href="class_spooky_hash.html#a2a18b61b405f43f283ba9a20016b5b9f" title="SpookyHash::ShortMix" alt="" coords="2036,5,2193,35"/><area shape="rect" id="node91" href="class_spooky_hash.html#a5b01b1a2b3270e9c11244a6702b0db59" title="SpookyHash::ShortEnd" alt="" coords="2036,59,2193,88"/><area shape="rect" id="node108" href="class_pg.html#adc7f4444738cd3201d51fd254c28f353" title="continuation function after implicit commit " alt="" coords="395,451,592,480"/><area shape="rect" id="node116" href="class_pg.html#a5bdee216f5c823ca136fee3c50a53d7c" title="continuation function after explicit rollback " alt="" coords="392,797,595,827"/><area shape="rect" id="node121" href="class_api_interface.html#a4a2fa36d3536536a94b1a84165cb946e" title="continuation function after explicit rollback " alt="" coords="411,727,576,774"/><area shape="rect" id="node126" href="class_pg.html#a23d0ef3e3908161087c7452d459da402" title="continuation function after implicit rollback " alt="" coords="392,1005,595,1035"/><area shape="rect" id="node128" href="class_api_interface.html#a0b9c5cae7628c13a1680bb75502b702b" title="continuation function after implicit rollback " alt="" coords="411,1058,576,1105"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5bdee216f5c823ca136fee3c50a53d7c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Pg::continuePgRollbackexplicit </td>
          <td>(</td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>entrypoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>statePtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>continuation function after explicit rollback </p>
<p>explicit commit is sent as ROLLBACK statement within transaction</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">entrypoint</td><td>entry point to continue </td></tr>
    <tr><td class="paramname">statePtr</td><td>state data to continue with </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="class_api_interface.html#a4a2fa36d3536536a94b1a84165cb946e">ApiInterface</a>.</p>

<p>Definition at line <a class="el" href="_pg_8cc_source.html#l01499">1499</a> of file <a class="el" href="_pg_8cc_source.html">Pg.cc</a>.</p>

<p>References <a class="el" href="_pg_8cc_source.html#l00372">closesocket()</a>, <a class="el" href="main_8cc_source.html#l00036">logfile</a>, <a class="el" href="_pg_8h_source.html#l00453">outbuf</a>, <a class="el" href="_pg_8cc_source.html#l01134">putCommandComplete()</a>, <a class="el" href="_pg_8h_source.html#l00444">state</a>, <a class="el" href="_pg_8h_source.html#l00061">STATE_EXITING</a>, <a class="el" href="infinisql_8h_source.html#l00730">ApiInterface::statementPtr</a>, <a class="el" href="infinisql_8h_source.html#l00728">ApiInterface::taPtr</a>, <a class="el" href="infinisql_8h_source.html#l00732">ApiInterface::transactionPtr</a>, and <a class="el" href="_pg_8cc_source.html#l00731">writesocket()</a>.</p>

<p>Referenced by <a class="el" href="_pg_8cc_source.html#l01227">sqlrollbackexplicit()</a>.</p>
<div class="fragment"><div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;{</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_api_interface.html#a7bbe3b808315357bc57f002abb161cb5">transactionPtr</a> != NULL)</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;    {</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;        <span class="keyword">delete</span> <a class="code" href="class_api_interface.html#a7bbe3b808315357bc57f002abb161cb5">transactionPtr</a>;</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;        <a class="code" href="class_api_interface.html#a7bbe3b808315357bc57f002abb161cb5">transactionPtr</a>=NULL;</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;    }</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_pg.html#ada3091b1aa6c1f463bbc773b02bef89c">state</a>==<a class="code" href="class_pg.html#a3dfd8436412740e96fafae7516a6050aad3b3a04101f0f52861d7edf8b62e02dc">STATE_EXITING</a>)</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;    {</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_api_interface.html#a9d905b470f3bf5752032a637fe3545fd">statementPtr</a>==NULL)</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;        {</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;            fprintf(<a class="code" href="defs_8h.html#ab25a3625a8efbaa3d81ef27bbb51c9c5">logfile</a>, <span class="stringliteral">&quot;%s %i deleting this %p\n&quot;</span>, __FILE__, __LINE__,</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;                    <span class="keyword">this</span>);</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;            <span class="keyword">delete</span> <span class="keyword">this</span>;</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;        }</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;    }</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;    <a class="code" href="class_pg.html#af5367b8b342543bd56c310ff0afe2aea" title="write completed command to outbound message buffer ">putCommandComplete</a>(<span class="stringliteral">&quot;ROLLBACK&quot;</span>);</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_pg.html#a8422838d3a7e83f6db18eceb18817588" title="write response messages to socket ">writesocket</a>()==-1)</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;    {</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;        <a class="code" href="class_pg.html#a23146f712d62c6b5c4537b55dbc89727" title="close socket ">closesocket</a>(*<a class="code" href="class_api_interface.html#ab8927a476baf6830781f3528765591ab">taPtr</a>);</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;    }</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;    <a class="code" href="class_pg.html#aa66ae17967b8ab82d4753e70598818f1">outbuf</a>.clear();</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_pg_a5bdee216f5c823ca136fee3c50a53d7c_cgraph.png" border="0" usemap="#class_pg_a5bdee216f5c823ca136fee3c50a53d7c_cgraph" alt=""/></div>
<map name="class_pg_a5bdee216f5c823ca136fee3c50a53d7c_cgraph" id="class_pg_a5bdee216f5c823ca136fee3c50a53d7c_cgraph">
<area shape="rect" id="node3" href="class_pg.html#a23146f712d62c6b5c4537b55dbc89727" title="close socket " alt="" coords="289,137,404,167"/><area shape="rect" id="node31" href="class_pg.html#af5367b8b342543bd56c310ff0afe2aea" title="write completed command to outbound message buffer " alt="" coords="257,271,436,300"/><area shape="rect" id="node37" href="class_pg.html#a8422838d3a7e83f6db18eceb18817588" title="write response messages to socket " alt="" coords="291,217,403,247"/><area shape="rect" id="node5" href="class_api_interface.html#a0ec871d856f976629ce78d5fc3e4e9d5" title="continuation function after implicit commit " alt="" coords="485,41,651,87"/><area shape="rect" id="node7" href="class_pg.html#ac6ac0dd94a70fd221b3807ecf908f251" title="more socket closing&#45;related activities " alt="" coords="503,111,633,140"/><area shape="rect" id="node9" href="class_transaction.html#a000e4f0882139eb8470f7472ca14a24e" title="ROLLBACK. " alt="" coords="497,164,639,193"/><area shape="rect" id="node11" href="class_transaction.html#a58d291fe5c0ee6984aa71a79c7126376" title="send MessageTransaction variant to Engine " alt="" coords="699,112,893,141"/><area shape="rect" id="node13" href="class_mboxes.html#a956f8e7626423edfd33db7a185b8b352" title="produce Message for Engine associated with specific partition " alt="" coords="943,139,1076,168"/><area shape="rect" id="node29" href="class_transaction.html#a62cfbd3f256c6b36cfdd16cddf1ab5fe" title="continue back to calling function " alt="" coords="727,216,865,245"/><area shape="rect" id="node15" href="class_mbox_producer.html#a9ca818bdf4ef9bacbaa6cb1d63a68dbd" title="produce Message onto mailbox " alt="" coords="1127,112,1292,141"/><area shape="rect" id="node26" href="class_message.html#a8f4edea412ed3bbaa8d3cf2d1d48b8b3" title="put addresses in Message variant envelope " alt="" coords="1132,165,1287,195"/><area shape="rect" id="node17" href="class_mbox.html#a5311178f7221ffa942fa128424ac9a86" title="create 128bit integer from Message object " alt="" coords="1341,5,1528,35"/><area shape="rect" id="node19" href="class_mbox.html#ae545aa094bc902b10f9b1e042c24e42b" title="return Message pointer from 128bit integer " alt="" coords="1387,59,1483,88"/><area shape="rect" id="node21" href="class_mboxes.html#abaaf6c0d67c235bcb17e7f9e935861cf" title="send batched Message objects destined to remote nodes " alt="" coords="1357,112,1512,141"/><area shape="rect" id="node24" href="class_message.html#a4508c42d7366a86327ca3076eb1ff007" title="return serialized Message variant string " alt="" coords="1372,165,1497,195"/><area shape="rect" id="node33" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer " alt="" coords="536,271,600,300"/><area shape="rect" id="node35" href="class_pg.html#a3ea550f9d0d24a3c7aeb736b83c86bcb" title="put message for reply into outbound buffer " alt="" coords="519,217,617,247"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_pg_a5bdee216f5c823ca136fee3c50a53d7c_icgraph.png" border="0" usemap="#class_pg_a5bdee216f5c823ca136fee3c50a53d7c_icgraph" alt=""/></div>
<map name="class_pg_a5bdee216f5c823ca136fee3c50a53d7c_icgraph" id="class_pg_a5bdee216f5c823ca136fee3c50a53d7c_icgraph">
<area shape="rect" id="node3" href="class_pg.html#a26dfda1f20b2fdaac85986fa3dd7ebca" title="explicit rollback " alt="" coords="256,5,405,35"/><area shape="rect" id="node5" href="class_pg.html#ac132fbe1a0c46c68ece5004366dd8a62" title="after SQL activity is performed " alt="" coords="455,5,593,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a23d0ef3e3908161087c7452d459da402"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Pg::continuePgRollbackimplicit </td>
          <td>(</td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>entrypoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>statePtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>continuation function after implicit rollback </p>
<p>implicit rollback done generally after a failure of some kind which forces a rollback</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">entrypoint</td><td>entry point to continue </td></tr>
    <tr><td class="paramname">statePtr</td><td>state data to continue with </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="class_api_interface.html#a0b9c5cae7628c13a1680bb75502b702b">ApiInterface</a>.</p>

<p>Definition at line <a class="el" href="_pg_8cc_source.html#l01476">1476</a> of file <a class="el" href="_pg_8cc_source.html">Pg.cc</a>.</p>

<p>References <a class="el" href="main_8cc_source.html#l00036">logfile</a>, <a class="el" href="_pg_8h_source.html#l00453">outbuf</a>, <a class="el" href="_pg_8h_source.html#l00444">state</a>, <a class="el" href="_pg_8h_source.html#l00061">STATE_EXITING</a>, <a class="el" href="infinisql_8h_source.html#l00730">ApiInterface::statementPtr</a>, and <a class="el" href="infinisql_8h_source.html#l00732">ApiInterface::transactionPtr</a>.</p>

<p>Referenced by <a class="el" href="_pg_8cc_source.html#l01206">sqlrollbackimplicit()</a>.</p>
<div class="fragment"><div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;{</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;    <a class="code" href="class_pg.html#aa66ae17967b8ab82d4753e70598818f1">outbuf</a>.clear();</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_api_interface.html#a7bbe3b808315357bc57f002abb161cb5">transactionPtr</a> != NULL)</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;    {</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;        <span class="keyword">delete</span> <a class="code" href="class_api_interface.html#a7bbe3b808315357bc57f002abb161cb5">transactionPtr</a>;</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;        <a class="code" href="class_api_interface.html#a7bbe3b808315357bc57f002abb161cb5">transactionPtr</a>=NULL;</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;    }</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_pg.html#ada3091b1aa6c1f463bbc773b02bef89c">state</a>==<a class="code" href="class_pg.html#a3dfd8436412740e96fafae7516a6050aad3b3a04101f0f52861d7edf8b62e02dc">STATE_EXITING</a>)</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;    {</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_api_interface.html#a9d905b470f3bf5752032a637fe3545fd">statementPtr</a>==NULL)</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;        {</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;            fprintf(<a class="code" href="defs_8h.html#ab25a3625a8efbaa3d81ef27bbb51c9c5">logfile</a>, <span class="stringliteral">&quot;%s %i deleting this %p\n&quot;</span>, __FILE__, __LINE__,</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;                    <span class="keyword">this</span>);</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;            <span class="keyword">delete</span> <span class="keyword">this</span>;</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;        }</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;    }</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_pg_a23d0ef3e3908161087c7452d459da402_icgraph.png" border="0" usemap="#class_pg_a23d0ef3e3908161087c7452d459da402_icgraph" alt=""/></div>
<map name="class_pg_a23d0ef3e3908161087c7452d459da402_icgraph" id="class_pg_a23d0ef3e3908161087c7452d459da402_icgraph">
<area shape="rect" id="node3" href="class_pg.html#ac7dab9ff8d6e0a409b2e645605ca52e6" title="implicit rollback " alt="" coords="256,32,405,61"/><area shape="rect" id="node5" href="class_pg.html#af7204d6b309e5d68f8bd37fdbcc5929e" title="tokenize, parse, compile and execute SQL query " alt="" coords="453,5,605,35"/><area shape="rect" id="node9" href="class_pg.html#ac132fbe1a0c46c68ece5004366dd8a62" title="after SQL activity is performed " alt="" coords="460,59,599,88"/><area shape="rect" id="node7" href="class_pg.html#a1d9453abb6c088797e14baea3f2c241b" title="wire protocol handling " alt="" coords="655,5,724,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="acb8b8b19d745e20b31c53647d0c90dd6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Pg::doit </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="class_api_interface.html#a36ab2c5580a4cb3df69f002739d889d8">ApiInterface</a>.</p>

<p>Definition at line <a class="el" href="_pg_8h_source.html#l00068">68</a> of file <a class="el" href="_pg_8h_source.html">Pg.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    {</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        ;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aaa7af6e009006b5eb3c4ff8324ac2d6c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Pg::errorStatus </td>
          <td>(</td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>status</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>output error based on <a class="el" href="class_transaction.html#a8396b59c0a5c3485f9e42de072bdb7ff">Transaction::resultCode</a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">status</td><td>value from <a class="el" href="class_transaction.html#a8396b59c0a5c3485f9e42de072bdb7ff">Transaction::resultCode</a> </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_pg_8cc_source.html#l01595">1595</a> of file <a class="el" href="_pg_8cc_source.html">Pg.cc</a>.</p>

<p>References <a class="el" href="infinisql_8h_source.html#l00057">APISTATUS_LOCK</a>, <a class="el" href="infinisql_8h_source.html#l00049">APISTATUS_NOTOK</a>, <a class="el" href="infinisql_8h_source.html#l00054">APISTATUS_UNIQUECONSTRAINT</a>, and <a class="el" href="_pg_8cc_source.html#l01141">putErrorResponse()</a>.</p>

<p>Referenced by <a class="el" href="_pg_8cc_source.html#l00876">continuePgFunc()</a>.</p>
<div class="fragment"><div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;{</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;    <span class="keywordflow">switch</span> (status)</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;    {</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="infinisql_8h.html#a5532e9f63f016637c4eb0b9fe45e388f">APISTATUS_NOTOK</a>:</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;        <a class="code" href="class_pg.html#a79e2585fe00a44c7064745113cf6816a" title="write error to outbound message buffer ">putErrorResponse</a>(<span class="stringliteral">&quot;ERROR&quot;</span>, <span class="stringliteral">&quot;42000&quot;</span>,</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;                         <span class="stringliteral">&quot;generic InfiniSQL error&quot;</span>);</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="infinisql_8h.html#a25d4d015c0c16a4d1cf32420aed6f1a9">APISTATUS_UNIQUECONSTRAINT</a>:</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;        <a class="code" href="class_pg.html#a79e2585fe00a44c7064745113cf6816a" title="write error to outbound message buffer ">putErrorResponse</a>(<span class="stringliteral">&quot;ERROR&quot;</span>, <span class="stringliteral">&quot;23000&quot;</span>, <span class="stringliteral">&quot;integrity_constraint_violation&quot;</span>);</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="infinisql_8h.html#a3d71642f901001a806f82a69e71b8762">APISTATUS_LOCK</a>:</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;        <a class="code" href="class_pg.html#a79e2585fe00a44c7064745113cf6816a" title="write error to outbound message buffer ">putErrorResponse</a>(<span class="stringliteral">&quot;ERROR&quot;</span>, <span class="stringliteral">&quot;55P03&quot;</span>, <span class="stringliteral">&quot;lock not available&quot;</span>);</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;        printf(<span class="stringliteral">&quot;%s %i anomaly %li\n&quot;</span>, __FILE__, __LINE__, status);</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;        <a class="code" href="class_pg.html#a79e2585fe00a44c7064745113cf6816a" title="write error to outbound message buffer ">putErrorResponse</a>(<span class="stringliteral">&quot;ERROR&quot;</span>, <span class="stringliteral">&quot;42000&quot;</span>,</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;                         <span class="stringliteral">&quot;syntax_error_or_access_rule_violation&quot;</span>);</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;    }</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_pg_aaa7af6e009006b5eb3c4ff8324ac2d6c_cgraph.png" border="0" usemap="#class_pg_aaa7af6e009006b5eb3c4ff8324ac2d6c_cgraph" alt=""/></div>
<map name="class_pg_aaa7af6e009006b5eb3c4ff8324ac2d6c_cgraph" id="class_pg_aaa7af6e009006b5eb3c4ff8324ac2d6c_cgraph">
<area shape="rect" id="node3" href="class_pg.html#a79e2585fe00a44c7064745113cf6816a" title="write error to outbound message buffer " alt="" coords="167,84,316,113"/><area shape="rect" id="node5" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer " alt="" coords="581,5,645,35"/><area shape="rect" id="node7" href="class_pg.html#a3ea550f9d0d24a3c7aeb736b83c86bcb" title="put message for reply into outbound buffer " alt="" coords="564,59,663,88"/><area shape="rect" id="node9" href="class_pg.html#a8422838d3a7e83f6db18eceb18817588" title="write response messages to socket " alt="" coords="368,57,480,87"/><area shape="rect" id="node13" href="class_pg.html#a23146f712d62c6b5c4537b55dbc89727" title="close socket " alt="" coords="367,171,481,200"/><area shape="rect" id="node15" href="class_api_interface.html#a0ec871d856f976629ce78d5fc3e4e9d5" title="continuation function after implicit commit " alt="" coords="531,111,696,158"/><area shape="rect" id="node17" href="class_pg.html#ac6ac0dd94a70fd221b3807ecf908f251" title="more socket closing&#45;related activities " alt="" coords="548,181,679,211"/><area shape="rect" id="node19" href="class_transaction.html#a000e4f0882139eb8470f7472ca14a24e" title="ROLLBACK. " alt="" coords="543,235,684,264"/><area shape="rect" id="node21" href="class_transaction.html#a58d291fe5c0ee6984aa71a79c7126376" title="send MessageTransaction variant to Engine " alt="" coords="744,183,939,212"/><area shape="rect" id="node23" href="class_mboxes.html#a956f8e7626423edfd33db7a185b8b352" title="produce Message for Engine associated with specific partition " alt="" coords="988,209,1121,239"/><area shape="rect" id="node39" href="class_transaction.html#a62cfbd3f256c6b36cfdd16cddf1ab5fe" title="continue back to calling function " alt="" coords="772,287,911,316"/><area shape="rect" id="node25" href="class_mbox_producer.html#a9ca818bdf4ef9bacbaa6cb1d63a68dbd" title="produce Message onto mailbox " alt="" coords="1172,183,1337,212"/><area shape="rect" id="node36" href="class_message.html#a8f4edea412ed3bbaa8d3cf2d1d48b8b3" title="put addresses in Message variant envelope " alt="" coords="1177,236,1332,265"/><area shape="rect" id="node27" href="class_mbox.html#a5311178f7221ffa942fa128424ac9a86" title="create 128bit integer from Message object " alt="" coords="1387,76,1573,105"/><area shape="rect" id="node29" href="class_mbox.html#ae545aa094bc902b10f9b1e042c24e42b" title="return Message pointer from 128bit integer " alt="" coords="1432,129,1528,159"/><area shape="rect" id="node31" href="class_mboxes.html#abaaf6c0d67c235bcb17e7f9e935861cf" title="send batched Message objects destined to remote nodes " alt="" coords="1403,183,1557,212"/><area shape="rect" id="node34" href="class_message.html#a4508c42d7366a86327ca3076eb1ff007" title="return serialized Message variant string " alt="" coords="1417,236,1543,265"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_pg_aaa7af6e009006b5eb3c4ff8324ac2d6c_icgraph.png" border="0" usemap="#class_pg_aaa7af6e009006b5eb3c4ff8324ac2d6c_icgraph" alt=""/></div>
<map name="class_pg_aaa7af6e009006b5eb3c4ff8324ac2d6c_icgraph" id="class_pg_aaa7af6e009006b5eb3c4ff8324ac2d6c_icgraph">
<area shape="rect" id="node3" href="class_pg.html#ac132fbe1a0c46c68ece5004366dd8a62" title="after SQL activity is performed " alt="" coords="167,5,305,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af7204d6b309e5d68f8bd37fdbcc5929e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Pg::executeStatement </td>
          <td>(</td>
          <td class="paramtype">string &amp;&#160;</td>
          <td class="paramname"><em>stmtstr</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>tokenize, parse, compile and execute SQL query </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stmtstr</td><td>query string </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_pg_8cc_source.html#l00836">836</a> of file <a class="el" href="_pg_8cc_source.html">Pg.cc</a>.</p>

<p>References <a class="el" href="infinisql_8h_source.html#l00074">CMD_STOREDPROCEDURE</a>, <a class="el" href="_pg_8h_source.html#l00466">command_autocommit</a>, <a class="el" href="class_api_interface.html#a1742d74b8d302780a5d1226f6360dfee">ApiInterface::continuePgFunc()</a>, <a class="el" href="_asts_8cc_source.html#l04783">Statement::execute()</a>, <a class="el" href="_pg_8h_source.html#l00461">procedureprefix</a>, <a class="el" href="_pg_8cc_source.html#l01141">putErrorResponse()</a>, <a class="el" href="_asts_8h_source.html#l00470">Statement::queries</a>, <a class="el" href="_asts_8cc_source.html#l02128">Statement::resolveTableFields()</a>, <a class="el" href="infinisql_8h_source.html#l00742">ApiInterface::results</a>, <a class="el" href="_pg_8h_source.html#l00456">schemaPtr</a>, <a class="el" href="_pg_8cc_source.html#l01206">sqlrollbackimplicit()</a>, <a class="el" href="_larxer_8h_source.html#l00346">Larxer::statementPtr</a>, <a class="el" href="infinisql_8h_source.html#l00730">ApiInterface::statementPtr</a>, <a class="el" href="infinisql_8h_source.html#l00728">ApiInterface::taPtr</a>, and <a class="el" href="infinisql_8h_source.html#l00732">ApiInterface::transactionPtr</a>.</p>

<p>Referenced by <a class="el" href="_pg_8cc_source.html#l00055">cont()</a>.</p>
<div class="fragment"><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;{</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    <span class="keyword">class </span><a class="code" href="class_larxer.html" title="create object to tokenize, parse, and compile SQL statement ">Larxer</a> lx((char *)stmtstr.c_str(), <a class="code" href="class_api_interface.html#ab8927a476baf6830781f3528765591ab">taPtr</a>, <a class="code" href="class_pg.html#a02b793188e489b313841541b6cc95045">schemaPtr</a>);</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;    <span class="keywordflow">if</span> (lx.statementPtr==NULL)</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;    {</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;        <a class="code" href="class_pg.html#a79e2585fe00a44c7064745113cf6816a" title="write error to outbound message buffer ">putErrorResponse</a>(<span class="stringliteral">&quot;ERROR&quot;</span>, <span class="stringliteral">&quot;42601&quot;</span>, <span class="stringliteral">&quot;syntax error&quot;</span>);</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    }</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;    <a class="code" href="class_api_interface.html#a9d905b470f3bf5752032a637fe3545fd">statementPtr</a>=lx.statementPtr;</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_api_interface.html#a9d905b470f3bf5752032a637fe3545fd">statementPtr</a>-&gt;<a class="code" href="class_statement.html#a589ba57cddbeca322262d879ab7c56d9" title="resolves table and field names to integers ">resolveTableFields</a>()==<span class="keyword">false</span>)</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    {</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;        <a class="code" href="class_pg.html#ac7dab9ff8d6e0a409b2e645605ca52e6" title="implicit rollback ">sqlrollbackimplicit</a>();</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;        <a class="code" href="class_pg.html#a79e2585fe00a44c7064745113cf6816a" title="write error to outbound message buffer ">putErrorResponse</a>(<span class="stringliteral">&quot;ERROR&quot;</span>, <span class="stringliteral">&quot;42704&quot;</span>, <span class="stringliteral">&quot;table or column does not exist&quot;</span>);</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;        <span class="keyword">delete</span> <a class="code" href="class_api_interface.html#a9d905b470f3bf5752032a637fe3545fd">statementPtr</a>;</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    }</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_api_interface.html#a9d905b470f3bf5752032a637fe3545fd">statementPtr</a>-&gt;<a class="code" href="class_statement.html#a470507e2db1304135bb9c73c429de099">queries</a>[0].type==<a class="code" href="infinisql_8h.html#a65a2263ffbf59255bacff6451520cdb1a712078a07a2a9c32b36e46ac6cbbb51c">CMD_STOREDPROCEDURE</a>)</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    {</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;        <a class="code" href="class_api_interface.html#a9d905b470f3bf5752032a637fe3545fd">statementPtr</a>-&gt;<a class="code" href="class_statement.html#a470507e2db1304135bb9c73c429de099">queries</a>[0].storedProcedure.insert(0, <a class="code" href="class_pg.html#a550e4a1da1210646ead838dfdf66bd14">procedureprefix</a>);</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;    }</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;    <a class="code" href="class_api_interface.html#a457bd797da91eee8ce3f3d59be2ae4ec">results</a> = results_s();</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_api_interface.html#a7bbe3b808315357bc57f002abb161cb5">transactionPtr</a>==NULL)</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    {</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;        <a class="code" href="class_pg.html#a0ca4c75980e4c98d1dd74829d9ab259d">command_autocommit</a>=<span class="keyword">true</span>;</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;    }</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;    {</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;        <a class="code" href="class_pg.html#a0ca4c75980e4c98d1dd74829d9ab259d">command_autocommit</a>=<span class="keyword">false</span>;</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    }</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    <a class="code" href="class_api_interface.html#a9d905b470f3bf5752032a637fe3545fd">statementPtr</a>-&gt;<a class="code" href="class_statement.html#a42ca63333686087acb579354fce0720f" title="execute SQL statement ">execute</a>(<span class="keyword">this</span>, &amp;<a class="code" href="class_api_interface.html#a1742d74b8d302780a5d1226f6360dfee" title="after SQL activity is performed ">ApiInterface::continuePgFunc</a>, 1, <a class="code" href="class_api_interface.html#a7bbe3b808315357bc57f002abb161cb5">transactionPtr</a>,</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;                          <a class="code" href="class_api_interface.html#a7bbe3b808315357bc57f002abb161cb5">transactionPtr</a>, vector&lt;string&gt;());</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_pg_af7204d6b309e5d68f8bd37fdbcc5929e_cgraph.png" border="0" usemap="#class_pg_af7204d6b309e5d68f8bd37fdbcc5929e_cgraph" alt=""/></div>
<map name="class_pg_af7204d6b309e5d68f8bd37fdbcc5929e_cgraph" id="class_pg_af7204d6b309e5d68f8bd37fdbcc5929e_cgraph">
<area shape="rect" id="node3" href="class_api_interface.html#a1742d74b8d302780a5d1226f6360dfee" title="after SQL activity is performed " alt="" coords="208,900,403,929"/><area shape="rect" id="node5" href="class_statement.html#a42ca63333686087acb579354fce0720f" title="execute SQL statement " alt="" coords="237,953,373,983"/><area shape="rect" id="node99" href="class_pg.html#a79e2585fe00a44c7064745113cf6816a" title="write error to outbound message buffer " alt="" coords="231,1143,380,1172"/><area shape="rect" id="node121" href="class_statement.html#a589ba57cddbeca322262d879ab7c56d9" title="resolves table and field names to integers " alt="" coords="207,1247,404,1276"/><area shape="rect" id="node130" href="class_pg.html#ac7dab9ff8d6e0a409b2e645605ca52e6" title="implicit rollback " alt="" coords="231,1007,380,1036"/><area shape="rect" id="node7" href="class_statement.html#a0a683e44fb4dfcf9063a476428490ada" title="begin query execution " alt="" coords="483,745,632,775"/><area shape="rect" id="node9" href="class_statement.html#a9f0b670dfa46844eb90de3ca3444d2d2" title="perform search expression " alt="" coords="713,681,908,711"/><area shape="rect" id="node53" href="class_statement.html#a4d278eaa6b77688702b33b4ad73baaf8" title="SELECT, INSERT, UPDATE, DELETE, stored proc branch to. " alt="" coords="960,681,1125,711"/><area shape="rect" id="node66" href="class_statement.html#a7b1aa54923a3dfa6bf072bf88d691f89" title="return to calling function (Statement execution complete) " alt="" coords="1685,1095,1816,1124"/><area shape="rect" id="node11" href="class_ast.html#a229d1f25bd5f15a7f8a2b1a44ea26ed9" title="Ast::evaluate" alt="" coords="993,321,1092,351"/><area shape="rect" id="node13" href="class_statement.html#a0ffb8f37248c531f61d49347d1014d1a" title="Statement::andPredicate" alt="" coords="1183,269,1348,299"/><area shape="rect" id="node17" href="class_ast.html#a222befa9f7230c7482efdfb7e4602e0d" title="Ast::toFloat" alt="" coords="1471,321,1561,351"/><area shape="rect" id="node20" href="class_transaction.html#a58d291fe5c0ee6984aa71a79c7126376" title="send MessageTransaction variant to Engine " alt="" coords="1419,915,1613,944"/><area shape="rect" id="node32" href="class_transaction.html#a3d0b71c4ec2701fb542956f3d1e493f8" title="SQL predicate search. " alt="" coords="1180,888,1351,917"/><area shape="rect" id="node38" href="class_statement.html#af39b39977a9604b52958e2a7a2f25a77" title="Statement::stagedPredicate" alt="" coords="1173,5,1357,35"/><area shape="rect" id="node44" href="class_statement.html#aaff3a575709be7108542aa5a4bf2ab26" title="EXISTS subquery. " alt="" coords="1176,165,1355,195"/><area shape="rect" id="node46" href="class_statement.html#a6ebda7b6067dea7ed814a0abb8150d3d" title="subquery returns list of values for IN predicate " alt="" coords="1188,373,1343,403"/><area shape="rect" id="node48" href="class_statement.html#a0824c535e7fff3c63d2008f374451102" title="subquery that returns a scalar " alt="" coords="1176,59,1355,88"/><area shape="rect" id="node50" href="class_statement.html#aaefd999cd675f868618db1326d46b9f1" title="UNIQUE type of subquery. " alt="" coords="1173,112,1357,141"/><area shape="rect" id="node15" href="class_table.html#a1f82fb5350dd9409ba854b73efe569ee" title="extract fields from row string " alt="" coords="1687,348,1815,377"/><area shape="rect" id="node22" href="class_mboxes.html#a956f8e7626423edfd33db7a185b8b352" title="produce Message for Engine associated with specific partition " alt="" coords="1684,1172,1817,1201"/><area shape="rect" id="node24" href="class_mbox_producer.html#a9ca818bdf4ef9bacbaa6cb1d63a68dbd" title="produce Message onto mailbox " alt="" coords="1876,1145,2041,1175"/><area shape="rect" id="node30" href="class_message.html#a8f4edea412ed3bbaa8d3cf2d1d48b8b3" title="put addresses in Message variant envelope " alt="" coords="1881,1199,2036,1228"/><area shape="rect" id="node26" href="class_mbox.html#a5311178f7221ffa942fa128424ac9a86" title="create 128bit integer from Message object " alt="" coords="2091,1119,2277,1148"/><area shape="rect" id="node28" href="class_mbox.html#ae545aa094bc902b10f9b1e042c24e42b" title="return Message pointer from 128bit integer " alt="" coords="2136,1172,2232,1201"/><area shape="rect" id="node35" href="class_transaction.html#abfb2d360e416bdf8dc2453a4642c93b8" title="generate unique, always incrementing id for pending command " alt="" coords="1405,785,1627,815"/><area shape="rect" id="node40" href="defs_8h.html#ac6701d7f321147d88d80b8469aadb568" title="convert stagedRow_s to returnRow_s " alt="" coords="1436,137,1596,167"/><area shape="rect" id="node56" href="class_transaction.html#acc68e7f9e766d98f3c7318780405f465" title="get all rows from a table " alt="" coords="1183,733,1348,763"/><area shape="rect" id="node58" href="class_statement.html#abb110d0dc3abf1f5dcbb33ff33a7174b" title="continuation for SELECT statement " alt="" coords="1428,437,1604,467"/><area shape="rect" id="node69" href="class_table.html#ac484a70335c2b6d466bd6289c9be98b0" title="assemble row string from fields " alt="" coords="1459,684,1573,713"/><area shape="rect" id="node71" href="class_transaction.html#a817fce7776e16ad79f9d72f4aa7899f7" title="get engine/partitionid based on hash of input " alt="" coords="1439,577,1593,607"/><area shape="rect" id="node79" href="class_statement.html#ab44eeb418a8a7b4fba8000accc66c81a" title="continuation for UPDATE statement " alt="" coords="1175,629,1356,659"/><area shape="rect" id="node91" href="class_statement.html#a61c903a35c6032860f06e40116fd3da1" title="continuation for DELETE statement " alt="" coords="1177,941,1353,971"/><area shape="rect" id="node73" href="class_spooky_hash.html#acabbc1948064bffaf1c7ed4e78cc1a30" title="SpookyHash::Hash64" alt="" coords="1676,551,1825,580"/><area shape="rect" id="node75" href="defs_8h.html#a1893cfdf91d0c9c964e3791c550894c8" title="trimspace" alt="" coords="1712,604,1789,633"/><area shape="rect" id="node81" href="class_statement.html#a568b92105080ed5eeb7f4dde198b3b5b" title="g&#45;bye " alt="" coords="1439,631,1593,660"/><area shape="rect" id="node101" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer " alt="" coords="779,1193,843,1223"/><area shape="rect" id="node103" href="class_pg.html#a3ea550f9d0d24a3c7aeb736b83c86bcb" title="put message for reply into outbound buffer " alt="" coords="761,1247,860,1276"/><area shape="rect" id="node105" href="class_pg.html#a8422838d3a7e83f6db18eceb18817588" title="write response messages to socket " alt="" coords="501,1195,613,1224"/><area shape="rect" id="node109" href="class_pg.html#a23146f712d62c6b5c4537b55dbc89727" title="close socket " alt="" coords="500,1091,615,1120"/><area shape="rect" id="node111" href="class_api_interface.html#a0ec871d856f976629ce78d5fc3e4e9d5" title="continuation function after implicit commit " alt="" coords="728,1123,893,1170"/><area shape="rect" id="node113" href="class_pg.html#ac6ac0dd94a70fd221b3807ecf908f251" title="more socket closing&#45;related activities " alt="" coords="745,1071,876,1100"/><area shape="rect" id="node115" href="class_transaction.html#a000e4f0882139eb8470f7472ca14a24e" title="ROLLBACK. " alt="" coords="740,1017,881,1047"/><area shape="rect" id="node119" href="class_transaction.html#a62cfbd3f256c6b36cfdd16cddf1ab5fe" title="continue back to calling function " alt="" coords="973,992,1112,1021"/><area shape="rect" id="node123" href="class_statement.html#a5c5ac7cc1ac72955bb16c2c4837fe33c" title="Statement::resolveTableFields2" alt="" coords="455,1299,660,1328"/><area shape="rect" id="node125" href="class_statement.html#a17991c985f8cf4520b339a52c122c00a" title="returns fieldid " alt="" coords="972,1324,1113,1353"/><area shape="rect" id="node127" href="class_statement.html#ad09ed23c387d9826ed1cb66b47373425" title="Statement::resolveFieldNames" alt="" coords="709,1351,912,1380"/><area shape="rect" id="node132" href="class_pg.html#a23d0ef3e3908161087c7452d459da402" title="continuation function after implicit rollback " alt="" coords="456,1037,659,1067"/><area shape="rect" id="node134" href="class_api_interface.html#a0b9c5cae7628c13a1680bb75502b702b" title="continuation function after implicit rollback " alt="" coords="475,967,640,1014"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_pg_af7204d6b309e5d68f8bd37fdbcc5929e_icgraph.png" border="0" usemap="#class_pg_af7204d6b309e5d68f8bd37fdbcc5929e_icgraph" alt=""/></div>
<map name="class_pg_af7204d6b309e5d68f8bd37fdbcc5929e_icgraph" id="class_pg_af7204d6b309e5d68f8bd37fdbcc5929e_icgraph">
<area shape="rect" id="node3" href="class_pg.html#a1d9453abb6c088797e14baea3f2c241b" title="wire protocol handling " alt="" coords="207,5,276,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4cc82cf9b6982e76e3f71bb14a41b19e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Pg::get </td>
          <td>(</td>
          <td class="paramtype">int16_t *&#160;</td>
          <td class="paramname"><em>val</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>read 16bit integer from inbound message string </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">val</td><td>retrieve buffer</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>success or failure </dd></dl>

<p>Definition at line <a class="el" href="_pg_8cc_source.html#l00474">474</a> of file <a class="el" href="_pg_8cc_source.html">Pg.cc</a>.</p>

<p>References <a class="el" href="_pg_8h_source.html#l00449">inbuf</a>, and <a class="el" href="_pg_8h_source.html#l00450">pos</a>.</p>
<div class="fragment"><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;{</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_pg.html#a19b186dee0f148ff572552c14becf24b">pos</a> + <span class="keyword">sizeof</span>(int16_t) &gt; <a class="code" href="class_pg.html#a467c503836324c5b55d20d7e45c68820">inbuf</a>.size())</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    {</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;        <span class="comment">// not enough room in inbuf to get requested data</span></div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    }</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    memcpy(val, &amp;<a class="code" href="class_pg.html#a467c503836324c5b55d20d7e45c68820">inbuf</a>[<a class="code" href="class_pg.html#a19b186dee0f148ff572552c14becf24b">pos</a>], <span class="keyword">sizeof</span>(int16_t));</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    *val = be16toh(*val);</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    pos += <span class="keyword">sizeof</span>(int16_t);</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1254dacac5cb5a5a51245fa719c8fe66"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Pg::get </td>
          <td>(</td>
          <td class="paramtype">int32_t *&#160;</td>
          <td class="paramname"><em>val</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>read 32bit integer from inbound message string </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">val</td><td>retrieve buffer</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>success or failure </dd></dl>

<p>Definition at line <a class="el" href="_pg_8cc_source.html#l00489">489</a> of file <a class="el" href="_pg_8cc_source.html">Pg.cc</a>.</p>

<p>References <a class="el" href="_pg_8h_source.html#l00449">inbuf</a>, and <a class="el" href="_pg_8h_source.html#l00450">pos</a>.</p>
<div class="fragment"><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;{</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_pg.html#a19b186dee0f148ff572552c14becf24b">pos</a> + <span class="keyword">sizeof</span>(int32_t) &gt; <a class="code" href="class_pg.html#a467c503836324c5b55d20d7e45c68820">inbuf</a>.size())</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    {</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;        <span class="comment">// not enough room in inbuf to get requested data</span></div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    }</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    memcpy(val, &amp;<a class="code" href="class_pg.html#a467c503836324c5b55d20d7e45c68820">inbuf</a>[<a class="code" href="class_pg.html#a19b186dee0f148ff572552c14becf24b">pos</a>], <span class="keyword">sizeof</span>(int32_t));</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    *val = be32toh(*val);</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    pos += <span class="keyword">sizeof</span>(int32_t);</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab79359a6e60260b3333b4e14c477015b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Pg::get </td>
          <td>(</td>
          <td class="paramtype">int64_t *&#160;</td>
          <td class="paramname"><em>val</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>read 64bit integer from inbound message string </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">val</td><td>retrieve buffer</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>success or failure </dd></dl>

<p>Definition at line <a class="el" href="_pg_8cc_source.html#l00504">504</a> of file <a class="el" href="_pg_8cc_source.html">Pg.cc</a>.</p>

<p>References <a class="el" href="_pg_8h_source.html#l00449">inbuf</a>, and <a class="el" href="_pg_8h_source.html#l00450">pos</a>.</p>
<div class="fragment"><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;{</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_pg.html#a19b186dee0f148ff572552c14becf24b">pos</a> + <span class="keyword">sizeof</span>(int64_t) &gt; <a class="code" href="class_pg.html#a467c503836324c5b55d20d7e45c68820">inbuf</a>.size())</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    {</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;        <span class="comment">// not enough room in inbuf to get requested data</span></div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    }</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    memcpy(val, &amp;<a class="code" href="class_pg.html#a467c503836324c5b55d20d7e45c68820">inbuf</a>[<a class="code" href="class_pg.html#a19b186dee0f148ff572552c14becf24b">pos</a>], <span class="keyword">sizeof</span>(int64_t));</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    *val = be64toh(*val);</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    pos += <span class="keyword">sizeof</span>(int64_t);</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a985abb3ac8f1d4040adb21d2e1cd96a4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Pg::get </td>
          <td>(</td>
          <td class="paramtype">vector&lt; int16_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>nelem</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>read list of 16bit integers from inbound message string </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">val</td><td>retrieve buffer </td></tr>
    <tr><td class="paramname">nelem</td><td>number of elements</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>success or failure </dd></dl>

<p>Definition at line <a class="el" href="_pg_8cc_source.html#l00519">519</a> of file <a class="el" href="_pg_8cc_source.html">Pg.cc</a>.</p>

<p>References <a class="el" href="_pg_8h_source.html#l00449">inbuf</a>, and <a class="el" href="_pg_8h_source.html#l00450">pos</a>.</p>
<div class="fragment"><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;{</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_pg.html#a19b186dee0f148ff572552c14becf24b">pos</a> + <span class="keyword">sizeof</span>(int16_t)*nelem &gt; <a class="code" href="class_pg.html#a467c503836324c5b55d20d7e45c68820">inbuf</a>.size())</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    {</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;        <span class="comment">// not enough room in inbuf to get requested data</span></div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    }</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> n=0; n &lt; nelem; n++)</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    {</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;        int16_t elem;</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        memcpy(&amp;elem, &amp;<a class="code" href="class_pg.html#a467c503836324c5b55d20d7e45c68820">inbuf</a>[<a class="code" href="class_pg.html#a19b186dee0f148ff572552c14becf24b">pos</a>], <span class="keyword">sizeof</span>(int16_t));</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;        elem = be16toh(elem);</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;        val.push_back(elem);</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;        pos += <span class="keyword">sizeof</span>(int16_t);</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    }</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad77c853fdc52aa5dec561b5a14ee08e8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Pg::get </td>
          <td>(</td>
          <td class="paramtype">vector&lt; int32_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>nelem</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>read array of 32bit integers from inbound message string </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">val</td><td>retrieve buffer </td></tr>
    <tr><td class="paramname">nelem</td><td>number of elements</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>success or failure </dd></dl>

<p>Definition at line <a class="el" href="_pg_8cc_source.html#l00539">539</a> of file <a class="el" href="_pg_8cc_source.html">Pg.cc</a>.</p>

<p>References <a class="el" href="_pg_8h_source.html#l00449">inbuf</a>, and <a class="el" href="_pg_8h_source.html#l00450">pos</a>.</p>
<div class="fragment"><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;{</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_pg.html#a19b186dee0f148ff572552c14becf24b">pos</a> + <span class="keyword">sizeof</span>(int32_t)*nelem &gt; <a class="code" href="class_pg.html#a467c503836324c5b55d20d7e45c68820">inbuf</a>.size())</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    {</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;        <span class="comment">// not enough room in inbuf to get requested data</span></div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    }</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> n=0; n &lt; nelem; n++)</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    {</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;        int32_t elem;</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;        memcpy(&amp;elem, &amp;<a class="code" href="class_pg.html#a467c503836324c5b55d20d7e45c68820">inbuf</a>[<a class="code" href="class_pg.html#a19b186dee0f148ff572552c14becf24b">pos</a>], <span class="keyword">sizeof</span>(int32_t));</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;        elem = be32toh(elem);</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;        val.push_back(elem);</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;        pos += <span class="keyword">sizeof</span>(int32_t);</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    }</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6e2687a3657883130f96373932bd65ef"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Pg::get </td>
          <td>(</td>
          <td class="paramtype">vector&lt; int64_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>nelem</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>read array of 64bit integers inbound message string </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">val</td><td>retrieve buffer </td></tr>
    <tr><td class="paramname">nelem</td><td>number of elements</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>success or failure </dd></dl>

<p>Definition at line <a class="el" href="_pg_8cc_source.html#l00559">559</a> of file <a class="el" href="_pg_8cc_source.html">Pg.cc</a>.</p>

<p>References <a class="el" href="_pg_8h_source.html#l00449">inbuf</a>, and <a class="el" href="_pg_8h_source.html#l00450">pos</a>.</p>
<div class="fragment"><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;{</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_pg.html#a19b186dee0f148ff572552c14becf24b">pos</a> + <span class="keyword">sizeof</span>(int64_t)*nelem &gt; <a class="code" href="class_pg.html#a467c503836324c5b55d20d7e45c68820">inbuf</a>.size())</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    {</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        <span class="comment">// not enough room in inbuf to get requested data</span></div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    }</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> n=0; n &lt; nelem; n++)</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    {</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;        int64_t elem;</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;        memcpy(&amp;elem, &amp;<a class="code" href="class_pg.html#a467c503836324c5b55d20d7e45c68820">inbuf</a>[<a class="code" href="class_pg.html#a19b186dee0f148ff572552c14becf24b">pos</a>], <span class="keyword">sizeof</span>(int64_t));</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;        elem = be64toh(elem);</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;        val.push_back(elem);</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;        pos += <span class="keyword">sizeof</span>(int64_t);</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    }</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab6811832a3fd95c252ad6cc1328a1c16"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Pg::get </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>val</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>read Byte1 from inbound message string </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">val</td><td>retrieve buffer</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>success or failure </dd></dl>

<p>Definition at line <a class="el" href="_pg_8cc_source.html#l00580">580</a> of file <a class="el" href="_pg_8cc_source.html">Pg.cc</a>.</p>

<p>References <a class="el" href="_pg_8h_source.html#l00449">inbuf</a>, and <a class="el" href="_pg_8h_source.html#l00450">pos</a>.</p>
<div class="fragment"><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;{</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_pg.html#a19b186dee0f148ff572552c14becf24b">pos</a> + <span class="keyword">sizeof</span>(<span class="keywordtype">char</span>) &gt; <a class="code" href="class_pg.html#a467c503836324c5b55d20d7e45c68820">inbuf</a>.size())</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    {</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;        <span class="comment">// not enough room in inbuf to get requested data</span></div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    }</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    *val = <a class="code" href="class_pg.html#a467c503836324c5b55d20d7e45c68820">inbuf</a>[<a class="code" href="class_pg.html#a19b186dee0f148ff572552c14becf24b">pos</a>];</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <a class="code" href="class_pg.html#a19b186dee0f148ff572552c14becf24b">pos</a> += <span class="keyword">sizeof</span>(char);</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab8c296f72d4ee7b4e816f00ea5615a3e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Pg::get </td>
          <td>(</td>
          <td class="paramtype">string &amp;&#160;</td>
          <td class="paramname"><em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>nelem</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>read Byten from inbound message string </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">val</td><td>retrieve buffer </td></tr>
    <tr><td class="paramname">nelem</td><td>number of bytes (n)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>success or failure </dd></dl>

<p>Definition at line <a class="el" href="_pg_8cc_source.html#l00595">595</a> of file <a class="el" href="_pg_8cc_source.html">Pg.cc</a>.</p>

<p>References <a class="el" href="_pg_8h_source.html#l00449">inbuf</a>, and <a class="el" href="_pg_8h_source.html#l00450">pos</a>.</p>
<div class="fragment"><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;{</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_pg.html#a19b186dee0f148ff572552c14becf24b">pos</a> + <span class="keyword">sizeof</span>(<span class="keywordtype">char</span>)*nelem &gt; <a class="code" href="class_pg.html#a467c503836324c5b55d20d7e45c68820">inbuf</a>.size())</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    {</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;        <span class="comment">// not enough room in inbuf to get requested data</span></div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    }</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    val = <a class="code" href="class_pg.html#a467c503836324c5b55d20d7e45c68820">inbuf</a>.substr(<a class="code" href="class_pg.html#a19b186dee0f148ff572552c14becf24b">pos</a>, nelem);</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    <a class="code" href="class_pg.html#a19b186dee0f148ff572552c14becf24b">pos</a> += <span class="keyword">sizeof</span>(char)*nelem;</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad3cae676b62128e37b5abf7117f11904"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Pg::get </td>
          <td>(</td>
          <td class="paramtype">string &amp;&#160;</td>
          <td class="paramname"><em>val</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>read String (c-style) from inbound message string </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">val</td><td>retrieve buffer</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>successor failure </dd></dl>

<p>Definition at line <a class="el" href="_pg_8cc_source.html#l00610">610</a> of file <a class="el" href="_pg_8cc_source.html">Pg.cc</a>.</p>

<p>References <a class="el" href="_pg_8h_source.html#l00449">inbuf</a>, and <a class="el" href="_pg_8h_source.html#l00450">pos</a>.</p>
<div class="fragment"><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;{</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    <span class="keywordtype">size_t</span> endpos = <a class="code" href="class_pg.html#a467c503836324c5b55d20d7e45c68820">inbuf</a>.find(<span class="charliteral">&#39;\0&#39;</span>, <a class="code" href="class_pg.html#a19b186dee0f148ff572552c14becf24b">pos</a>);</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    <span class="keywordflow">if</span> (endpos == string::npos)</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    {</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    }</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    val = <a class="code" href="class_pg.html#a467c503836324c5b55d20d7e45c68820">inbuf</a>.substr(<a class="code" href="class_pg.html#a19b186dee0f148ff572552c14becf24b">pos</a>, endpos-<a class="code" href="class_pg.html#a19b186dee0f148ff572552c14becf24b">pos</a>);</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    <a class="code" href="class_pg.html#a19b186dee0f148ff572552c14becf24b">pos</a> = endpos+1;</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad00c2730c7e3d4ad3c66a6b32a5906d9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">short Pg::initcmd </td>
          <td>(</td>
          <td class="paramtype">string &amp;&#160;</td>
          <td class="paramname"><em>newdata</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>read new command from socket </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">newdata</td><td>buffer for command string</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>-1: bad input, 0: not completely received, -1: complete </dd></dl>

<p>Definition at line <a class="el" href="_pg_8cc_source.html#l00416">416</a> of file <a class="el" href="_pg_8cc_source.html">Pg.cc</a>.</p>

<p>References <a class="el" href="_pg_8h_source.html#l00449">inbuf</a>, <a class="el" href="main_8cc_source.html#l00036">logfile</a>, <a class="el" href="_pg_8h_source.html#l00447">pgcmdtype</a>, <a class="el" href="_pg_8h_source.html#l00448">size</a>, <a class="el" href="_pg_8h_source.html#l00445">sockfd</a>, <a class="el" href="_pg_8h_source.html#l00444">state</a>, and <a class="el" href="_pg_8h_source.html#l00057">STATE_BEGIN</a>.</p>

<p>Referenced by <a class="el" href="_pg_8cc_source.html#l00055">cont()</a>.</p>
<div class="fragment"><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;{</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="class_pg.html#ada77aac586bbf5345f3891eea170199d">size</a>) <span class="comment">// i don&#39;t have initial data yet</span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    {</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_pg.html#a467c503836324c5b55d20d7e45c68820">inbuf</a>.size())</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;        {</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;            <a class="code" href="class_pg.html#a467c503836324c5b55d20d7e45c68820">inbuf</a>.append(newdata);</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;            newdata.swap(<a class="code" href="class_pg.html#a467c503836324c5b55d20d7e45c68820">inbuf</a>);</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;            <a class="code" href="class_pg.html#a467c503836324c5b55d20d7e45c68820">inbuf</a>.clear();</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        }</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;        <span class="keywordflow">if</span> (newdata.size() &lt; (<a class="code" href="class_pg.html#ada3091b1aa6c1f463bbc773b02bef89c">state</a>==<a class="code" href="class_pg.html#a3dfd8436412740e96fafae7516a6050aa9ac9445ae8e14932b697d454cafd4dff">STATE_BEGIN</a> ? <span class="keyword">sizeof</span>(<a class="code" href="class_pg.html#ada77aac586bbf5345f3891eea170199d">size</a>) :</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;                              <span class="keyword">sizeof</span>(<a class="code" href="class_pg.html#ada77aac586bbf5345f3891eea170199d">size</a>)+1))</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;        {</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;            <span class="comment">// wait for more data</span></div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;            <a class="code" href="class_pg.html#a467c503836324c5b55d20d7e45c68820">inbuf</a>.append(newdata);</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;        }</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;        <span class="comment">// got enough data initially, now set the header vars</span></div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_pg.html#ada3091b1aa6c1f463bbc773b02bef89c">state</a>==<a class="code" href="class_pg.html#a3dfd8436412740e96fafae7516a6050aa9ac9445ae8e14932b697d454cafd4dff">STATE_BEGIN</a>)</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;        {</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;            memcpy(&amp;<a class="code" href="class_pg.html#ada77aac586bbf5345f3891eea170199d">size</a>, &amp;newdata[0], <span class="keyword">sizeof</span>(<a class="code" href="class_pg.html#ada77aac586bbf5345f3891eea170199d">size</a>));</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;            <a class="code" href="class_pg.html#ada77aac586bbf5345f3891eea170199d">size</a>=be32toh(<a class="code" href="class_pg.html#ada77aac586bbf5345f3891eea170199d">size</a>);</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;            <a class="code" href="class_pg.html#a467c503836324c5b55d20d7e45c68820">inbuf</a> = newdata.substr(<span class="keyword">sizeof</span>(<a class="code" href="class_pg.html#ada77aac586bbf5345f3891eea170199d">size</a>), string::npos);</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;        }</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;        {</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;            <a class="code" href="class_pg.html#afb9e7b85177f05536150dfe87aa0f43d">pgcmdtype</a> = newdata[0];</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;            memcpy(&amp;<a class="code" href="class_pg.html#ada77aac586bbf5345f3891eea170199d">size</a>, &amp;newdata[1], <span class="keyword">sizeof</span>(<a class="code" href="class_pg.html#ada77aac586bbf5345f3891eea170199d">size</a>));</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;            <a class="code" href="class_pg.html#ada77aac586bbf5345f3891eea170199d">size</a>=be32toh(<a class="code" href="class_pg.html#ada77aac586bbf5345f3891eea170199d">size</a>);</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;            <a class="code" href="class_pg.html#a467c503836324c5b55d20d7e45c68820">inbuf</a> = newdata.substr(<span class="keyword">sizeof</span>(<a class="code" href="class_pg.html#ada77aac586bbf5345f3891eea170199d">size</a>)+1, string::npos);</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;        }</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    }</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    {</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;        <a class="code" href="class_pg.html#a467c503836324c5b55d20d7e45c68820">inbuf</a>.append(newdata);</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    }</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <span class="comment">//  already have initial data, see if the whole request received</span></div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_pg.html#a467c503836324c5b55d20d7e45c68820">inbuf</a>.size() + <span class="keyword">sizeof</span>(<a class="code" href="class_pg.html#ada77aac586bbf5345f3891eea170199d">size</a>) == <a class="code" href="class_pg.html#ada77aac586bbf5345f3891eea170199d">size</a>)</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    {</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;        <span class="comment">// got whole thing</span></div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    }</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_pg.html#a467c503836324c5b55d20d7e45c68820">inbuf</a>.size() + <span class="keyword">sizeof</span>(<a class="code" href="class_pg.html#ada77aac586bbf5345f3891eea170199d">size</a>) &lt; <a class="code" href="class_pg.html#ada77aac586bbf5345f3891eea170199d">size</a>)</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    {</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        <span class="comment">// wait for more</span></div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;        fprintf(<a class="code" href="defs_8h.html#ab25a3625a8efbaa3d81ef27bbb51c9c5">logfile</a>, <span class="stringliteral">&quot;%s %i sockfd %i pgcmdtype %c inbuf.size() %lu sizeof(size) %lu size %u state %i &#39;%s&#39;\n&quot;</span>, __FILE__, __LINE__, <a class="code" href="class_pg.html#a795eae49ac0f05051ee3c975d67f160a">sockfd</a>, <a class="code" href="class_pg.html#afb9e7b85177f05536150dfe87aa0f43d">pgcmdtype</a>,</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;                <a class="code" href="class_pg.html#a467c503836324c5b55d20d7e45c68820">inbuf</a>.size(), <span class="keyword">sizeof</span>(<a class="code" href="class_pg.html#ada77aac586bbf5345f3891eea170199d">size</a>), <a class="code" href="class_pg.html#ada77aac586bbf5345f3891eea170199d">size</a>, <a class="code" href="class_pg.html#ada3091b1aa6c1f463bbc773b02bef89c">state</a>, <a class="code" href="class_pg.html#a467c503836324c5b55d20d7e45c68820">inbuf</a>.c_str());</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    }</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    <span class="comment">// bogus data</span></div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_pg_ad00c2730c7e3d4ad3c66a6b32a5906d9_icgraph.png" border="0" usemap="#class_pg_ad00c2730c7e3d4ad3c66a6b32a5906d9_icgraph" alt=""/></div>
<map name="class_pg_ad00c2730c7e3d4ad3c66a6b32a5906d9_icgraph" id="class_pg_ad00c2730c7e3d4ad3c66a6b32a5906d9_icgraph">
<area shape="rect" id="node3" href="class_pg.html#a1d9453abb6c088797e14baea3f2c241b" title="wire protocol handling " alt="" coords="143,5,212,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac6ac0dd94a70fd221b3807ecf908f251"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Pg::pgclosesocket </td>
          <td>(</td>
          <td class="paramtype">class <a class="el" href="class_transaction_agent.html">TransactionAgent</a> &amp;&#160;</td>
          <td class="paramname"><em>taRef</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>socketfd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>more socket closing-related activities </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">taRef</td><td><a class="el" href="class_transaction_agent.html" title="execute Transaction Agent actor ">TransactionAgent</a> </td></tr>
    <tr><td class="paramname">socketfd</td><td>socket descriptor </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_pg_8cc_source.html#l00394">394</a> of file <a class="el" href="_pg_8cc_source.html">Pg.cc</a>.</p>

<p>References <a class="el" href="main_8cc_source.html#l00041">connectionsMutex</a>, <a class="el" href="_topology_8h_source.html#l00076">Topology::partitionAddress::epollfd</a>, <a class="el" href="defs_8h_source.html#l00054">LISTENER_NONE</a>, <a class="el" href="main_8cc_source.html#l00045">listenerTypes</a>, <a class="el" href="main_8cc_source.html#l00036">logfile</a>, <a class="el" href="_transaction_agent_8h_source.html#l00464">TransactionAgent::myIdentity</a>, <a class="el" href="defs_8h_source.html#l00037">NUMSOCKETS</a>, <a class="el" href="_transaction_agent_8h_source.html#l00489">TransactionAgent::Pgs</a>, and <a class="el" href="main_8cc_source.html#l00044">socketAffinity</a>.</p>

<p>Referenced by <a class="el" href="_pg_8cc_source.html#l00372">closesocket()</a>, and <a class="el" href="_transaction_agent_8cc_source.html#l00033">TransactionAgent::TransactionAgent()</a>.</p>
<div class="fragment"><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;{</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;<span class="comment">//  taRef.Pgs.erase(socketfd);</span></div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    <span class="comment">// NEW WAY</span></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    epoll_ctl(taRef.myIdentity.epollfd, EPOLL_CTL_DEL, socketfd, NULL);</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <span class="keywordflow">if</span> (socketfd &lt;= <a class="code" href="defs_8h.html#aa9040d0d030e53b58e5e17b735dce62c">NUMSOCKETS</a>)</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    {</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;        pthread_mutex_lock(&amp;<a class="code" href="defs_8h.html#ab6a4855e5fd3fdb4da60cd3aa7a69260">connectionsMutex</a>);</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        <a class="code" href="defs_8h.html#af1f483b444746d8169a6e4a4f8db56c5">socketAffinity</a>[socketfd]=0;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;        <a class="code" href="defs_8h.html#ac81954e0617280a974e5f557db5a4021">listenerTypes</a>[socketfd]=<a class="code" href="defs_8h.html#aca77e59bdc4f39b71c60f45828cd1a04ae6ab1a646563da6d37a7d6007f21fc9b">LISTENER_NONE</a>;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        pthread_mutex_unlock(&amp;<a class="code" href="defs_8h.html#ab6a4855e5fd3fdb4da60cd3aa7a69260">connectionsMutex</a>);</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    }</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    {</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        fprintf(<a class="code" href="defs_8h.html#ab25a3625a8efbaa3d81ef27bbb51c9c5">logfile</a>, <span class="stringliteral">&quot;%s %i fd %i &gt; %i\n&quot;</span>, __FILE__, __LINE__, socketfd,</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;                <a class="code" href="defs_8h.html#aa9040d0d030e53b58e5e17b735dce62c">NUMSOCKETS</a>);</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    }</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    taRef.Pgs.erase(socketfd);</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    close(socketfd);</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_pg_ac6ac0dd94a70fd221b3807ecf908f251_icgraph.png" border="0" usemap="#class_pg_ac6ac0dd94a70fd221b3807ecf908f251_icgraph" alt=""/></div>
<map name="class_pg_ac6ac0dd94a70fd221b3807ecf908f251_icgraph" id="class_pg_ac6ac0dd94a70fd221b3807ecf908f251_icgraph">
<area shape="rect" id="node3" href="class_pg.html#a23146f712d62c6b5c4537b55dbc89727" title="close socket " alt="" coords="185,277,300,307"/><area shape="rect" id="node30" href="class_transaction_agent.html#abe6035d3eb84620ebbdcdfce3d34fc3b" title="TransactionAgent::Transaction\lAgent" alt="" coords="1029,86,1229,133"/><area shape="rect" id="node5" href="class_pg.html#a1d9453abb6c088797e14baea3f2c241b" title="wire protocol handling " alt="" coords="856,92,925,121"/><area shape="rect" id="node7" href="class_pg.html#af53fe07c0c0a879e0291e723dff34926" title="continuation function after explicit commit " alt="" coords="352,411,549,440"/><area shape="rect" id="node11" href="class_pg.html#ac132fbe1a0c46c68ece5004366dd8a62" title="after SQL activity is performed " alt="" coords="821,357,960,387"/><area shape="rect" id="node13" href="class_pg.html#adc7f4444738cd3201d51fd254c28f353" title="continuation function after implicit commit " alt="" coords="352,357,549,387"/><area shape="rect" id="node19" href="class_pg.html#a5bdee216f5c823ca136fee3c50a53d7c" title="continuation function after explicit rollback " alt="" coords="349,304,552,333"/><area shape="rect" id="node24" href="class_pg.html#a9b16e732905412fd19a9b1c75e62ced3" title="write authenticationok status to outbound message buffer " alt="" coords="369,251,532,280"/><area shape="rect" id="node32" href="class_pg.html#a79e2585fe00a44c7064745113cf6816a" title="write error to outbound message buffer " alt="" coords="376,197,525,227"/><area shape="rect" id="node9" href="class_pg.html#a55518b7c783c58e23badcc740e96cd8e" title="explicit commit " alt="" coords="603,411,749,440"/><area shape="rect" id="node15" href="class_pg.html#a5c7a5cc08d6f879c72e2a5e9515ae7a8" title="implicit commit " alt="" coords="603,357,749,387"/><area shape="rect" id="node21" href="class_pg.html#a26dfda1f20b2fdaac85986fa3dd7ebca" title="explicit rollback " alt="" coords="601,304,751,333"/><area shape="rect" id="node26" href="class_pg.html#aee8ca6d9759c75c81a8d41679744b31e" title="continuation after login operation " alt="" coords="613,251,739,280"/><area shape="rect" id="node28" href="class_operation.html#a07d5db6e1d0c41bf4073f3be93e4e7ed" title="perform operation (only for SQL logins) " alt="" coords="801,199,980,228"/><area shape="rect" id="node36" href="class_pg.html#af7204d6b309e5d68f8bd37fdbcc5929e" title="tokenize, parse, compile and execute SQL query " alt="" coords="600,144,752,173"/><area shape="rect" id="node39" href="class_pg.html#aaa7af6e009006b5eb3c4ff8324ac2d6c" title="output error based on Transaction::resultCode " alt="" coords="621,197,731,227"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa3859c82746de187e1eaaa2af79763bb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Pg::put </td>
          <td>(</td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>val</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>write data to outbound message buffer </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">val</td><td>16bit integer </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_pg_8cc_source.html#l00625">625</a> of file <a class="el" href="_pg_8cc_source.html">Pg.cc</a>.</p>

<p>References <a class="el" href="_pg_8h_source.html#l00452">outmsg</a>.</p>

<p>Referenced by <a class="el" href="_pg_8cc_source.html#l00055">cont()</a>, <a class="el" href="_pg_8cc_source.html#l01542">putAuthenticationOk()</a>, <a class="el" href="_pg_8cc_source.html#l01134">putCommandComplete()</a>, <a class="el" href="_pg_8cc_source.html#l01316">putDataRows()</a>, <a class="el" href="_pg_8cc_source.html#l01141">putErrorResponse()</a>, <a class="el" href="_pg_8cc_source.html#l01160">putNoticeResponse()</a>, <a class="el" href="_pg_8cc_source.html#l01587">putParameterStatus()</a>, <a class="el" href="_pg_8cc_source.html#l01254">putRowDescription()</a>, and <a class="el" href="_pg_8cc_source.html#l00731">writesocket()</a>.</p>
<div class="fragment"><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;{</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    <span class="keywordtype">size_t</span> curpos = <a class="code" href="class_pg.html#a2edef6fb7636b158308f0bfbd757dfc7">outmsg</a>.size();</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    <a class="code" href="class_pg.html#a2edef6fb7636b158308f0bfbd757dfc7">outmsg</a>.resize(curpos + <span class="keyword">sizeof</span>(int16_t));</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    val = htobe16(val);</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    memcpy(&amp;<a class="code" href="class_pg.html#a2edef6fb7636b158308f0bfbd757dfc7">outmsg</a>[curpos], &amp;val, <span class="keyword">sizeof</span>(int16_t));</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_pg_aa3859c82746de187e1eaaa2af79763bb_icgraph.png" border="0" usemap="#class_pg_aa3859c82746de187e1eaaa2af79763bb_icgraph" alt=""/></div>
<map name="class_pg_aa3859c82746de187e1eaaa2af79763bb_icgraph" id="class_pg_aa3859c82746de187e1eaaa2af79763bb_icgraph">
<area shape="rect" id="node3" href="class_pg.html#a1d9453abb6c088797e14baea3f2c241b" title="wire protocol handling " alt="" coords="853,124,923,153"/><area shape="rect" id="node5" href="class_pg.html#a9b16e732905412fd19a9b1c75e62ced3" title="write authenticationok status to outbound message buffer " alt="" coords="367,670,529,700"/><area shape="rect" id="node13" href="class_pg.html#af5367b8b342543bd56c310ff0afe2aea" title="write completed command to outbound message buffer " alt="" coords="119,308,297,337"/><area shape="rect" id="node28" href="class_pg.html#a1a74f6c5437f7e8faea3f875fc9a73c4" title="write rows to outbound message buffer " alt="" coords="145,101,271,130"/><area shape="rect" id="node31" href="class_pg.html#a79e2585fe00a44c7064745113cf6816a" title="write error to outbound message buffer " alt="" coords="373,305,523,334"/><area shape="rect" id="node41" href="class_pg.html#aa27e5bcd510d4b5a3203b8a8191273c2" title="write notice to outbound message buffer " alt="" coords="128,526,288,556"/><area shape="rect" id="node44" href="class_pg.html#afbe09ff203b419a42ad234f906959c8a" title="write server parameters in status message to outbound message buffer " alt="" coords="127,666,289,696"/><area shape="rect" id="node47" href="class_pg.html#ab381a3f0ef9beb0470e5aaff768d404d" title="write field names to outbound message buffer " alt="" coords="129,468,287,497"/><area shape="rect" id="node50" href="class_pg.html#a8422838d3a7e83f6db18eceb18817588" title="write response messages to socket " alt="" coords="152,412,264,441"/><area shape="rect" id="node7" href="class_pg.html#aee8ca6d9759c75c81a8d41679744b31e" title="continuation after login operation " alt="" coords="611,670,736,700"/><area shape="rect" id="node9" href="class_operation.html#a07d5db6e1d0c41bf4073f3be93e4e7ed" title="perform operation (only for SQL logins) " alt="" coords="799,670,977,700"/><area shape="rect" id="node11" href="class_transaction_agent.html#abe6035d3eb84620ebbdcdfce3d34fc3b" title="TransactionAgent::Transaction\lAgent" alt="" coords="1027,662,1227,708"/><area shape="rect" id="node16" href="class_pg.html#ac132fbe1a0c46c68ece5004366dd8a62" title="after SQL activity is performed " alt="" coords="819,412,957,441"/><area shape="rect" id="node18" href="class_pg.html#af53fe07c0c0a879e0291e723dff34926" title="continuation function after explicit commit " alt="" coords="349,358,547,388"/><area shape="rect" id="node23" href="class_pg.html#a5bdee216f5c823ca136fee3c50a53d7c" title="continuation function after explicit rollback " alt="" coords="347,412,549,441"/><area shape="rect" id="node20" href="class_pg.html#a55518b7c783c58e23badcc740e96cd8e" title="explicit commit " alt="" coords="600,358,747,388"/><area shape="rect" id="node25" href="class_pg.html#a26dfda1f20b2fdaac85986fa3dd7ebca" title="explicit rollback " alt="" coords="599,412,748,441"/><area shape="rect" id="node35" href="class_pg.html#af7204d6b309e5d68f8bd37fdbcc5929e" title="tokenize, parse, compile and execute SQL query " alt="" coords="597,252,749,281"/><area shape="rect" id="node38" href="class_pg.html#aaa7af6e009006b5eb3c4ff8324ac2d6c" title="output error based on Transaction::resultCode " alt="" coords="619,305,728,334"/><area shape="rect" id="node53" href="class_pg.html#a9fefc9290f305a1700e08a5c08b10a7b" title="write stored buffer to socket " alt="" coords="387,201,509,230"/><area shape="rect" id="node58" href="class_pg.html#adc7f4444738cd3201d51fd254c28f353" title="continuation function after implicit commit " alt="" coords="349,516,547,545"/><area shape="rect" id="node60" href="class_pg.html#a5c7a5cc08d6f879c72e2a5e9515ae7a8" title="implicit commit " alt="" coords="600,516,747,545"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a95c6251280193bbb5fe1c3f2935a9eb8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Pg::put </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>val</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>write data to outbound message buffer </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">val</td><td>32bit integer </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_pg_8cc_source.html#l00633">633</a> of file <a class="el" href="_pg_8cc_source.html">Pg.cc</a>.</p>

<p>References <a class="el" href="_pg_8h_source.html#l00452">outmsg</a>.</p>
<div class="fragment"><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;{</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    <span class="keywordtype">size_t</span> curpos = <a class="code" href="class_pg.html#a2edef6fb7636b158308f0bfbd757dfc7">outmsg</a>.size();</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    <a class="code" href="class_pg.html#a2edef6fb7636b158308f0bfbd757dfc7">outmsg</a>.resize(curpos + <span class="keyword">sizeof</span>(int32_t));</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    val = htobe32(val);</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    memcpy(&amp;<a class="code" href="class_pg.html#a2edef6fb7636b158308f0bfbd757dfc7">outmsg</a>[curpos], &amp;val, <span class="keyword">sizeof</span>(int32_t));</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a91c36fa4af5be8a36e6470cdafba4732"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Pg::put </td>
          <td>(</td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>val</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>write data to outbound message buffer </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">val</td><td>64bit integer </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_pg_8cc_source.html#l00641">641</a> of file <a class="el" href="_pg_8cc_source.html">Pg.cc</a>.</p>

<p>References <a class="el" href="_pg_8h_source.html#l00452">outmsg</a>.</p>
<div class="fragment"><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;{</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    <span class="keywordtype">size_t</span> curpos = <a class="code" href="class_pg.html#a2edef6fb7636b158308f0bfbd757dfc7">outmsg</a>.size();</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    <a class="code" href="class_pg.html#a2edef6fb7636b158308f0bfbd757dfc7">outmsg</a>.resize(curpos + <span class="keyword">sizeof</span>(int64_t));</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    val = htobe64(val);</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    memcpy(&amp;<a class="code" href="class_pg.html#a2edef6fb7636b158308f0bfbd757dfc7">outmsg</a>[curpos], &amp;val, <span class="keyword">sizeof</span>(int64_t));</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9fc6b682d48e42cde992de6c1ad5c0ec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Pg::put </td>
          <td>(</td>
          <td class="paramtype">vector&lt; int16_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>val</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>write data to outbound message buffer </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">val</td><td>array of 16bit integers </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_pg_8cc_source.html#l00649">649</a> of file <a class="el" href="_pg_8cc_source.html">Pg.cc</a>.</p>

<p>References <a class="el" href="_pg_8h_source.html#l00452">outmsg</a>.</p>
<div class="fragment"><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;{</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    <span class="keywordtype">size_t</span> curpos = <a class="code" href="class_pg.html#a2edef6fb7636b158308f0bfbd757dfc7">outmsg</a>.size();</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    <span class="keywordtype">size_t</span> nelem = val.size();</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    <a class="code" href="class_pg.html#a2edef6fb7636b158308f0bfbd757dfc7">outmsg</a>.resize(curpos + <span class="keyword">sizeof</span>(int16_t)*nelem);</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> n=0; n &lt; nelem; n++)</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    {</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;        int16_t elem = htobe16(val[n]);</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;        memcpy(&amp;<a class="code" href="class_pg.html#a2edef6fb7636b158308f0bfbd757dfc7">outmsg</a>[curpos], &amp;elem, <span class="keyword">sizeof</span>(int16_t));</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;        curpos += <span class="keyword">sizeof</span>(int16_t);</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    }</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a80ef54e5922233a9b075002f07a69d6f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Pg::put </td>
          <td>(</td>
          <td class="paramtype">vector&lt; int32_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>val</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>write data to outbound message buffer </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">val</td><td>array of 32bit integers </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_pg_8cc_source.html#l00663">663</a> of file <a class="el" href="_pg_8cc_source.html">Pg.cc</a>.</p>

<p>References <a class="el" href="_pg_8h_source.html#l00452">outmsg</a>.</p>
<div class="fragment"><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;{</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    <span class="keywordtype">size_t</span> curpos = <a class="code" href="class_pg.html#a2edef6fb7636b158308f0bfbd757dfc7">outmsg</a>.size();</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    <span class="keywordtype">size_t</span> nelem = val.size();</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    <a class="code" href="class_pg.html#a2edef6fb7636b158308f0bfbd757dfc7">outmsg</a>.resize(curpos + <span class="keyword">sizeof</span>(int32_t)*nelem);</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> n=0; n &lt; nelem; n++)</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    {</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;        int32_t elem = htobe32(val[n]);</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;        memcpy(&amp;<a class="code" href="class_pg.html#a2edef6fb7636b158308f0bfbd757dfc7">outmsg</a>[curpos], &amp;elem, <span class="keyword">sizeof</span>(int32_t));</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;        curpos += <span class="keyword">sizeof</span>(int32_t);</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    }</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7ec3f84aa81181367b21f1e192a4321b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Pg::put </td>
          <td>(</td>
          <td class="paramtype">vector&lt; int64_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>val</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>write data to outbound message buffer </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">val</td><td>array of 64bit integers </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_pg_8cc_source.html#l00677">677</a> of file <a class="el" href="_pg_8cc_source.html">Pg.cc</a>.</p>

<p>References <a class="el" href="_pg_8h_source.html#l00452">outmsg</a>.</p>
<div class="fragment"><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;{</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    <span class="keywordtype">size_t</span> curpos = <a class="code" href="class_pg.html#a2edef6fb7636b158308f0bfbd757dfc7">outmsg</a>.size();</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    <span class="keywordtype">size_t</span> nelem = val.size();</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    <a class="code" href="class_pg.html#a2edef6fb7636b158308f0bfbd757dfc7">outmsg</a>.resize(curpos + <span class="keyword">sizeof</span>(int64_t)*nelem);</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> n=0; n &lt; nelem; n++)</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    {</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;        int64_t elem = htobe64(val[n]);</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;        memcpy(&amp;<a class="code" href="class_pg.html#a2edef6fb7636b158308f0bfbd757dfc7">outmsg</a>[curpos], &amp;elem, <span class="keyword">sizeof</span>(int64_t));</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;        curpos += <span class="keyword">sizeof</span>(int64_t);</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    }</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aeffd881189d9e098c34a16c9b1f708be"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Pg::put </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>val</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>write data to outbound message buffer </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">val</td><td>Byte1 </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_pg_8cc_source.html#l00692">692</a> of file <a class="el" href="_pg_8cc_source.html">Pg.cc</a>.</p>

<p>References <a class="el" href="_pg_8h_source.html#l00452">outmsg</a>.</p>
<div class="fragment"><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;{</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    <span class="keywordtype">size_t</span> curpos = <a class="code" href="class_pg.html#a2edef6fb7636b158308f0bfbd757dfc7">outmsg</a>.size();</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    <a class="code" href="class_pg.html#a2edef6fb7636b158308f0bfbd757dfc7">outmsg</a>.resize(curpos + <span class="keyword">sizeof</span>(<span class="keywordtype">char</span>));</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    <a class="code" href="class_pg.html#a2edef6fb7636b158308f0bfbd757dfc7">outmsg</a>[curpos] = val;</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a721c78562841ed877d0d3fdea922befc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Pg::put </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>nelem</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>write Byten to outbound message buffer </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">val</td><td>bytes </td></tr>
    <tr><td class="paramname">nelem</td><td>number of bytes (n) </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_pg_8cc_source.html#l00700">700</a> of file <a class="el" href="_pg_8cc_source.html">Pg.cc</a>.</p>

<p>References <a class="el" href="_pg_8h_source.html#l00452">outmsg</a>.</p>
<div class="fragment"><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;{</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    <a class="code" href="class_pg.html#a2edef6fb7636b158308f0bfbd757dfc7">outmsg</a>.append(val, nelem);</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac3245d92553967f70d2ee93a65ad2efa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Pg::put </td>
          <td>(</td>
          <td class="paramtype">string &amp;&#160;</td>
          <td class="paramname"><em>val</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>write data to outbound message buffer </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">val</td><td>String (c-style) </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_pg_8cc_source.html#l00705">705</a> of file <a class="el" href="_pg_8cc_source.html">Pg.cc</a>.</p>

<p>References <a class="el" href="_pg_8h_source.html#l00452">outmsg</a>.</p>
<div class="fragment"><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;{</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    <a class="code" href="class_pg.html#a2edef6fb7636b158308f0bfbd757dfc7">outmsg</a>.append(val);</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    <a class="code" href="class_pg.html#a2edef6fb7636b158308f0bfbd757dfc7">outmsg</a>.append(1, <span class="charliteral">&#39;\0&#39;</span>);</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a771fa2aa8d7f74e208a4ef3bc54bcb27"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Pg::put </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>val</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>write data to outbound message buffer </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">val</td><td>string literal </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_pg_8cc_source.html#l00711">711</a> of file <a class="el" href="_pg_8cc_source.html">Pg.cc</a>.</p>

<p>References <a class="el" href="_pg_8h_source.html#l00452">outmsg</a>.</p>
<div class="fragment"><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;{</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    <a class="code" href="class_pg.html#a2edef6fb7636b158308f0bfbd757dfc7">outmsg</a>.append(val);</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    <a class="code" href="class_pg.html#a2edef6fb7636b158308f0bfbd757dfc7">outmsg</a>.append(1, <span class="charliteral">&#39;\0&#39;</span>);</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9b16e732905412fd19a9b1c75e62ced3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Pg::putAuthenticationOk </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>write authenticationok status to outbound message buffer </p>

<p>Definition at line <a class="el" href="_pg_8cc_source.html#l01542">1542</a> of file <a class="el" href="_pg_8cc_source.html">Pg.cc</a>.</p>

<p>References <a class="el" href="_pg_8cc_source.html#l00372">closesocket()</a>, <a class="el" href="_pg_8h_source.html#l00449">inbuf</a>, <a class="el" href="_pg_8h_source.html#l00451">outcmd</a>, <a class="el" href="_pg_8cc_source.html#l00625">put()</a>, <a class="el" href="_pg_8cc_source.html#l01587">putParameterStatus()</a>, <a class="el" href="_pg_8cc_source.html#l00718">replymsg()</a>, <a class="el" href="_pg_8h_source.html#l00448">size</a>, <a class="el" href="_pg_8h_source.html#l00459">startupArgs</a>, <a class="el" href="_pg_8h_source.html#l00444">state</a>, <a class="el" href="_pg_8h_source.html#l00059">STATE_ESTABLISHED</a>, <a class="el" href="infinisql_8h_source.html#l00728">ApiInterface::taPtr</a>, and <a class="el" href="_pg_8cc_source.html#l00731">writesocket()</a>.</p>

<p>Referenced by <a class="el" href="_pg_8cc_source.html#l00817">continueLogin()</a>.</p>
<div class="fragment"><div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;{</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;    <span class="comment">// AuthenticationOk</span></div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;    <a class="code" href="class_pg.html#ae8b47198d0557fe10844ee2243553fef">outcmd</a> = <span class="charliteral">&#39;R&#39;</span>;</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;    <a class="code" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer ">put</a>((int32_t)0);</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;    <a class="code" href="class_pg.html#a3ea550f9d0d24a3c7aeb736b83c86bcb" title="put message for reply into outbound buffer ">replymsg</a>();</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;    <a class="code" href="class_pg.html#afbe09ff203b419a42ad234f906959c8a" title="write server parameters in status message to outbound message buffer ">putParameterStatus</a>(<span class="stringliteral">&quot;application_name&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;    <a class="code" href="class_pg.html#afbe09ff203b419a42ad234f906959c8a" title="write server parameters in status message to outbound message buffer ">putParameterStatus</a>(<span class="stringliteral">&quot;client_encoding&quot;</span>, <span class="stringliteral">&quot;LATIN1&quot;</span>);</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;    <a class="code" href="class_pg.html#afbe09ff203b419a42ad234f906959c8a" title="write server parameters in status message to outbound message buffer ">putParameterStatus</a>(<span class="stringliteral">&quot;DateStyle&quot;</span>, <span class="stringliteral">&quot;ISO, MDY&quot;</span>);</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;    <a class="code" href="class_pg.html#afbe09ff203b419a42ad234f906959c8a" title="write server parameters in status message to outbound message buffer ">putParameterStatus</a>(<span class="stringliteral">&quot;integer_datetimes&quot;</span>, <span class="stringliteral">&quot;on&quot;</span>);</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;    <a class="code" href="class_pg.html#afbe09ff203b419a42ad234f906959c8a" title="write server parameters in status message to outbound message buffer ">putParameterStatus</a>(<span class="stringliteral">&quot;IntervalStyle&quot;</span>, <span class="stringliteral">&quot;postgres&quot;</span>);</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;    <a class="code" href="class_pg.html#afbe09ff203b419a42ad234f906959c8a" title="write server parameters in status message to outbound message buffer ">putParameterStatus</a>(<span class="stringliteral">&quot;is_superuser&quot;</span>, <span class="stringliteral">&quot;off&quot;</span>);</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;    <a class="code" href="class_pg.html#afbe09ff203b419a42ad234f906959c8a" title="write server parameters in status message to outbound message buffer ">putParameterStatus</a>(<span class="stringliteral">&quot;server_encoding&quot;</span>, <span class="stringliteral">&quot;LATIN1&quot;</span>);</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;    <a class="code" href="class_pg.html#afbe09ff203b419a42ad234f906959c8a" title="write server parameters in status message to outbound message buffer ">putParameterStatus</a>(<span class="stringliteral">&quot;server_version&quot;</span>, <span class="stringliteral">&quot;9.2.4&quot;</span>);</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;    <a class="code" href="class_pg.html#afbe09ff203b419a42ad234f906959c8a" title="write server parameters in status message to outbound message buffer ">putParameterStatus</a>(<span class="stringliteral">&quot;session_authorization&quot;</span>,</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;                       (<span class="keywordtype">char</span> *)<a class="code" href="class_pg.html#aabfd82fedcd274f8955cfcbe123015fd">startupArgs</a>[<span class="stringliteral">&quot;username&quot;</span>].c_str());</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;    <a class="code" href="class_pg.html#afbe09ff203b419a42ad234f906959c8a" title="write server parameters in status message to outbound message buffer ">putParameterStatus</a>(<span class="stringliteral">&quot;standard_conforming_strings&quot;</span>, <span class="stringliteral">&quot;on&quot;</span>);</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;    tzset();</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;    <span class="comment">// long TimeZone name from tzname[2] having problems compiling</span></div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;    <a class="code" href="class_pg.html#afbe09ff203b419a42ad234f906959c8a" title="write server parameters in status message to outbound message buffer ">putParameterStatus</a>(<span class="stringliteral">&quot;TimeZone&quot;</span>, tzname[1]);</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;    <span class="comment">//    putParameterStatus(&quot;TimeZone&quot;, &quot;US/Pacific&quot;);</span></div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;    <span class="comment">// forget key data for now, but put something here</span></div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;    <a class="code" href="class_pg.html#ae8b47198d0557fe10844ee2243553fef">outcmd</a> = <span class="charliteral">&#39;K&#39;</span>;</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;    <a class="code" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer ">put</a>(int32_t(1));</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;    <a class="code" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer ">put</a>(int32_t(2));</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;    <a class="code" href="class_pg.html#a3ea550f9d0d24a3c7aeb736b83c86bcb" title="put message for reply into outbound buffer ">replymsg</a>();</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;    <span class="comment">// ReadyForQuery</span></div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;    <a class="code" href="class_pg.html#ae8b47198d0557fe10844ee2243553fef">outcmd</a> = <span class="charliteral">&#39;Z&#39;</span>;</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;    <a class="code" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer ">put</a>((<span class="keywordtype">char</span>)<span class="charliteral">&#39;I&#39;</span>);</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;    <a class="code" href="class_pg.html#a3ea550f9d0d24a3c7aeb736b83c86bcb" title="put message for reply into outbound buffer ">replymsg</a>();</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_pg.html#a8422838d3a7e83f6db18eceb18817588" title="write response messages to socket ">writesocket</a>()==-1)</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;    {</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;        <a class="code" href="class_pg.html#a23146f712d62c6b5c4537b55dbc89727" title="close socket ">closesocket</a>(*<a class="code" href="class_api_interface.html#ab8927a476baf6830781f3528765591ab">taPtr</a>);</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;    }</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;    <a class="code" href="class_pg.html#ada3091b1aa6c1f463bbc773b02bef89c">state</a> = <a class="code" href="class_pg.html#a3dfd8436412740e96fafae7516a6050aaacd8781f9b4894944ac521960edaa181">STATE_ESTABLISHED</a>;</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;    <a class="code" href="class_pg.html#ada77aac586bbf5345f3891eea170199d">size</a> = 0;</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;    <a class="code" href="class_pg.html#a467c503836324c5b55d20d7e45c68820">inbuf</a>.clear();</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_pg_a9b16e732905412fd19a9b1c75e62ced3_cgraph.png" border="0" usemap="#class_pg_a9b16e732905412fd19a9b1c75e62ced3_cgraph" alt=""/></div>
<map name="class_pg_a9b16e732905412fd19a9b1c75e62ced3_cgraph" id="class_pg_a9b16e732905412fd19a9b1c75e62ced3_cgraph">
<area shape="rect" id="node3" href="class_pg.html#a23146f712d62c6b5c4537b55dbc89727" title="close socket " alt="" coords="243,112,357,141"/><area shape="rect" id="node31" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer " alt="" coords="480,217,544,247"/><area shape="rect" id="node33" href="class_pg.html#afbe09ff203b419a42ad234f906959c8a" title="write server parameters in status message to outbound message buffer " alt="" coords="219,271,381,300"/><area shape="rect" id="node36" href="class_pg.html#a3ea550f9d0d24a3c7aeb736b83c86bcb" title="put message for reply into outbound buffer " alt="" coords="463,271,561,300"/><area shape="rect" id="node39" href="class_pg.html#a8422838d3a7e83f6db18eceb18817588" title="write response messages to socket " alt="" coords="244,217,356,247"/><area shape="rect" id="node5" href="class_api_interface.html#a0ec871d856f976629ce78d5fc3e4e9d5" title="continuation function after implicit commit " alt="" coords="429,41,595,87"/><area shape="rect" id="node7" href="class_pg.html#ac6ac0dd94a70fd221b3807ecf908f251" title="more socket closing&#45;related activities " alt="" coords="447,111,577,140"/><area shape="rect" id="node9" href="class_transaction.html#a000e4f0882139eb8470f7472ca14a24e" title="ROLLBACK. " alt="" coords="441,164,583,193"/><area shape="rect" id="node11" href="class_transaction.html#a58d291fe5c0ee6984aa71a79c7126376" title="send MessageTransaction variant to Engine " alt="" coords="643,112,837,141"/><area shape="rect" id="node13" href="class_mboxes.html#a956f8e7626423edfd33db7a185b8b352" title="produce Message for Engine associated with specific partition " alt="" coords="887,139,1020,168"/><area shape="rect" id="node29" href="class_transaction.html#a62cfbd3f256c6b36cfdd16cddf1ab5fe" title="continue back to calling function " alt="" coords="671,216,809,245"/><area shape="rect" id="node15" href="class_mbox_producer.html#a9ca818bdf4ef9bacbaa6cb1d63a68dbd" title="produce Message onto mailbox " alt="" coords="1071,112,1236,141"/><area shape="rect" id="node26" href="class_message.html#a8f4edea412ed3bbaa8d3cf2d1d48b8b3" title="put addresses in Message variant envelope " alt="" coords="1076,165,1231,195"/><area shape="rect" id="node17" href="class_mbox.html#a5311178f7221ffa942fa128424ac9a86" title="create 128bit integer from Message object " alt="" coords="1285,5,1472,35"/><area shape="rect" id="node19" href="class_mbox.html#ae545aa094bc902b10f9b1e042c24e42b" title="return Message pointer from 128bit integer " alt="" coords="1331,59,1427,88"/><area shape="rect" id="node21" href="class_mboxes.html#abaaf6c0d67c235bcb17e7f9e935861cf" title="send batched Message objects destined to remote nodes " alt="" coords="1301,112,1456,141"/><area shape="rect" id="node24" href="class_message.html#a4508c42d7366a86327ca3076eb1ff007" title="return serialized Message variant string " alt="" coords="1316,165,1441,195"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_pg_a9b16e732905412fd19a9b1c75e62ced3_icgraph.png" border="0" usemap="#class_pg_a9b16e732905412fd19a9b1c75e62ced3_icgraph" alt=""/></div>
<map name="class_pg_a9b16e732905412fd19a9b1c75e62ced3_icgraph" id="class_pg_a9b16e732905412fd19a9b1c75e62ced3_icgraph">
<area shape="rect" id="node3" href="class_pg.html#aee8ca6d9759c75c81a8d41679744b31e" title="continuation after login operation " alt="" coords="220,13,345,43"/><area shape="rect" id="node5" href="class_operation.html#a07d5db6e1d0c41bf4073f3be93e4e7ed" title="perform operation (only for SQL logins) " alt="" coords="396,13,575,43"/><area shape="rect" id="node7" href="class_transaction_agent.html#abe6035d3eb84620ebbdcdfce3d34fc3b" title="TransactionAgent::Transaction\lAgent" alt="" coords="624,5,824,51"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af5367b8b342543bd56c310ff0afe2aea"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Pg::putCommandComplete </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>tag</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>write completed command to outbound message buffer </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tag</td><td>command name </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_pg_8cc_source.html#l01134">1134</a> of file <a class="el" href="_pg_8cc_source.html">Pg.cc</a>.</p>

<p>References <a class="el" href="_pg_8h_source.html#l00451">outcmd</a>, <a class="el" href="_pg_8cc_source.html#l00625">put()</a>, and <a class="el" href="_pg_8cc_source.html#l00718">replymsg()</a>.</p>

<p>Referenced by <a class="el" href="_pg_8cc_source.html#l00055">cont()</a>, <a class="el" href="_pg_8cc_source.html#l01446">continuePgCommitexplicit()</a>, <a class="el" href="_pg_8cc_source.html#l00876">continuePgFunc()</a>, and <a class="el" href="_pg_8cc_source.html#l01499">continuePgRollbackexplicit()</a>.</p>
<div class="fragment"><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;{</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;    <a class="code" href="class_pg.html#ae8b47198d0557fe10844ee2243553fef">outcmd</a>=<span class="charliteral">&#39;C&#39;</span>;</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;    <a class="code" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer ">put</a>(tag);</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;    <a class="code" href="class_pg.html#a3ea550f9d0d24a3c7aeb736b83c86bcb" title="put message for reply into outbound buffer ">replymsg</a>();</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_pg_af5367b8b342543bd56c310ff0afe2aea_cgraph.png" border="0" usemap="#class_pg_af5367b8b342543bd56c310ff0afe2aea_cgraph" alt=""/></div>
<map name="class_pg_af5367b8b342543bd56c310ff0afe2aea_cgraph" id="class_pg_af5367b8b342543bd56c310ff0afe2aea_cgraph">
<area shape="rect" id="node3" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer " alt="" coords="252,5,316,35"/><area shape="rect" id="node5" href="class_pg.html#a3ea550f9d0d24a3c7aeb736b83c86bcb" title="put message for reply into outbound buffer " alt="" coords="235,59,333,88"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_pg_af5367b8b342543bd56c310ff0afe2aea_icgraph.png" border="0" usemap="#class_pg_af5367b8b342543bd56c310ff0afe2aea_icgraph" alt=""/></div>
<map name="class_pg_af5367b8b342543bd56c310ff0afe2aea_icgraph" id="class_pg_af5367b8b342543bd56c310ff0afe2aea_icgraph">
<area shape="rect" id="node3" href="class_pg.html#a1d9453abb6c088797e14baea3f2c241b" title="wire protocol handling " alt="" coords="301,5,371,35"/><area shape="rect" id="node5" href="class_pg.html#af53fe07c0c0a879e0291e723dff34926" title="continuation function after explicit commit " alt="" coords="237,59,435,88"/><area shape="rect" id="node9" href="class_pg.html#ac132fbe1a0c46c68ece5004366dd8a62" title="after SQL activity is performed " alt="" coords="684,111,823,140"/><area shape="rect" id="node12" href="class_pg.html#a5bdee216f5c823ca136fee3c50a53d7c" title="continuation function after explicit rollback " alt="" coords="235,163,437,192"/><area shape="rect" id="node7" href="class_pg.html#a55518b7c783c58e23badcc740e96cd8e" title="explicit commit " alt="" coords="487,59,633,88"/><area shape="rect" id="node14" href="class_pg.html#a26dfda1f20b2fdaac85986fa3dd7ebca" title="explicit rollback " alt="" coords="485,163,635,192"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1a74f6c5437f7e8faea3f875fc9a73c4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Pg::putDataRows </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>write rows to outbound message buffer </p>

<p>Definition at line <a class="el" href="_pg_8cc_source.html#l01316">1316</a> of file <a class="el" href="_pg_8cc_source.html">Pg.cc</a>.</p>

<p>References <a class="el" href="infinisql_8h_source.html#l00175">BOOL</a>, <a class="el" href="infinisql_8h_source.html#l00177">CHAR</a>, <a class="el" href="infinisql_8h_source.html#l00178">CHARX</a>, <a class="el" href="_transaction_8h_source.html#l00618">Transaction::fieldValues</a>, <a class="el" href="infinisql_8h_source.html#l00176">FLOAT</a>, <a class="el" href="infinisql_8h_source.html#l00173">INT</a>, <a class="el" href="_pg_8h_source.html#l00451">outcmd</a>, <a class="el" href="_pg_8cc_source.html#l00625">put()</a>, <a class="el" href="_pg_8cc_source.html#l00718">replymsg()</a>, <a class="el" href="infinisql_8h_source.html#l00742">ApiInterface::results</a>, <a class="el" href="infinisql_8h_source.html#l00256">ApiInterface::results_s::selectFields</a>, <a class="el" href="infinisql_8h_source.html#l00258">ApiInterface::results_s::selectResults</a>, <a class="el" href="infinisql_8h_source.html#l00174">UINT</a>, and <a class="el" href="infinisql_8h_source.html#l00179">VARCHAR</a>.</p>

<p>Referenced by <a class="el" href="_pg_8cc_source.html#l00876">continuePgFunc()</a>.</p>
<div class="fragment"><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;{</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;    boost::unordered_map&lt; uuRecord_s, vector&lt;fieldValue_s&gt; &gt;::const_iterator it;</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;    <span class="keywordflow">for</span> (it = <a class="code" href="class_api_interface.html#a457bd797da91eee8ce3f3d59be2ae4ec">results</a>.<a class="code" href="struct_api_interface_1_1results__s.html#a1ff0823cfc2f024d2908428f0634c7fb">selectResults</a>.begin(); it != <a class="code" href="class_api_interface.html#a457bd797da91eee8ce3f3d59be2ae4ec">results</a>.<a class="code" href="struct_api_interface_1_1results__s.html#a1ff0823cfc2f024d2908428f0634c7fb">selectResults</a>.end();</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;         it++)</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;    {</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;        <a class="code" href="class_pg.html#ae8b47198d0557fe10844ee2243553fef">outcmd</a>=<span class="charliteral">&#39;D&#39;</span>;</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;        int16_t numfields = (int16_t)<a class="code" href="class_api_interface.html#a457bd797da91eee8ce3f3d59be2ae4ec">results</a>.<a class="code" href="struct_api_interface_1_1results__s.html#a506bcc8c253f2b051aae0f391a6e9954">selectFields</a>.size();</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;        <a class="code" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer ">put</a>(numfields);</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;        <span class="keyword">const</span> vector&lt;fieldValue_s&gt; &amp;fieldValues = it-&gt;second;</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;        <span class="keywordflow">for</span> (int16_t n=0; n &lt; numfields; n++)</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;        {</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;            <span class="keywordflow">if</span> (fieldValues[n].isnull==<span class="keyword">true</span>)</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;            {</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;                <a class="code" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer ">put</a>((int32_t)-1);</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;            }</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;            <span class="keywordflow">switch</span> (<a class="code" href="class_api_interface.html#a457bd797da91eee8ce3f3d59be2ae4ec">results</a>.<a class="code" href="struct_api_interface_1_1results__s.html#a506bcc8c253f2b051aae0f391a6e9954">selectFields</a>[n].type)</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;            {</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="infinisql_8h.html#ac062857eb2a9849816ade85a9ad7ad1dafd5a5f51ce25953f3db2c7e93eb7864a">INT</a>:</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;            {</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;                <span class="keywordtype">char</span> val[21]; <span class="comment">// length of smallest int64_t + \0</span></div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;                int32_t len=sprintf(val, <span class="stringliteral">&quot;%li&quot;</span>, fieldValues[n].value.integer);</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;                <a class="code" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer ">put</a>(len);</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;                <a class="code" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer ">put</a>(val, len);</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;            }</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="infinisql_8h.html#ac062857eb2a9849816ade85a9ad7ad1da4756f5bbd9f28d6b8905f32024b57398">UINT</a>:</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;            {</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;                <span class="keywordtype">char</span> val[21]; <span class="comment">// length of largest uint64_t + \0</span></div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;                int32_t len=sprintf(val, <span class="stringliteral">&quot;%lu&quot;</span>, fieldValues[n].value.uinteger);</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;                <a class="code" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer ">put</a>(len);</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;                <a class="code" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer ">put</a>(val, len);</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;            }</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="infinisql_8h.html#ac062857eb2a9849816ade85a9ad7ad1dae663dbb8f8244e122acb5bd6b2c216e1">BOOL</a>:</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;                <a class="code" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer ">put</a>((int32_t)1);</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;                <span class="keywordflow">if</span> (fieldValues[n].value.boolean==<span class="keyword">true</span>)</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;                {</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;                    <a class="code" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer ">put</a>(<span class="charliteral">&#39;t&#39;</span>);</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;                }</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;                {</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;                    <a class="code" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer ">put</a>(<span class="charliteral">&#39;f&#39;</span>);</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;                }</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="infinisql_8h.html#ac062857eb2a9849816ade85a9ad7ad1da9cf4a0866224b0bb4a7a895da27c9c4c">FLOAT</a>:</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;            {</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;                std::stringstream val;</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;                val &lt;&lt; (double)fieldValues[n].value.floating;</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;                if ((<span class="keywordtype">double</span>)fieldValues[n].value.floating /</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;                    (int64_t)fieldValues[n].value.floating == 1)</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;                {</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;                    val &lt;&lt; <span class="stringliteral">&quot;.0&quot;</span>;</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;                }</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;                int32_t len=val.str().size();</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;                <a class="code" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer ">put</a>((int32_t)len);</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;                <a class="code" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer ">put</a>((<span class="keywordtype">char</span> *)val.str().c_str(), len);</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;            }</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="infinisql_8h.html#ac062857eb2a9849816ade85a9ad7ad1da4618cf21306b3c647741afa7ebefcab8">CHAR</a>:</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;                <a class="code" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer ">put</a>((int32_t)1);</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;                <a class="code" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer ">put</a>(fieldValues[n].value.character);</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="infinisql_8h.html#ac062857eb2a9849816ade85a9ad7ad1dabb32802b797c73bac8b050a146247417">CHARX</a>:</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;            {</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;                int32_t len = fieldValues[n].str.size();</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;                <a class="code" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer ">put</a>((int32_t)len);</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;                <a class="code" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer ">put</a>((<span class="keywordtype">char</span> *)fieldValues[n].str.c_str(), len);</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;            }</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="infinisql_8h.html#ac062857eb2a9849816ade85a9ad7ad1daa45d14ff7805c0e137c82d2d193d607d">VARCHAR</a>:</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;            {</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;                int32_t len = fieldValues[n].str.size();</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;                <a class="code" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer ">put</a>((int32_t)len);</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;                <a class="code" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer ">put</a>((<span class="keywordtype">char</span> *)fieldValues[n].str.c_str(), len);</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;            }</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;            <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;                printf(<span class="stringliteral">&quot;%s %i anomaly %i\n&quot;</span>, __FILE__, __LINE__,</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;                       <a class="code" href="class_api_interface.html#a457bd797da91eee8ce3f3d59be2ae4ec">results</a>.<a class="code" href="struct_api_interface_1_1results__s.html#a506bcc8c253f2b051aae0f391a6e9954">selectFields</a>[n].type);</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;            }</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;        }</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;        <a class="code" href="class_pg.html#a3ea550f9d0d24a3c7aeb736b83c86bcb" title="put message for reply into outbound buffer ">replymsg</a>();</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;    }</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_pg_a1a74f6c5437f7e8faea3f875fc9a73c4_cgraph.png" border="0" usemap="#class_pg_a1a74f6c5437f7e8faea3f875fc9a73c4_cgraph" alt=""/></div>
<map name="class_pg_a1a74f6c5437f7e8faea3f875fc9a73c4_cgraph" id="class_pg_a1a74f6c5437f7e8faea3f875fc9a73c4_cgraph">
<area shape="rect" id="node3" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer " alt="" coords="199,5,263,35"/><area shape="rect" id="node5" href="class_pg.html#a3ea550f9d0d24a3c7aeb736b83c86bcb" title="put message for reply into outbound buffer " alt="" coords="181,59,280,88"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_pg_a1a74f6c5437f7e8faea3f875fc9a73c4_icgraph.png" border="0" usemap="#class_pg_a1a74f6c5437f7e8faea3f875fc9a73c4_icgraph" alt=""/></div>
<map name="class_pg_a1a74f6c5437f7e8faea3f875fc9a73c4_icgraph" id="class_pg_a1a74f6c5437f7e8faea3f875fc9a73c4_icgraph">
<area shape="rect" id="node3" href="class_pg.html#ac132fbe1a0c46c68ece5004366dd8a62" title="after SQL activity is performed " alt="" coords="183,5,321,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a79e2585fe00a44c7064745113cf6816a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Pg::putErrorResponse </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>severity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>write error to outbound message buffer </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">severity</td><td>error severity </td></tr>
    <tr><td class="paramname">code</td><td>error code </td></tr>
    <tr><td class="paramname">message</td><td>error message </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_pg_8cc_source.html#l01141">1141</a> of file <a class="el" href="_pg_8cc_source.html">Pg.cc</a>.</p>

<p>References <a class="el" href="_pg_8cc_source.html#l00372">closesocket()</a>, <a class="el" href="_pg_8h_source.html#l00451">outcmd</a>, <a class="el" href="_pg_8cc_source.html#l00625">put()</a>, <a class="el" href="_pg_8cc_source.html#l00718">replymsg()</a>, <a class="el" href="infinisql_8h_source.html#l00728">ApiInterface::taPtr</a>, and <a class="el" href="_pg_8cc_source.html#l00731">writesocket()</a>.</p>

<p>Referenced by <a class="el" href="_pg_8cc_source.html#l00055">cont()</a>, <a class="el" href="_pg_8cc_source.html#l00817">continueLogin()</a>, <a class="el" href="_pg_8cc_source.html#l01595">errorStatus()</a>, and <a class="el" href="_pg_8cc_source.html#l00836">executeStatement()</a>.</p>
<div class="fragment"><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;{</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;    <a class="code" href="class_pg.html#ae8b47198d0557fe10844ee2243553fef">outcmd</a>=<span class="charliteral">&#39;E&#39;</span>;</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;    <a class="code" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer ">put</a>(<span class="charliteral">&#39;S&#39;</span>);</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;    <a class="code" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer ">put</a>(severity);</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;    <a class="code" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer ">put</a>(<span class="charliteral">&#39;C&#39;</span>);</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;    <a class="code" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer ">put</a>(code);</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;    <a class="code" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer ">put</a>(<span class="charliteral">&#39;M&#39;</span>);</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;    <a class="code" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer ">put</a>(message);</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;    <a class="code" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer ">put</a>(<span class="keywordtype">char</span>(0));</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;    <a class="code" href="class_pg.html#a3ea550f9d0d24a3c7aeb736b83c86bcb" title="put message for reply into outbound buffer ">replymsg</a>();</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_pg.html#a8422838d3a7e83f6db18eceb18817588" title="write response messages to socket ">writesocket</a>()==-1)</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;    {</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;        <a class="code" href="class_pg.html#a23146f712d62c6b5c4537b55dbc89727" title="close socket ">closesocket</a>(*<a class="code" href="class_api_interface.html#ab8927a476baf6830781f3528765591ab">taPtr</a>);</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;    }</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_pg_a79e2585fe00a44c7064745113cf6816a_cgraph.png" border="0" usemap="#class_pg_a79e2585fe00a44c7064745113cf6816a_cgraph" alt=""/></div>
<map name="class_pg_a79e2585fe00a44c7064745113cf6816a_cgraph" id="class_pg_a79e2585fe00a44c7064745113cf6816a_cgraph">
<area shape="rect" id="node3" href="class_pg.html#a23146f712d62c6b5c4537b55dbc89727" title="close socket " alt="" coords="207,113,321,143"/><area shape="rect" id="node31" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer " alt="" coords="421,217,485,247"/><area shape="rect" id="node33" href="class_pg.html#a3ea550f9d0d24a3c7aeb736b83c86bcb" title="put message for reply into outbound buffer " alt="" coords="404,271,503,300"/><area shape="rect" id="node35" href="class_pg.html#a8422838d3a7e83f6db18eceb18817588" title="write response messages to socket " alt="" coords="208,219,320,248"/><area shape="rect" id="node5" href="class_api_interface.html#a0ec871d856f976629ce78d5fc3e4e9d5" title="continuation function after implicit commit " alt="" coords="371,41,536,87"/><area shape="rect" id="node7" href="class_pg.html#ac6ac0dd94a70fd221b3807ecf908f251" title="more socket closing&#45;related activities " alt="" coords="388,111,519,140"/><area shape="rect" id="node9" href="class_transaction.html#a000e4f0882139eb8470f7472ca14a24e" title="ROLLBACK. " alt="" coords="383,164,524,193"/><area shape="rect" id="node11" href="class_transaction.html#a58d291fe5c0ee6984aa71a79c7126376" title="send MessageTransaction variant to Engine " alt="" coords="584,112,779,141"/><area shape="rect" id="node13" href="class_mboxes.html#a956f8e7626423edfd33db7a185b8b352" title="produce Message for Engine associated with specific partition " alt="" coords="828,139,961,168"/><area shape="rect" id="node29" href="class_transaction.html#a62cfbd3f256c6b36cfdd16cddf1ab5fe" title="continue back to calling function " alt="" coords="612,216,751,245"/><area shape="rect" id="node15" href="class_mbox_producer.html#a9ca818bdf4ef9bacbaa6cb1d63a68dbd" title="produce Message onto mailbox " alt="" coords="1012,112,1177,141"/><area shape="rect" id="node26" href="class_message.html#a8f4edea412ed3bbaa8d3cf2d1d48b8b3" title="put addresses in Message variant envelope " alt="" coords="1017,165,1172,195"/><area shape="rect" id="node17" href="class_mbox.html#a5311178f7221ffa942fa128424ac9a86" title="create 128bit integer from Message object " alt="" coords="1227,5,1413,35"/><area shape="rect" id="node19" href="class_mbox.html#ae545aa094bc902b10f9b1e042c24e42b" title="return Message pointer from 128bit integer " alt="" coords="1272,59,1368,88"/><area shape="rect" id="node21" href="class_mboxes.html#abaaf6c0d67c235bcb17e7f9e935861cf" title="send batched Message objects destined to remote nodes " alt="" coords="1243,112,1397,141"/><area shape="rect" id="node24" href="class_message.html#a4508c42d7366a86327ca3076eb1ff007" title="return serialized Message variant string " alt="" coords="1257,165,1383,195"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_pg_a79e2585fe00a44c7064745113cf6816a_icgraph.png" border="0" usemap="#class_pg_a79e2585fe00a44c7064745113cf6816a_icgraph" alt=""/></div>
<map name="class_pg_a79e2585fe00a44c7064745113cf6816a_icgraph" id="class_pg_a79e2585fe00a44c7064745113cf6816a_icgraph">
<area shape="rect" id="node3" href="class_pg.html#a1d9453abb6c088797e14baea3f2c241b" title="wire protocol handling " alt="" coords="461,5,531,35"/><area shape="rect" id="node5" href="class_pg.html#aee8ca6d9759c75c81a8d41679744b31e" title="continuation after login operation " alt="" coords="219,84,344,113"/><area shape="rect" id="node11" href="class_pg.html#aaa7af6e009006b5eb3c4ff8324ac2d6c" title="output error based on Transaction::resultCode " alt="" coords="227,137,336,167"/><area shape="rect" id="node15" href="class_pg.html#af7204d6b309e5d68f8bd37fdbcc5929e" title="tokenize, parse, compile and execute SQL query " alt="" coords="205,31,357,60"/><area shape="rect" id="node7" href="class_operation.html#a07d5db6e1d0c41bf4073f3be93e4e7ed" title="perform operation (only for SQL logins) " alt="" coords="407,84,585,113"/><area shape="rect" id="node9" href="class_transaction_agent.html#abe6035d3eb84620ebbdcdfce3d34fc3b" title="TransactionAgent::Transaction\lAgent" alt="" coords="635,75,835,122"/><area shape="rect" id="node13" href="class_pg.html#ac132fbe1a0c46c68ece5004366dd8a62" title="after SQL activity is performed " alt="" coords="427,137,565,167"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa27e5bcd510d4b5a3203b8a8191273c2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Pg::putNoticeResponse </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>severity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>write notice to outbound message buffer </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">severity</td><td>notice severity </td></tr>
    <tr><td class="paramname">code</td><td>notice code </td></tr>
    <tr><td class="paramname">message</td><td>notice message </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_pg_8cc_source.html#l01160">1160</a> of file <a class="el" href="_pg_8cc_source.html">Pg.cc</a>.</p>

<p>References <a class="el" href="_pg_8h_source.html#l00451">outcmd</a>, <a class="el" href="_pg_8cc_source.html#l00625">put()</a>, and <a class="el" href="_pg_8cc_source.html#l00718">replymsg()</a>.</p>

<p>Referenced by <a class="el" href="_pg_8cc_source.html#l00876">continuePgFunc()</a>.</p>
<div class="fragment"><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;{</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;    <a class="code" href="class_pg.html#ae8b47198d0557fe10844ee2243553fef">outcmd</a>=<span class="charliteral">&#39;N&#39;</span>;</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;    <a class="code" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer ">put</a>(<span class="charliteral">&#39;S&#39;</span>);</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;    <a class="code" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer ">put</a>(severity);</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;    <a class="code" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer ">put</a>(<span class="charliteral">&#39;C&#39;</span>);</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;    <a class="code" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer ">put</a>(code);</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;    <a class="code" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer ">put</a>(<span class="charliteral">&#39;M&#39;</span>);</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;    <a class="code" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer ">put</a>(message);</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;    <a class="code" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer ">put</a>(<span class="keywordtype">char</span>(0));</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;    <a class="code" href="class_pg.html#a3ea550f9d0d24a3c7aeb736b83c86bcb" title="put message for reply into outbound buffer ">replymsg</a>();</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_pg_aa27e5bcd510d4b5a3203b8a8191273c2_cgraph.png" border="0" usemap="#class_pg_aa27e5bcd510d4b5a3203b8a8191273c2_cgraph" alt=""/></div>
<map name="class_pg_aa27e5bcd510d4b5a3203b8a8191273c2_cgraph" id="class_pg_aa27e5bcd510d4b5a3203b8a8191273c2_cgraph">
<area shape="rect" id="node3" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer " alt="" coords="233,5,297,35"/><area shape="rect" id="node5" href="class_pg.html#a3ea550f9d0d24a3c7aeb736b83c86bcb" title="put message for reply into outbound buffer " alt="" coords="216,59,315,88"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_pg_aa27e5bcd510d4b5a3203b8a8191273c2_icgraph.png" border="0" usemap="#class_pg_aa27e5bcd510d4b5a3203b8a8191273c2_icgraph" alt=""/></div>
<map name="class_pg_aa27e5bcd510d4b5a3203b8a8191273c2_icgraph" id="class_pg_aa27e5bcd510d4b5a3203b8a8191273c2_icgraph">
<area shape="rect" id="node3" href="class_pg.html#ac132fbe1a0c46c68ece5004366dd8a62" title="after SQL activity is performed " alt="" coords="217,5,356,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="afbe09ff203b419a42ad234f906959c8a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Pg::putParameterStatus </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>write server parameters in status message to outbound message buffer </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>parameter name </td></tr>
    <tr><td class="paramname">value</td><td>parameter value </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_pg_8cc_source.html#l01587">1587</a> of file <a class="el" href="_pg_8cc_source.html">Pg.cc</a>.</p>

<p>References <a class="el" href="_pg_8h_source.html#l00451">outcmd</a>, <a class="el" href="_pg_8cc_source.html#l00625">put()</a>, and <a class="el" href="_pg_8cc_source.html#l00718">replymsg()</a>.</p>

<p>Referenced by <a class="el" href="_pg_8cc_source.html#l01542">putAuthenticationOk()</a>.</p>
<div class="fragment"><div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;{</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;    <a class="code" href="class_pg.html#ae8b47198d0557fe10844ee2243553fef">outcmd</a>=<span class="charliteral">&#39;S&#39;</span>;</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;    <a class="code" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer ">put</a>(name);</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;    <a class="code" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer ">put</a>(value);</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;    <a class="code" href="class_pg.html#a3ea550f9d0d24a3c7aeb736b83c86bcb" title="put message for reply into outbound buffer ">replymsg</a>();</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_pg_afbe09ff203b419a42ad234f906959c8a_cgraph.png" border="0" usemap="#class_pg_afbe09ff203b419a42ad234f906959c8a_cgraph" alt=""/></div>
<map name="class_pg_afbe09ff203b419a42ad234f906959c8a_cgraph" id="class_pg_afbe09ff203b419a42ad234f906959c8a_cgraph">
<area shape="rect" id="node3" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer " alt="" coords="233,5,297,35"/><area shape="rect" id="node5" href="class_pg.html#a3ea550f9d0d24a3c7aeb736b83c86bcb" title="put message for reply into outbound buffer " alt="" coords="216,59,315,88"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_pg_afbe09ff203b419a42ad234f906959c8a_icgraph.png" border="0" usemap="#class_pg_afbe09ff203b419a42ad234f906959c8a_icgraph" alt=""/></div>
<map name="class_pg_afbe09ff203b419a42ad234f906959c8a_icgraph" id="class_pg_afbe09ff203b419a42ad234f906959c8a_icgraph">
<area shape="rect" id="node3" href="class_pg.html#a9b16e732905412fd19a9b1c75e62ced3" title="write authenticationok status to outbound message buffer " alt="" coords="217,13,380,43"/><area shape="rect" id="node5" href="class_pg.html#aee8ca6d9759c75c81a8d41679744b31e" title="continuation after login operation " alt="" coords="431,13,556,43"/><area shape="rect" id="node7" href="class_operation.html#a07d5db6e1d0c41bf4073f3be93e4e7ed" title="perform operation (only for SQL logins) " alt="" coords="607,13,785,43"/><area shape="rect" id="node9" href="class_transaction_agent.html#abe6035d3eb84620ebbdcdfce3d34fc3b" title="TransactionAgent::Transaction\lAgent" alt="" coords="835,5,1035,51"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab381a3f0ef9beb0470e5aaff768d404d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Pg::putRowDescription </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>write field names to outbound message buffer </p>

<p>Definition at line <a class="el" href="_pg_8cc_source.html#l01254">1254</a> of file <a class="el" href="_pg_8cc_source.html">Pg.cc</a>.</p>

<p>References <a class="el" href="infinisql_8h_source.html#l00175">BOOL</a>, <a class="el" href="pgoids_8h_source.html#l00044">BOOLOID</a>, <a class="el" href="pgoids_8h_source.html#l00088">BPCHAROID</a>, <a class="el" href="infinisql_8h_source.html#l00177">CHAR</a>, <a class="el" href="pgoids_8h_source.html#l00047">CHAROID</a>, <a class="el" href="infinisql_8h_source.html#l00178">CHARX</a>, <a class="el" href="infinisql_8h_source.html#l00176">FLOAT</a>, <a class="el" href="pgoids_8h_source.html#l00071">FLOAT8OID</a>, <a class="el" href="infinisql_8h_source.html#l00173">INT</a>, <a class="el" href="pgoids_8h_source.html#l00049">INT8OID</a>, <a class="el" href="_pg_8h_source.html#l00451">outcmd</a>, <a class="el" href="_pg_8cc_source.html#l00625">put()</a>, <a class="el" href="_pg_8cc_source.html#l00718">replymsg()</a>, <a class="el" href="infinisql_8h_source.html#l00742">ApiInterface::results</a>, <a class="el" href="infinisql_8h_source.html#l00256">ApiInterface::results_s::selectFields</a>, <a class="el" href="infinisql_8h_source.html#l00174">UINT</a>, <a class="el" href="infinisql_8h_source.html#l00179">VARCHAR</a>, and <a class="el" href="pgoids_8h_source.html#l00090">VARCHAROID</a>.</p>

<p>Referenced by <a class="el" href="_pg_8cc_source.html#l00876">continuePgFunc()</a>.</p>
<div class="fragment"><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;{</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;    <a class="code" href="class_pg.html#ae8b47198d0557fe10844ee2243553fef">outcmd</a>=<span class="charliteral">&#39;T&#39;</span>;</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;    int16_t numfields = (int16_t)<a class="code" href="class_api_interface.html#a457bd797da91eee8ce3f3d59be2ae4ec">results</a>.<a class="code" href="struct_api_interface_1_1results__s.html#a506bcc8c253f2b051aae0f391a6e9954">selectFields</a>.size();</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;    <a class="code" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer ">put</a>(numfields);</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;    <span class="keywordflow">for</span> (int16_t n=0; n &lt; numfields; n++)</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;    {</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;        <a class="code" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer ">put</a>(<a class="code" href="class_api_interface.html#a457bd797da91eee8ce3f3d59be2ae4ec">results</a>.<a class="code" href="struct_api_interface_1_1results__s.html#a506bcc8c253f2b051aae0f391a6e9954">selectFields</a>[n].name);</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;        <a class="code" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer ">put</a>((int32_t)0);</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;        <a class="code" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer ">put</a>((int16_t)0);</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;        <span class="keywordflow">switch</span> (<a class="code" href="class_api_interface.html#a457bd797da91eee8ce3f3d59be2ae4ec">results</a>.<a class="code" href="struct_api_interface_1_1results__s.html#a506bcc8c253f2b051aae0f391a6e9954">selectFields</a>[n].type)</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;        {</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="infinisql_8h.html#ac062857eb2a9849816ade85a9ad7ad1dafd5a5f51ce25953f3db2c7e93eb7864a">INT</a>:</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;            <a class="code" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer ">put</a>((int32_t)<a class="code" href="pgoids_8h.html#a59b14b0f52e041ced4e021121ed0b31b">INT8OID</a>);</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;            <a class="code" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer ">put</a>((int16_t)8);</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="infinisql_8h.html#ac062857eb2a9849816ade85a9ad7ad1da4756f5bbd9f28d6b8905f32024b57398">UINT</a>:</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;            <a class="code" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer ">put</a>((int32_t)<a class="code" href="pgoids_8h.html#a59b14b0f52e041ced4e021121ed0b31b">INT8OID</a>);</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;            <a class="code" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer ">put</a>((int16_t)8);</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="infinisql_8h.html#ac062857eb2a9849816ade85a9ad7ad1dae663dbb8f8244e122acb5bd6b2c216e1">BOOL</a>:</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;            <a class="code" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer ">put</a>((int32_t)<a class="code" href="pgoids_8h.html#a98237a4b91c161bd6c2df63a2bb94207">BOOLOID</a>);</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;            <a class="code" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer ">put</a>((int16_t)1);</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="infinisql_8h.html#ac062857eb2a9849816ade85a9ad7ad1da9cf4a0866224b0bb4a7a895da27c9c4c">FLOAT</a>:</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;            <a class="code" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer ">put</a>((int32_t)<a class="code" href="pgoids_8h.html#a8fa1c5f811247e1b88bc65475218d41c">FLOAT8OID</a>);</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;            <a class="code" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer ">put</a>((int16_t)8);</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="infinisql_8h.html#ac062857eb2a9849816ade85a9ad7ad1da4618cf21306b3c647741afa7ebefcab8">CHAR</a>:</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;            <a class="code" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer ">put</a>((int32_t)<a class="code" href="pgoids_8h.html#ace83b8c6f7699112ced411650600b475">CHAROID</a>);</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;            <a class="code" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer ">put</a>((int16_t)1);</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="infinisql_8h.html#ac062857eb2a9849816ade85a9ad7ad1dabb32802b797c73bac8b050a146247417">CHARX</a>:</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;            <a class="code" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer ">put</a>((int32_t)<a class="code" href="pgoids_8h.html#afa7749dbe36d31874205189d9d6b21d7">BPCHAROID</a>);</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;            <a class="code" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer ">put</a>((int16_t)-2);</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="infinisql_8h.html#ac062857eb2a9849816ade85a9ad7ad1daa45d14ff7805c0e137c82d2d193d607d">VARCHAR</a>:</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;            <a class="code" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer ">put</a>((int32_t)<a class="code" href="pgoids_8h.html#a24eccf5fa2a41f7738ab1aa1b7dce72d">VARCHAROID</a>);</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;            <a class="code" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer ">put</a>((int16_t)-2);</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;            printf(<span class="stringliteral">&quot;%s %i anomaly %i\n&quot;</span>, __FILE__, __LINE__,</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;                   <a class="code" href="class_api_interface.html#a457bd797da91eee8ce3f3d59be2ae4ec">results</a>.<a class="code" href="struct_api_interface_1_1results__s.html#a506bcc8c253f2b051aae0f391a6e9954">selectFields</a>[n].type);</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;        }</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;        <a class="code" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer ">put</a>((int32_t)0);</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;        <a class="code" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer ">put</a>((int16_t)0); <span class="comment">// text format code</span></div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;    }</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;    <a class="code" href="class_pg.html#a3ea550f9d0d24a3c7aeb736b83c86bcb" title="put message for reply into outbound buffer ">replymsg</a>();</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_pg_ab381a3f0ef9beb0470e5aaff768d404d_cgraph.png" border="0" usemap="#class_pg_ab381a3f0ef9beb0470e5aaff768d404d_cgraph" alt=""/></div>
<map name="class_pg_ab381a3f0ef9beb0470e5aaff768d404d_cgraph" id="class_pg_ab381a3f0ef9beb0470e5aaff768d404d_cgraph">
<area shape="rect" id="node3" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer " alt="" coords="228,5,292,35"/><area shape="rect" id="node5" href="class_pg.html#a3ea550f9d0d24a3c7aeb736b83c86bcb" title="put message for reply into outbound buffer " alt="" coords="211,59,309,88"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_pg_ab381a3f0ef9beb0470e5aaff768d404d_icgraph.png" border="0" usemap="#class_pg_ab381a3f0ef9beb0470e5aaff768d404d_icgraph" alt=""/></div>
<map name="class_pg_ab381a3f0ef9beb0470e5aaff768d404d_icgraph" id="class_pg_ab381a3f0ef9beb0470e5aaff768d404d_icgraph">
<area shape="rect" id="node3" href="class_pg.html#ac132fbe1a0c46c68ece5004366dd8a62" title="after SQL activity is performed " alt="" coords="212,5,351,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a44c82eede544bcf6999302f41f705c81"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Pg::readsocket </td>
          <td>(</td>
          <td class="paramtype">string &amp;&#160;</td>
          <td class="paramname"><em>buf</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>read from socket </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>buffer for data read</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true: something read (or spurious epoll event), false error or EOF </dd></dl>

<p>Definition at line <a class="el" href="_pg_8cc_source.html#l00343">343</a> of file <a class="el" href="_pg_8cc_source.html">Pg.cc</a>.</p>

<p>References <a class="el" href="_pg_8h_source.html#l00445">sockfd</a>.</p>

<p>Referenced by <a class="el" href="_pg_8cc_source.html#l00055">cont()</a>.</p>
<div class="fragment"><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;{</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <span class="keywordtype">char</span> in[8192];</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <span class="keywordflow">while</span> (1)</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    {</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        ssize_t readed = recv(<a class="code" href="class_pg.html#a795eae49ac0f05051ee3c975d67f160a">sockfd</a>, in, 8192, 0);</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        <span class="keywordflow">if</span> (readed &gt; 0)</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        {</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;            buf.append(in, readed);</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        }</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (readed == -1)</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        {</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;            <span class="keywordflow">if</span> (errno==EAGAIN || errno==EWOULDBLOCK)</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;            {</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;            }</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;        }</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        {</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;            <span class="comment">// EOF</span></div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        }</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    }</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_pg_a44c82eede544bcf6999302f41f705c81_icgraph.png" border="0" usemap="#class_pg_a44c82eede544bcf6999302f41f705c81_icgraph" alt=""/></div>
<map name="class_pg_a44c82eede544bcf6999302f41f705c81_icgraph" id="class_pg_a44c82eede544bcf6999302f41f705c81_icgraph">
<area shape="rect" id="node3" href="class_pg.html#a1d9453abb6c088797e14baea3f2c241b" title="wire protocol handling " alt="" coords="167,5,236,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3ea550f9d0d24a3c7aeb736b83c86bcb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Pg::replymsg </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>put message for reply into outbound buffer </p>

<p>Definition at line <a class="el" href="_pg_8cc_source.html#l00718">718</a> of file <a class="el" href="_pg_8cc_source.html">Pg.cc</a>.</p>

<p>References <a class="el" href="_pg_8h_source.html#l00453">outbuf</a>, <a class="el" href="_pg_8h_source.html#l00451">outcmd</a>, and <a class="el" href="_pg_8h_source.html#l00452">outmsg</a>.</p>

<p>Referenced by <a class="el" href="_pg_8cc_source.html#l00055">cont()</a>, <a class="el" href="_pg_8cc_source.html#l01542">putAuthenticationOk()</a>, <a class="el" href="_pg_8cc_source.html#l01134">putCommandComplete()</a>, <a class="el" href="_pg_8cc_source.html#l01316">putDataRows()</a>, <a class="el" href="_pg_8cc_source.html#l01141">putErrorResponse()</a>, <a class="el" href="_pg_8cc_source.html#l01160">putNoticeResponse()</a>, <a class="el" href="_pg_8cc_source.html#l01587">putParameterStatus()</a>, <a class="el" href="_pg_8cc_source.html#l01254">putRowDescription()</a>, and <a class="el" href="_pg_8cc_source.html#l00731">writesocket()</a>.</p>
<div class="fragment"><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;{</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    uint32_t osize = htobe32((uint32_t)<a class="code" href="class_pg.html#a2edef6fb7636b158308f0bfbd757dfc7">outmsg</a>.size() + <span class="keyword">sizeof</span>(osize));</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    <span class="keywordtype">string</span> prependstr(<span class="keyword">sizeof</span>(osize) + <span class="keyword">sizeof</span>(<a class="code" href="class_pg.html#ae8b47198d0557fe10844ee2243553fef">outcmd</a>), <span class="charliteral">&#39;\0&#39;</span>);</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    prependstr[0] = <a class="code" href="class_pg.html#ae8b47198d0557fe10844ee2243553fef">outcmd</a>;</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    memcpy(&amp;prependstr[1], &amp;osize, <span class="keyword">sizeof</span>(osize));</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    <a class="code" href="class_pg.html#a2edef6fb7636b158308f0bfbd757dfc7">outmsg</a>.insert(0, prependstr);</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    <a class="code" href="class_pg.html#aa66ae17967b8ab82d4753e70598818f1">outbuf</a>.append(<a class="code" href="class_pg.html#a2edef6fb7636b158308f0bfbd757dfc7">outmsg</a>);</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    <a class="code" href="class_pg.html#a2edef6fb7636b158308f0bfbd757dfc7">outmsg</a>.clear();</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_pg_a3ea550f9d0d24a3c7aeb736b83c86bcb_icgraph.png" border="0" usemap="#class_pg_a3ea550f9d0d24a3c7aeb736b83c86bcb_icgraph" alt=""/></div>
<map name="class_pg_a3ea550f9d0d24a3c7aeb736b83c86bcb_icgraph" id="class_pg_a3ea550f9d0d24a3c7aeb736b83c86bcb_icgraph">
<area shape="rect" id="node3" href="class_pg.html#a1d9453abb6c088797e14baea3f2c241b" title="wire protocol handling " alt="" coords="888,121,957,150"/><area shape="rect" id="node5" href="class_pg.html#a9b16e732905412fd19a9b1c75e62ced3" title="write authenticationok status to outbound message buffer " alt="" coords="401,667,564,697"/><area shape="rect" id="node13" href="class_pg.html#af5367b8b342543bd56c310ff0afe2aea" title="write completed command to outbound message buffer " alt="" coords="153,305,332,334"/><area shape="rect" id="node28" href="class_pg.html#a1a74f6c5437f7e8faea3f875fc9a73c4" title="write rows to outbound message buffer " alt="" coords="180,98,305,127"/><area shape="rect" id="node31" href="class_pg.html#a79e2585fe00a44c7064745113cf6816a" title="write error to outbound message buffer " alt="" coords="408,302,557,331"/><area shape="rect" id="node41" href="class_pg.html#aa27e5bcd510d4b5a3203b8a8191273c2" title="write notice to outbound message buffer " alt="" coords="163,523,323,553"/><area shape="rect" id="node44" href="class_pg.html#afbe09ff203b419a42ad234f906959c8a" title="write server parameters in status message to outbound message buffer " alt="" coords="161,663,324,693"/><area shape="rect" id="node47" href="class_pg.html#ab381a3f0ef9beb0470e5aaff768d404d" title="write field names to outbound message buffer " alt="" coords="164,465,321,494"/><area shape="rect" id="node50" href="class_pg.html#a8422838d3a7e83f6db18eceb18817588" title="write response messages to socket " alt="" coords="187,409,299,438"/><area shape="rect" id="node7" href="class_pg.html#aee8ca6d9759c75c81a8d41679744b31e" title="continuation after login operation " alt="" coords="645,667,771,697"/><area shape="rect" id="node9" href="class_operation.html#a07d5db6e1d0c41bf4073f3be93e4e7ed" title="perform operation (only for SQL logins) " alt="" coords="833,667,1012,697"/><area shape="rect" id="node11" href="class_transaction_agent.html#abe6035d3eb84620ebbdcdfce3d34fc3b" title="TransactionAgent::Transaction\lAgent" alt="" coords="1061,659,1261,705"/><area shape="rect" id="node16" href="class_pg.html#af53fe07c0c0a879e0291e723dff34926" title="continuation function after explicit commit " alt="" coords="384,355,581,385"/><area shape="rect" id="node20" href="class_pg.html#ac132fbe1a0c46c68ece5004366dd8a62" title="after SQL activity is performed " alt="" coords="853,409,992,438"/><area shape="rect" id="node23" href="class_pg.html#a5bdee216f5c823ca136fee3c50a53d7c" title="continuation function after explicit rollback " alt="" coords="381,409,584,438"/><area shape="rect" id="node18" href="class_pg.html#a55518b7c783c58e23badcc740e96cd8e" title="explicit commit " alt="" coords="635,355,781,385"/><area shape="rect" id="node25" href="class_pg.html#a26dfda1f20b2fdaac85986fa3dd7ebca" title="explicit rollback " alt="" coords="633,409,783,438"/><area shape="rect" id="node35" href="class_pg.html#aaa7af6e009006b5eb3c4ff8324ac2d6c" title="output error based on Transaction::resultCode " alt="" coords="653,302,763,331"/><area shape="rect" id="node38" href="class_pg.html#af7204d6b309e5d68f8bd37fdbcc5929e" title="tokenize, parse, compile and execute SQL query " alt="" coords="632,249,784,278"/><area shape="rect" id="node53" href="class_pg.html#a9fefc9290f305a1700e08a5c08b10a7b" title="write stored buffer to socket " alt="" coords="421,198,544,227"/><area shape="rect" id="node58" href="class_pg.html#adc7f4444738cd3201d51fd254c28f353" title="continuation function after implicit commit " alt="" coords="384,513,581,542"/><area shape="rect" id="node60" href="class_pg.html#a5c7a5cc08d6f879c72e2a5e9515ae7a8" title="implicit commit " alt="" coords="635,513,781,542"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9fefc9290f305a1700e08a5c08b10a7b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">short Pg::rewritesocket </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>write stored buffer to socket </p>
<p>called after socket becomes writable</p>
<dl class="section return"><dt>Returns</dt><dd>see writesocket </dd></dl>

<p>Definition at line <a class="el" href="_pg_8cc_source.html#l00789">789</a> of file <a class="el" href="_pg_8cc_source.html">Pg.cc</a>.</p>

<p>References <a class="el" href="_topology_8h_source.html#l00076">Topology::partitionAddress::epollfd</a>, <a class="el" href="_transaction_agent_8h_source.html#l00464">TransactionAgent::myIdentity</a>, <a class="el" href="_pg_8h_source.html#l00445">sockfd</a>, <a class="el" href="infinisql_8h_source.html#l00728">ApiInterface::taPtr</a>, and <a class="el" href="_pg_8cc_source.html#l00731">writesocket()</a>.</p>

<p>Referenced by <a class="el" href="_pg_8cc_source.html#l00055">cont()</a>.</p>
<div class="fragment"><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;{</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="class_pg.html#a8422838d3a7e83f6db18eceb18817588" title="write response messages to socket ">writesocket</a>())</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    {</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;    <span class="keywordflow">case</span> -1:</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;<span class="comment">//        break;</span></div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    <span class="keywordflow">case</span> 0:</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    {</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;        <span class="keyword">struct </span>epoll_event epevent;</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;        epevent.events = EPOLLIN | EPOLLHUP | EPOLLET;</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;        epevent.data.fd=<a class="code" href="class_pg.html#a795eae49ac0f05051ee3c975d67f160a">sockfd</a>;</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;        epoll_ctl(<a class="code" href="class_api_interface.html#ab8927a476baf6830781f3528765591ab">taPtr</a>-&gt;<a class="code" href="class_transaction_agent.html#a4cf668ec19e2a97cb8691c0e1b5c7e76">myIdentity</a>.<a class="code" href="struct_topology_1_1partition_address.html#abf1258c44925dc2cc45aaec245bcaea1">epollfd</a>, EPOLL_CTL_MOD, <a class="code" href="class_pg.html#a795eae49ac0f05051ee3c975d67f160a">sockfd</a>, &amp;epevent);</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    }</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    <span class="keywordflow">case</span> 1:</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;<span class="comment">//        break;</span></div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;        printf(<span class="stringliteral">&quot;%s %i anomaly WTF\n&quot;</span>, __FILE__, __LINE__);</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    }</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_pg_a9fefc9290f305a1700e08a5c08b10a7b_cgraph.png" border="0" usemap="#class_pg_a9fefc9290f305a1700e08a5c08b10a7b_cgraph" alt=""/></div>
<map name="class_pg_a9fefc9290f305a1700e08a5c08b10a7b_cgraph" id="class_pg_a9fefc9290f305a1700e08a5c08b10a7b_cgraph">
<area shape="rect" id="node3" href="class_pg.html#a8422838d3a7e83f6db18eceb18817588" title="write response messages to socket " alt="" coords="180,32,292,61"/><area shape="rect" id="node5" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer " alt="" coords="359,5,423,35"/><area shape="rect" id="node7" href="class_pg.html#a3ea550f9d0d24a3c7aeb736b83c86bcb" title="put message for reply into outbound buffer " alt="" coords="341,59,440,88"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_pg_a9fefc9290f305a1700e08a5c08b10a7b_icgraph.png" border="0" usemap="#class_pg_a9fefc9290f305a1700e08a5c08b10a7b_icgraph" alt=""/></div>
<map name="class_pg_a9fefc9290f305a1700e08a5c08b10a7b_icgraph" id="class_pg_a9fefc9290f305a1700e08a5c08b10a7b_icgraph">
<area shape="rect" id="node3" href="class_pg.html#a1d9453abb6c088797e14baea3f2c241b" title="wire protocol handling " alt="" coords="180,5,249,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a2a41dfc859568fa99954e3a2cccb01e1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Pg::sqlbegin </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>appears to be orphan </p>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="_pg_8cc_source.html#l01243">1243</a> of file <a class="el" href="_pg_8cc_source.html">Pg.cc</a>.</p>

<p>References <a class="el" href="infinisql_8h_source.html#l00732">ApiInterface::transactionPtr</a>.</p>
<div class="fragment"><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;{</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_api_interface.html#a7bbe3b808315357bc57f002abb161cb5">transactionPtr</a> != NULL)</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;    {</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;    }</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;    <a class="code" href="class_api_interface.html#a7bbe3b808315357bc57f002abb161cb5">transactionPtr</a> = <span class="keyword">new</span> <span class="keyword">class </span><a class="code" href="class_transaction.html" title="create Transaction object ">Transaction</a>(<a class="code" href="class_api_interface.html#ab8927a476baf6830781f3528765591ab">taPtr</a>, <a class="code" href="class_api_interface.html#a03b4ff3fc21b9f56bec1e57d8e9f90bb">domainid</a>);</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a55518b7c783c58e23badcc740e96cd8e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Pg::sqlcommitexplicit </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>explicit commit </p>
<p>explicit commit is sent as COMMIT or END at end of transaction </p>

<p>Definition at line <a class="el" href="_pg_8cc_source.html#l01190">1190</a> of file <a class="el" href="_pg_8cc_source.html">Pg.cc</a>.</p>

<p>References <a class="el" href="_transaction_8cc_source.html#l03601">Transaction::commit()</a>, <a class="el" href="_pg_8cc_source.html#l01446">continuePgCommitexplicit()</a>, <a class="el" href="class_api_interface.html#acc92546b7e795c8d327ac765ff3d2eea">ApiInterface::continuePgCommitexplicit()</a>, <a class="el" href="_transaction_8h_source.html#l00608">Transaction::reentryCmd</a>, <a class="el" href="_transaction_8h_source.html#l00607">Transaction::reentryFuncPtr</a>, <a class="el" href="_transaction_8h_source.html#l00606">Transaction::reentryObject</a>, <a class="el" href="_transaction_8h_source.html#l00609">Transaction::reentryState</a>, and <a class="el" href="infinisql_8h_source.html#l00732">ApiInterface::transactionPtr</a>.</p>

<p>Referenced by <a class="el" href="_pg_8cc_source.html#l00876">continuePgFunc()</a>.</p>
<div class="fragment"><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;{</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_api_interface.html#a7bbe3b808315357bc57f002abb161cb5">transactionPtr</a>==NULL)</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;    {</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;        <a class="code" href="class_pg.html#af53fe07c0c0a879e0291e723dff34926" title="continuation function after explicit commit ">continuePgCommitexplicit</a>(1, NULL);</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;    }</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;    <a class="code" href="class_api_interface.html#a7bbe3b808315357bc57f002abb161cb5">transactionPtr</a>-&gt;<a class="code" href="class_transaction.html#afcf4ef203fcdd9a00037dd4536cb17fe">reentryObject</a> = <span class="keyword">this</span>;</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;    <a class="code" href="class_api_interface.html#a7bbe3b808315357bc57f002abb161cb5">transactionPtr</a>-&gt;<a class="code" href="class_transaction.html#ae9e728dd39b295f762b995a8f68b57bc">reentryFuncPtr</a> = &amp;<a class="code" href="class_api_interface.html#acc92546b7e795c8d327ac765ff3d2eea" title="continuation function after explicit commit ">ApiInterface::continuePgCommitexplicit</a>;</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;    <a class="code" href="class_api_interface.html#a7bbe3b808315357bc57f002abb161cb5">transactionPtr</a>-&gt;<a class="code" href="class_transaction.html#ae9338ebefa8fd88af773ce9383a32246">reentryCmd</a> = 1;</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;    <a class="code" href="class_api_interface.html#a7bbe3b808315357bc57f002abb161cb5">transactionPtr</a>-&gt;<a class="code" href="class_transaction.html#ad372af545a1a497c37b678f3a6ee07d0">reentryState</a> = NULL;</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;    <a class="code" href="class_api_interface.html#a7bbe3b808315357bc57f002abb161cb5">transactionPtr</a>-&gt;<a class="code" href="class_transaction.html#a109bd0f1d70b6ff69cf3abccf7eea8f8" title="COMMIT. ">commit</a>();</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_pg_a55518b7c783c58e23badcc740e96cd8e_cgraph.png" border="0" usemap="#class_pg_a55518b7c783c58e23badcc740e96cd8e_cgraph" alt=""/></div>
<map name="class_pg_a55518b7c783c58e23badcc740e96cd8e_cgraph" id="class_pg_a55518b7c783c58e23badcc740e96cd8e_cgraph">
<area shape="rect" id="node3" href="class_transaction.html#a109bd0f1d70b6ff69cf3abccf7eea8f8" title="COMMIT. " alt="" coords="468,427,609,456"/><area shape="rect" id="node64" href="class_pg.html#af53fe07c0c0a879e0291e723dff34926" title="continuation function after explicit commit " alt="" coords="201,653,399,683"/><area shape="rect" id="node87" href="class_api_interface.html#acc92546b7e795c8d327ac765ff3d2eea" title="continuation function after explicit commit " alt="" coords="217,706,383,753"/><area shape="rect" id="node5" href="class_transaction.html#abfb2d360e416bdf8dc2453a4642c93b8" title="generate unique, always incrementing id for pending command " alt="" coords="677,427,899,456"/><area shape="rect" id="node7" href="class_transaction.html#a7466fd171b67232f43e9a540950f2413" title="continuation of COMMIT " alt="" coords="692,275,884,322"/><area shape="rect" id="node58" href="class_transaction.html#aaaab2fa0d5c4c49e970461eabca86783" title="create MessageDispatch for synchronous replication " alt="" coords="697,357,879,403"/><area shape="rect" id="node60" href="class_mboxes.html#a91b938e3db8b15f7dffbe9a3b04b8d1a" title="produce Message for specific actor " alt="" coords="1207,507,1324,536"/><area shape="rect" id="node9" href="class_transaction.html#aa741adabd498325416959375fb3ac6c2" title="add entry (row or field) to list for Engine processing " alt="" coords="975,165,1113,195"/><area shape="rect" id="node11" href="class_table.html#a1f82fb5350dd9409ba854b73efe569ee" title="extract fields from row string " alt="" coords="980,219,1108,248"/><area shape="rect" id="node13" href="defs_8h.html#a1893cfdf91d0c9c964e3791c550894c8" title="trimspace" alt="" coords="1005,272,1083,301"/><area shape="rect" id="node15" href="class_transaction.html#a43be7c7b2347ad858b594ab1c6537b64" title="get engineid/partitionid based on hash of this fieldValues " alt="" coords="961,112,1127,141"/><area shape="rect" id="node38" href="class_transaction.html#a58d291fe5c0ee6984aa71a79c7126376" title="send MessageTransaction variant to Engine " alt="" coords="947,429,1141,459"/><area shape="rect" id="node40" href="class_mboxes.html#a956f8e7626423edfd33db7a185b8b352" title="produce Message for Engine associated with specific partition " alt="" coords="1199,453,1332,483"/><area shape="rect" id="node55" href="class_transaction.html#a62cfbd3f256c6b36cfdd16cddf1ab5fe" title="continue back to calling function " alt="" coords="975,376,1113,405"/><area shape="rect" id="node17" href="class_spooky_hash.html#acabbc1948064bffaf1c7ed4e78cc1a30" title="SpookyHash::Hash64" alt="" coords="1191,112,1340,141"/><area shape="rect" id="node19" href="class_spooky_hash.html#a9d8973d46becbc8036c458fae3efc3a5" title="SpookyHash::Hash128" alt="" coords="1395,112,1552,141"/><area shape="rect" id="node21" href="class_spooky_hash.html#af9b11a6c6092014a571c337db7a0dac8" title="SpookyHash::Short" alt="" coords="1631,59,1767,88"/><area shape="rect" id="node30" href="class_spooky_hash.html#a749e6012af3d67884a323e227105e032" title="SpookyHash::Mix" alt="" coords="1860,112,1985,141"/><area shape="rect" id="node33" href="class_spooky_hash.html#ae93bdc4013fbfa7d4ce9bfadf8fe953b" title="SpookyHash::End" alt="" coords="1635,164,1763,193"/><area shape="rect" id="node23" href="class_spooky_hash.html#a2a18b61b405f43f283ba9a20016b5b9f" title="SpookyHash::ShortMix" alt="" coords="1844,5,2001,35"/><area shape="rect" id="node27" href="class_spooky_hash.html#a5b01b1a2b3270e9c11244a6702b0db59" title="SpookyHash::ShortEnd" alt="" coords="1844,59,2001,88"/><area shape="rect" id="node25" href="class_spooky_hash.html#a2b3b07af28a0b4f0f920fdb3a31a0c87" title="SpookyHash::Rot64" alt="" coords="2055,85,2193,115"/><area shape="rect" id="node35" href="class_spooky_hash.html#a9799c4b36e1c73e895e4e7293eb94521" title="SpookyHash::EndPartial" alt="" coords="1840,165,2005,195"/><area shape="rect" id="node42" href="class_mbox_producer.html#a9ca818bdf4ef9bacbaa6cb1d63a68dbd" title="produce Message onto mailbox " alt="" coords="1391,453,1556,483"/><area shape="rect" id="node53" href="class_message.html#a8f4edea412ed3bbaa8d3cf2d1d48b8b3" title="put addresses in Message variant envelope " alt="" coords="1396,507,1551,536"/><area shape="rect" id="node44" href="class_mbox.html#a5311178f7221ffa942fa128424ac9a86" title="create 128bit integer from Message object " alt="" coords="1605,400,1792,429"/><area shape="rect" id="node46" href="class_mbox.html#ae545aa094bc902b10f9b1e042c24e42b" title="return Message pointer from 128bit integer " alt="" coords="1651,453,1747,483"/><area shape="rect" id="node48" href="class_mboxes.html#abaaf6c0d67c235bcb17e7f9e935861cf" title="send batched Message objects destined to remote nodes " alt="" coords="1621,507,1776,536"/><area shape="rect" id="node51" href="class_message.html#a4508c42d7366a86327ca3076eb1ff007" title="return serialized Message variant string " alt="" coords="1636,347,1761,376"/><area shape="rect" id="node66" href="class_pg.html#a23146f712d62c6b5c4537b55dbc89727" title="close socket " alt="" coords="481,627,596,656"/><area shape="rect" id="node77" href="class_pg.html#af5367b8b342543bd56c310ff0afe2aea" title="write completed command to outbound message buffer " alt="" coords="449,680,628,709"/><area shape="rect" id="node83" href="class_pg.html#a8422838d3a7e83f6db18eceb18817588" title="write response messages to socket " alt="" coords="483,733,595,763"/><area shape="rect" id="node68" href="class_api_interface.html#a0ec871d856f976629ce78d5fc3e4e9d5" title="continuation function after implicit commit " alt="" coords="705,583,871,630"/><area shape="rect" id="node70" href="class_pg.html#ac6ac0dd94a70fd221b3807ecf908f251" title="more socket closing&#45;related activities " alt="" coords="723,653,853,683"/><area shape="rect" id="node72" href="class_transaction.html#a000e4f0882139eb8470f7472ca14a24e" title="ROLLBACK. " alt="" coords="717,480,859,509"/><area shape="rect" id="node79" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer " alt="" coords="756,760,820,789"/><area shape="rect" id="node81" href="class_pg.html#a3ea550f9d0d24a3c7aeb736b83c86bcb" title="put message for reply into outbound buffer " alt="" coords="739,707,837,736"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_pg_a55518b7c783c58e23badcc740e96cd8e_icgraph.png" border="0" usemap="#class_pg_a55518b7c783c58e23badcc740e96cd8e_icgraph" alt=""/></div>
<map name="class_pg_a55518b7c783c58e23badcc740e96cd8e_icgraph" id="class_pg_a55518b7c783c58e23badcc740e96cd8e_icgraph">
<area shape="rect" id="node3" href="class_pg.html#ac132fbe1a0c46c68ece5004366dd8a62" title="after SQL activity is performed " alt="" coords="201,5,340,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5c7a5cc08d6f879c72e2a5e9515ae7a8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Pg::sqlcommitimplicit </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>implicit commit </p>
<p>implicit commit done after a single statement is entered, not in a transaction already, and session_isautocommit is true </p>

<p>Definition at line <a class="el" href="_pg_8cc_source.html#l01174">1174</a> of file <a class="el" href="_pg_8cc_source.html">Pg.cc</a>.</p>

<p>References <a class="el" href="_transaction_8cc_source.html#l03601">Transaction::commit()</a>, <a class="el" href="_pg_8cc_source.html#l01420">continuePgCommitimplicit()</a>, <a class="el" href="class_api_interface.html#a0ec871d856f976629ce78d5fc3e4e9d5">ApiInterface::continuePgCommitimplicit()</a>, <a class="el" href="_transaction_8h_source.html#l00608">Transaction::reentryCmd</a>, <a class="el" href="_transaction_8h_source.html#l00607">Transaction::reentryFuncPtr</a>, <a class="el" href="_transaction_8h_source.html#l00606">Transaction::reentryObject</a>, <a class="el" href="_transaction_8h_source.html#l00609">Transaction::reentryState</a>, and <a class="el" href="infinisql_8h_source.html#l00732">ApiInterface::transactionPtr</a>.</p>

<p>Referenced by <a class="el" href="_pg_8cc_source.html#l00876">continuePgFunc()</a>.</p>
<div class="fragment"><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;{</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_api_interface.html#a7bbe3b808315357bc57f002abb161cb5">transactionPtr</a>==NULL)</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;    {</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;        <a class="code" href="class_pg.html#adc7f4444738cd3201d51fd254c28f353" title="continuation function after implicit commit ">continuePgCommitimplicit</a>(1, NULL);</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;    }</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;    <a class="code" href="class_api_interface.html#a7bbe3b808315357bc57f002abb161cb5">transactionPtr</a>-&gt;<a class="code" href="class_transaction.html#afcf4ef203fcdd9a00037dd4536cb17fe">reentryObject</a> = <span class="keyword">this</span>;</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;    <a class="code" href="class_api_interface.html#a7bbe3b808315357bc57f002abb161cb5">transactionPtr</a>-&gt;<a class="code" href="class_transaction.html#ae9e728dd39b295f762b995a8f68b57bc">reentryFuncPtr</a> = &amp;<a class="code" href="class_api_interface.html#a0ec871d856f976629ce78d5fc3e4e9d5" title="continuation function after implicit commit ">ApiInterface::continuePgCommitimplicit</a>;</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;    <a class="code" href="class_api_interface.html#a7bbe3b808315357bc57f002abb161cb5">transactionPtr</a>-&gt;<a class="code" href="class_transaction.html#ae9338ebefa8fd88af773ce9383a32246">reentryCmd</a> = 1;</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;    <a class="code" href="class_api_interface.html#a7bbe3b808315357bc57f002abb161cb5">transactionPtr</a>-&gt;<a class="code" href="class_transaction.html#ad372af545a1a497c37b678f3a6ee07d0">reentryState</a> = NULL;</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;    <a class="code" href="class_api_interface.html#a7bbe3b808315357bc57f002abb161cb5">transactionPtr</a>-&gt;<a class="code" href="class_transaction.html#a109bd0f1d70b6ff69cf3abccf7eea8f8" title="COMMIT. ">commit</a>();</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_pg_a5c7a5cc08d6f879c72e2a5e9515ae7a8_cgraph.png" border="0" usemap="#class_pg_a5c7a5cc08d6f879c72e2a5e9515ae7a8_cgraph" alt=""/></div>
<map name="class_pg_a5c7a5cc08d6f879c72e2a5e9515ae7a8_cgraph" id="class_pg_a5c7a5cc08d6f879c72e2a5e9515ae7a8_cgraph">
<area shape="rect" id="node3" href="class_transaction.html#a109bd0f1d70b6ff69cf3abccf7eea8f8" title="COMMIT. " alt="" coords="448,232,589,261"/><area shape="rect" id="node64" href="class_pg.html#adc7f4444738cd3201d51fd254c28f353" title="continuation function after implicit commit " alt="" coords="201,424,399,453"/><area shape="rect" id="node68" href="class_api_interface.html#a0ec871d856f976629ce78d5fc3e4e9d5" title="continuation function after implicit commit " alt="" coords="665,354,831,401"/><area shape="rect" id="node5" href="class_transaction.html#abfb2d360e416bdf8dc2453a4642c93b8" title="generate unique, always incrementing id for pending command " alt="" coords="637,232,859,261"/><area shape="rect" id="node7" href="class_transaction.html#a7466fd171b67232f43e9a540950f2413" title="continuation of COMMIT " alt="" coords="652,285,844,331"/><area shape="rect" id="node58" href="class_transaction.html#aaaab2fa0d5c4c49e970461eabca86783" title="create MessageDispatch for synchronous replication " alt="" coords="657,162,839,209"/><area shape="rect" id="node60" href="class_mboxes.html#a91b938e3db8b15f7dffbe9a3b04b8d1a" title="produce Message for specific actor " alt="" coords="1167,307,1284,336"/><area shape="rect" id="node9" href="class_transaction.html#aa741adabd498325416959375fb3ac6c2" title="add entry (row or field) to list for Engine processing " alt="" coords="935,228,1073,257"/><area shape="rect" id="node11" href="class_table.html#a1f82fb5350dd9409ba854b73efe569ee" title="extract fields from row string " alt="" coords="940,281,1068,311"/><area shape="rect" id="node13" href="defs_8h.html#a1893cfdf91d0c9c964e3791c550894c8" title="trimspace" alt="" coords="965,175,1043,204"/><area shape="rect" id="node15" href="class_transaction.html#a43be7c7b2347ad858b594ab1c6537b64" title="get engineid/partitionid based on hash of this fieldValues " alt="" coords="921,59,1087,88"/><area shape="rect" id="node38" href="class_transaction.html#a58d291fe5c0ee6984aa71a79c7126376" title="send MessageTransaction variant to Engine " alt="" coords="907,385,1101,415"/><area shape="rect" id="node40" href="class_mboxes.html#a956f8e7626423edfd33db7a185b8b352" title="produce Message for Engine associated with specific partition " alt="" coords="1159,360,1292,389"/><area shape="rect" id="node55" href="class_transaction.html#a62cfbd3f256c6b36cfdd16cddf1ab5fe" title="continue back to calling function " alt="" coords="935,439,1073,468"/><area shape="rect" id="node17" href="class_spooky_hash.html#acabbc1948064bffaf1c7ed4e78cc1a30" title="SpookyHash::Hash64" alt="" coords="1151,59,1300,88"/><area shape="rect" id="node19" href="class_spooky_hash.html#a9d8973d46becbc8036c458fae3efc3a5" title="SpookyHash::Hash128" alt="" coords="1355,59,1512,88"/><area shape="rect" id="node21" href="class_spooky_hash.html#af9b11a6c6092014a571c337db7a0dac8" title="SpookyHash::Short" alt="" coords="1591,112,1727,141"/><area shape="rect" id="node30" href="class_spooky_hash.html#a749e6012af3d67884a323e227105e032" title="SpookyHash::Mix" alt="" coords="1820,5,1945,35"/><area shape="rect" id="node33" href="class_spooky_hash.html#ae93bdc4013fbfa7d4ce9bfadf8fe953b" title="SpookyHash::End" alt="" coords="1595,59,1723,88"/><area shape="rect" id="node23" href="class_spooky_hash.html#a2a18b61b405f43f283ba9a20016b5b9f" title="SpookyHash::ShortMix" alt="" coords="1804,112,1961,141"/><area shape="rect" id="node27" href="class_spooky_hash.html#a5b01b1a2b3270e9c11244a6702b0db59" title="SpookyHash::ShortEnd" alt="" coords="1804,165,1961,195"/><area shape="rect" id="node25" href="class_spooky_hash.html#a2b3b07af28a0b4f0f920fdb3a31a0c87" title="SpookyHash::Rot64" alt="" coords="2015,85,2153,115"/><area shape="rect" id="node35" href="class_spooky_hash.html#a9799c4b36e1c73e895e4e7293eb94521" title="SpookyHash::EndPartial" alt="" coords="1800,59,1965,88"/><area shape="rect" id="node42" href="class_mbox_producer.html#a9ca818bdf4ef9bacbaa6cb1d63a68dbd" title="produce Message onto mailbox " alt="" coords="1351,360,1516,389"/><area shape="rect" id="node53" href="class_message.html#a8f4edea412ed3bbaa8d3cf2d1d48b8b3" title="put addresses in Message variant envelope " alt="" coords="1356,307,1511,336"/><area shape="rect" id="node44" href="class_mbox.html#a5311178f7221ffa942fa128424ac9a86" title="create 128bit integer from Message object " alt="" coords="1565,413,1752,443"/><area shape="rect" id="node46" href="class_mbox.html#ae545aa094bc902b10f9b1e042c24e42b" title="return Message pointer from 128bit integer " alt="" coords="1611,467,1707,496"/><area shape="rect" id="node48" href="class_mboxes.html#abaaf6c0d67c235bcb17e7f9e935861cf" title="send batched Message objects destined to remote nodes " alt="" coords="1581,307,1736,336"/><area shape="rect" id="node51" href="class_message.html#a4508c42d7366a86327ca3076eb1ff007" title="return serialized Message variant string " alt="" coords="1596,360,1721,389"/><area shape="rect" id="node66" href="class_pg.html#a23146f712d62c6b5c4537b55dbc89727" title="close socket " alt="" coords="461,424,576,453"/><area shape="rect" id="node77" href="class_pg.html#a8422838d3a7e83f6db18eceb18817588" title="write response messages to socket " alt="" coords="463,531,575,560"/><area shape="rect" id="node70" href="class_pg.html#ac6ac0dd94a70fd221b3807ecf908f251" title="more socket closing&#45;related activities " alt="" coords="683,424,813,453"/><area shape="rect" id="node72" href="class_transaction.html#a000e4f0882139eb8470f7472ca14a24e" title="ROLLBACK. " alt="" coords="677,477,819,507"/><area shape="rect" id="node79" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer " alt="" coords="716,584,780,613"/><area shape="rect" id="node81" href="class_pg.html#a3ea550f9d0d24a3c7aeb736b83c86bcb" title="put message for reply into outbound buffer " alt="" coords="699,531,797,560"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_pg_a5c7a5cc08d6f879c72e2a5e9515ae7a8_icgraph.png" border="0" usemap="#class_pg_a5c7a5cc08d6f879c72e2a5e9515ae7a8_icgraph" alt=""/></div>
<map name="class_pg_a5c7a5cc08d6f879c72e2a5e9515ae7a8_icgraph" id="class_pg_a5c7a5cc08d6f879c72e2a5e9515ae7a8_icgraph">
<area shape="rect" id="node3" href="class_pg.html#ac132fbe1a0c46c68ece5004366dd8a62" title="after SQL activity is performed " alt="" coords="201,5,340,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a26dfda1f20b2fdaac85986fa3dd7ebca"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Pg::sqlrollbackexplicit </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>explicit rollback </p>
<p>explicit commit is sent as ROLLBACK statement within transaction </p>

<p>Definition at line <a class="el" href="_pg_8cc_source.html#l01227">1227</a> of file <a class="el" href="_pg_8cc_source.html">Pg.cc</a>.</p>

<p>References <a class="el" href="_pg_8cc_source.html#l01499">continuePgRollbackexplicit()</a>, <a class="el" href="class_api_interface.html#a4a2fa36d3536536a94b1a84165cb946e">ApiInterface::continuePgRollbackexplicit()</a>, <a class="el" href="_transaction_8h_source.html#l00608">Transaction::reentryCmd</a>, <a class="el" href="_transaction_8h_source.html#l00607">Transaction::reentryFuncPtr</a>, <a class="el" href="_transaction_8h_source.html#l00606">Transaction::reentryObject</a>, <a class="el" href="_transaction_8h_source.html#l00609">Transaction::reentryState</a>, <a class="el" href="_transaction_8cc_source.html#l02086">Transaction::rollback()</a>, and <a class="el" href="infinisql_8h_source.html#l00732">ApiInterface::transactionPtr</a>.</p>

<p>Referenced by <a class="el" href="_pg_8cc_source.html#l00876">continuePgFunc()</a>.</p>
<div class="fragment"><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;{</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_api_interface.html#a7bbe3b808315357bc57f002abb161cb5">transactionPtr</a>==NULL)</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;    {</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;        <a class="code" href="class_pg.html#a5bdee216f5c823ca136fee3c50a53d7c" title="continuation function after explicit rollback ">continuePgRollbackexplicit</a>(1, NULL);</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;    }</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;    <a class="code" href="class_api_interface.html#a7bbe3b808315357bc57f002abb161cb5">transactionPtr</a>-&gt;<a class="code" href="class_transaction.html#afcf4ef203fcdd9a00037dd4536cb17fe">reentryObject</a> = <span class="keyword">this</span>;</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;    <a class="code" href="class_api_interface.html#a7bbe3b808315357bc57f002abb161cb5">transactionPtr</a>-&gt;<a class="code" href="class_transaction.html#ae9e728dd39b295f762b995a8f68b57bc">reentryFuncPtr</a> = &amp;<a class="code" href="class_api_interface.html#a4a2fa36d3536536a94b1a84165cb946e" title="continuation function after explicit rollback ">ApiInterface::continuePgRollbackexplicit</a>;</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;    <a class="code" href="class_api_interface.html#a7bbe3b808315357bc57f002abb161cb5">transactionPtr</a>-&gt;<a class="code" href="class_transaction.html#ae9338ebefa8fd88af773ce9383a32246">reentryCmd</a> = 1;</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;    <a class="code" href="class_api_interface.html#a7bbe3b808315357bc57f002abb161cb5">transactionPtr</a>-&gt;<a class="code" href="class_transaction.html#ad372af545a1a497c37b678f3a6ee07d0">reentryState</a> = NULL;</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;    <a class="code" href="class_api_interface.html#a7bbe3b808315357bc57f002abb161cb5">transactionPtr</a>-&gt;<a class="code" href="class_transaction.html#a000e4f0882139eb8470f7472ca14a24e" title="ROLLBACK. ">rollback</a>();</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_pg_a26dfda1f20b2fdaac85986fa3dd7ebca_cgraph.png" border="0" usemap="#class_pg_a26dfda1f20b2fdaac85986fa3dd7ebca_cgraph" alt=""/></div>
<map name="class_pg_a26dfda1f20b2fdaac85986fa3dd7ebca_cgraph" id="class_pg_a26dfda1f20b2fdaac85986fa3dd7ebca_cgraph">
<area shape="rect" id="node3" href="class_pg.html#a5bdee216f5c823ca136fee3c50a53d7c" title="continuation function after explicit rollback " alt="" coords="203,277,405,307"/><area shape="rect" id="node11" href="class_transaction.html#a000e4f0882139eb8470f7472ca14a24e" title="ROLLBACK. " alt="" coords="695,164,836,193"/><area shape="rect" id="node43" href="class_api_interface.html#a4a2fa36d3536536a94b1a84165cb946e" title="continuation function after explicit rollback " alt="" coords="221,330,387,377"/><area shape="rect" id="node5" href="class_pg.html#a23146f712d62c6b5c4537b55dbc89727" title="close socket " alt="" coords="487,243,601,272"/><area shape="rect" id="node33" href="class_pg.html#af5367b8b342543bd56c310ff0afe2aea" title="write completed command to outbound message buffer " alt="" coords="455,367,633,396"/><area shape="rect" id="node39" href="class_pg.html#a8422838d3a7e83f6db18eceb18817588" title="write response messages to socket " alt="" coords="488,313,600,343"/><area shape="rect" id="node7" href="class_api_interface.html#a0ec871d856f976629ce78d5fc3e4e9d5" title="continuation function after implicit commit " alt="" coords="683,217,848,263"/><area shape="rect" id="node9" href="class_pg.html#ac6ac0dd94a70fd221b3807ecf908f251" title="more socket closing&#45;related activities " alt="" coords="700,287,831,316"/><area shape="rect" id="node13" href="class_transaction.html#a58d291fe5c0ee6984aa71a79c7126376" title="send MessageTransaction variant to Engine " alt="" coords="896,112,1091,141"/><area shape="rect" id="node15" href="class_mboxes.html#a956f8e7626423edfd33db7a185b8b352" title="produce Message for Engine associated with specific partition " alt="" coords="1140,139,1273,168"/><area shape="rect" id="node31" href="class_transaction.html#a62cfbd3f256c6b36cfdd16cddf1ab5fe" title="continue back to calling function " alt="" coords="924,216,1063,245"/><area shape="rect" id="node17" href="class_mbox_producer.html#a9ca818bdf4ef9bacbaa6cb1d63a68dbd" title="produce Message onto mailbox " alt="" coords="1324,112,1489,141"/><area shape="rect" id="node28" href="class_message.html#a8f4edea412ed3bbaa8d3cf2d1d48b8b3" title="put addresses in Message variant envelope " alt="" coords="1329,165,1484,195"/><area shape="rect" id="node19" href="class_mbox.html#a5311178f7221ffa942fa128424ac9a86" title="create 128bit integer from Message object " alt="" coords="1539,5,1725,35"/><area shape="rect" id="node21" href="class_mbox.html#ae545aa094bc902b10f9b1e042c24e42b" title="return Message pointer from 128bit integer " alt="" coords="1584,59,1680,88"/><area shape="rect" id="node23" href="class_mboxes.html#abaaf6c0d67c235bcb17e7f9e935861cf" title="send batched Message objects destined to remote nodes " alt="" coords="1555,112,1709,141"/><area shape="rect" id="node26" href="class_message.html#a4508c42d7366a86327ca3076eb1ff007" title="return serialized Message variant string " alt="" coords="1569,165,1695,195"/><area shape="rect" id="node35" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer " alt="" coords="733,393,797,423"/><area shape="rect" id="node37" href="class_pg.html#a3ea550f9d0d24a3c7aeb736b83c86bcb" title="put message for reply into outbound buffer " alt="" coords="716,340,815,369"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_pg_a26dfda1f20b2fdaac85986fa3dd7ebca_icgraph.png" border="0" usemap="#class_pg_a26dfda1f20b2fdaac85986fa3dd7ebca_icgraph" alt=""/></div>
<map name="class_pg_a26dfda1f20b2fdaac85986fa3dd7ebca_icgraph" id="class_pg_a26dfda1f20b2fdaac85986fa3dd7ebca_icgraph">
<area shape="rect" id="node3" href="class_pg.html#ac132fbe1a0c46c68ece5004366dd8a62" title="after SQL activity is performed " alt="" coords="204,5,343,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac7dab9ff8d6e0a409b2e645605ca52e6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Pg::sqlrollbackimplicit </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>implicit rollback </p>
<p>implicit rollback done generally after a failure of some kind which forces a rollback </p>

<p>Definition at line <a class="el" href="_pg_8cc_source.html#l01206">1206</a> of file <a class="el" href="_pg_8cc_source.html">Pg.cc</a>.</p>

<p>References <a class="el" href="_pg_8cc_source.html#l01476">continuePgRollbackimplicit()</a>, <a class="el" href="class_api_interface.html#a0b9c5cae7628c13a1680bb75502b702b">ApiInterface::continuePgRollbackimplicit()</a>, <a class="el" href="_pg_8h_source.html#l00467">isintransactionblock</a>, <a class="el" href="_transaction_8h_source.html#l00608">Transaction::reentryCmd</a>, <a class="el" href="_transaction_8h_source.html#l00607">Transaction::reentryFuncPtr</a>, <a class="el" href="_transaction_8h_source.html#l00606">Transaction::reentryObject</a>, <a class="el" href="_transaction_8h_source.html#l00609">Transaction::reentryState</a>, <a class="el" href="_transaction_8cc_source.html#l02086">Transaction::rollback()</a>, <a class="el" href="_pg_8h_source.html#l00444">state</a>, <a class="el" href="_pg_8h_source.html#l00060">STATE_ABORTED</a>, and <a class="el" href="infinisql_8h_source.html#l00732">ApiInterface::transactionPtr</a>.</p>

<p>Referenced by <a class="el" href="_pg_8cc_source.html#l00876">continuePgFunc()</a>, and <a class="el" href="_pg_8cc_source.html#l00836">executeStatement()</a>.</p>
<div class="fragment"><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;{</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_pg.html#af6a3e38d25a2fc5a56b6f6a9a8038a46">isintransactionblock</a>==<span class="keyword">true</span>)</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;    {</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;        <a class="code" href="class_pg.html#ada3091b1aa6c1f463bbc773b02bef89c">state</a>=<a class="code" href="class_pg.html#a3dfd8436412740e96fafae7516a6050aaa6f47c9d45fd56ad81b3cbb04a7def65">STATE_ABORTED</a>;</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;    }</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_api_interface.html#a7bbe3b808315357bc57f002abb161cb5">transactionPtr</a>==NULL)</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;    {</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;        <a class="code" href="class_pg.html#a23d0ef3e3908161087c7452d459da402" title="continuation function after implicit rollback ">continuePgRollbackimplicit</a>(1, NULL);</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;    }</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;    <a class="code" href="class_api_interface.html#a7bbe3b808315357bc57f002abb161cb5">transactionPtr</a>-&gt;<a class="code" href="class_transaction.html#afcf4ef203fcdd9a00037dd4536cb17fe">reentryObject</a> = <span class="keyword">this</span>;</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;    <a class="code" href="class_api_interface.html#a7bbe3b808315357bc57f002abb161cb5">transactionPtr</a>-&gt;<a class="code" href="class_transaction.html#ae9e728dd39b295f762b995a8f68b57bc">reentryFuncPtr</a> = &amp;<a class="code" href="class_api_interface.html#a0b9c5cae7628c13a1680bb75502b702b" title="continuation function after implicit rollback ">ApiInterface::continuePgRollbackimplicit</a>;</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;    <a class="code" href="class_api_interface.html#a7bbe3b808315357bc57f002abb161cb5">transactionPtr</a>-&gt;<a class="code" href="class_transaction.html#ae9338ebefa8fd88af773ce9383a32246">reentryCmd</a> = 1;</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;    <a class="code" href="class_api_interface.html#a7bbe3b808315357bc57f002abb161cb5">transactionPtr</a>-&gt;<a class="code" href="class_transaction.html#ad372af545a1a497c37b678f3a6ee07d0">reentryState</a> = NULL;</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;    <a class="code" href="class_api_interface.html#a7bbe3b808315357bc57f002abb161cb5">transactionPtr</a>-&gt;<a class="code" href="class_transaction.html#a000e4f0882139eb8470f7472ca14a24e" title="ROLLBACK. ">rollback</a>();</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_pg_ac7dab9ff8d6e0a409b2e645605ca52e6_cgraph.png" border="0" usemap="#class_pg_ac7dab9ff8d6e0a409b2e645605ca52e6_cgraph" alt=""/></div>
<map name="class_pg_ac7dab9ff8d6e0a409b2e645605ca52e6_cgraph" id="class_pg_ac7dab9ff8d6e0a409b2e645605ca52e6_cgraph">
<area shape="rect" id="node3" href="class_pg.html#a23d0ef3e3908161087c7452d459da402" title="continuation function after implicit rollback " alt="" coords="203,41,405,71"/><area shape="rect" id="node5" href="class_api_interface.html#a0b9c5cae7628c13a1680bb75502b702b" title="continuation function after implicit rollback " alt="" coords="221,94,387,141"/><area shape="rect" id="node7" href="class_transaction.html#a000e4f0882139eb8470f7472ca14a24e" title="ROLLBACK. " alt="" coords="233,164,375,193"/><area shape="rect" id="node9" href="class_transaction.html#a58d291fe5c0ee6984aa71a79c7126376" title="send MessageTransaction variant to Engine " alt="" coords="453,112,648,141"/><area shape="rect" id="node11" href="class_mboxes.html#a956f8e7626423edfd33db7a185b8b352" title="produce Message for Engine associated with specific partition " alt="" coords="697,139,831,168"/><area shape="rect" id="node27" href="class_transaction.html#a62cfbd3f256c6b36cfdd16cddf1ab5fe" title="continue back to calling function " alt="" coords="481,216,620,245"/><area shape="rect" id="node13" href="class_mbox_producer.html#a9ca818bdf4ef9bacbaa6cb1d63a68dbd" title="produce Message onto mailbox " alt="" coords="881,112,1047,141"/><area shape="rect" id="node24" href="class_message.html#a8f4edea412ed3bbaa8d3cf2d1d48b8b3" title="put addresses in Message variant envelope " alt="" coords="887,165,1041,195"/><area shape="rect" id="node15" href="class_mbox.html#a5311178f7221ffa942fa128424ac9a86" title="create 128bit integer from Message object " alt="" coords="1096,5,1283,35"/><area shape="rect" id="node17" href="class_mbox.html#ae545aa094bc902b10f9b1e042c24e42b" title="return Message pointer from 128bit integer " alt="" coords="1141,59,1237,88"/><area shape="rect" id="node19" href="class_mboxes.html#abaaf6c0d67c235bcb17e7f9e935861cf" title="send batched Message objects destined to remote nodes " alt="" coords="1112,112,1267,141"/><area shape="rect" id="node22" href="class_message.html#a4508c42d7366a86327ca3076eb1ff007" title="return serialized Message variant string " alt="" coords="1127,165,1252,195"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_pg_ac7dab9ff8d6e0a409b2e645605ca52e6_icgraph.png" border="0" usemap="#class_pg_ac7dab9ff8d6e0a409b2e645605ca52e6_icgraph" alt=""/></div>
<map name="class_pg_ac7dab9ff8d6e0a409b2e645605ca52e6_icgraph" id="class_pg_ac7dab9ff8d6e0a409b2e645605ca52e6_icgraph">
<area shape="rect" id="node3" href="class_pg.html#ac132fbe1a0c46c68ece5004366dd8a62" title="after SQL activity is performed " alt="" coords="209,5,348,35"/><area shape="rect" id="node5" href="class_pg.html#af7204d6b309e5d68f8bd37fdbcc5929e" title="tokenize, parse, compile and execute SQL query " alt="" coords="203,59,355,88"/><area shape="rect" id="node7" href="class_pg.html#a1d9453abb6c088797e14baea3f2c241b" title="wire protocol handling " alt="" coords="404,59,473,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8422838d3a7e83f6db18eceb18817588"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">short Pg::writesocket </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>write response messages to socket </p>
<p>if not all data can be written, store data until EPOLLOUT event is received</p>
<dl class="section return"><dt>Returns</dt><dd>-1: socket error, 0: send complete, 1: data remaining to send </dd></dl>

<p>Definition at line <a class="el" href="_pg_8cc_source.html#l00731">731</a> of file <a class="el" href="_pg_8cc_source.html">Pg.cc</a>.</p>

<p>References <a class="el" href="_topology_8h_source.html#l00076">Topology::partitionAddress::epollfd</a>, <a class="el" href="_transaction_agent_8h_source.html#l00464">TransactionAgent::myIdentity</a>, <a class="el" href="_pg_8h_source.html#l00453">outbuf</a>, <a class="el" href="_pg_8h_source.html#l00451">outcmd</a>, <a class="el" href="_pg_8cc_source.html#l00625">put()</a>, <a class="el" href="_pg_8cc_source.html#l00718">replymsg()</a>, <a class="el" href="_pg_8h_source.html#l00445">sockfd</a>, <a class="el" href="_pg_8h_source.html#l00444">state</a>, <a class="el" href="_pg_8h_source.html#l00060">STATE_ABORTED</a>, <a class="el" href="_pg_8h_source.html#l00059">STATE_ESTABLISHED</a>, <a class="el" href="infinisql_8h_source.html#l00728">ApiInterface::taPtr</a>, and <a class="el" href="infinisql_8h_source.html#l00732">ApiInterface::transactionPtr</a>.</p>

<p>Referenced by <a class="el" href="_pg_8cc_source.html#l00055">cont()</a>, <a class="el" href="_pg_8cc_source.html#l01446">continuePgCommitexplicit()</a>, <a class="el" href="_pg_8cc_source.html#l01420">continuePgCommitimplicit()</a>, <a class="el" href="_pg_8cc_source.html#l00876">continuePgFunc()</a>, <a class="el" href="_pg_8cc_source.html#l01499">continuePgRollbackexplicit()</a>, <a class="el" href="_pg_8cc_source.html#l01542">putAuthenticationOk()</a>, <a class="el" href="_pg_8cc_source.html#l01141">putErrorResponse()</a>, and <a class="el" href="_pg_8cc_source.html#l00789">rewritesocket()</a>.</p>
<div class="fragment"><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;{</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_pg.html#ada3091b1aa6c1f463bbc773b02bef89c">state</a>==<a class="code" href="class_pg.html#a3dfd8436412740e96fafae7516a6050aaacd8781f9b4894944ac521960edaa181">STATE_ESTABLISHED</a>)</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    {</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;        <a class="code" href="class_pg.html#ae8b47198d0557fe10844ee2243553fef">outcmd</a>=<span class="charliteral">&#39;Z&#39;</span>;</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_api_interface.html#a7bbe3b808315357bc57f002abb161cb5">transactionPtr</a>==NULL)</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;        {</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;            <a class="code" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer ">put</a>(<span class="charliteral">&#39;I&#39;</span>);</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;        }</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;        {</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;            <a class="code" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer ">put</a>(<span class="charliteral">&#39;T&#39;</span>);</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;        }</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;        <a class="code" href="class_pg.html#a3ea550f9d0d24a3c7aeb736b83c86bcb" title="put message for reply into outbound buffer ">replymsg</a>();</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    }</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="class_pg.html#ada3091b1aa6c1f463bbc773b02bef89c">state</a>==<a class="code" href="class_pg.html#a3dfd8436412740e96fafae7516a6050aaa6f47c9d45fd56ad81b3cbb04a7def65">STATE_ABORTED</a>)</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    {</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;        <a class="code" href="class_pg.html#ae8b47198d0557fe10844ee2243553fef">outcmd</a>=<span class="charliteral">&#39;Z&#39;</span>;</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;        <a class="code" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer ">put</a>(<span class="charliteral">&#39;E&#39;</span>);</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;        <a class="code" href="class_pg.html#a3ea550f9d0d24a3c7aeb736b83c86bcb" title="put message for reply into outbound buffer ">replymsg</a>();</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    }</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    <span class="keywordtype">size_t</span> curpos = 0;</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    <span class="keywordtype">size_t</span> outbuflen = <a class="code" href="class_pg.html#aa66ae17967b8ab82d4753e70598818f1">outbuf</a>.size();</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    <span class="keywordflow">while</span> (curpos &lt; outbuflen)</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    {</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;        ssize_t sent = send(<a class="code" href="class_pg.html#a795eae49ac0f05051ee3c975d67f160a">sockfd</a>, &amp;<a class="code" href="class_pg.html#aa66ae17967b8ab82d4753e70598818f1">outbuf</a>[curpos],</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;                            (outbuflen-curpos) &gt;= 8192 ? 8192 :</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;                            outbuflen-curpos, 0);</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;        <span class="keywordflow">if</span> (sent == -1)</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;        {</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;            <span class="keywordflow">if</span> (errno==EAGAIN || errno==EWOULDBLOCK)</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;            {</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;                <span class="keywordtype">string</span> backgroundstr = <a class="code" href="class_pg.html#aa66ae17967b8ab82d4753e70598818f1">outbuf</a>.substr(curpos, string::npos);</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;                <a class="code" href="class_pg.html#aa66ae17967b8ab82d4753e70598818f1">outbuf</a>.swap(backgroundstr);</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;                <span class="keyword">struct </span>epoll_event epevent;</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;                epevent.events = EPOLLOUT | EPOLLHUP | EPOLLET;</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;                epevent.data.fd = <a class="code" href="class_pg.html#a795eae49ac0f05051ee3c975d67f160a">sockfd</a>;</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;                epoll_ctl(<a class="code" href="class_api_interface.html#ab8927a476baf6830781f3528765591ab">taPtr</a>-&gt;<a class="code" href="class_transaction_agent.html#a4cf668ec19e2a97cb8691c0e1b5c7e76">myIdentity</a>.<a class="code" href="struct_topology_1_1partition_address.html#abf1258c44925dc2cc45aaec245bcaea1">epollfd</a>, EPOLL_CTL_MOD, <a class="code" href="class_pg.html#a795eae49ac0f05051ee3c975d67f160a">sockfd</a>,</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;                          &amp;epevent);</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;                <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;            }</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;            <span class="comment">// some real error, so return &amp; close socket</span></div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;            <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;        }</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;        curpos += sent;</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    }</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    <a class="code" href="class_pg.html#aa66ae17967b8ab82d4753e70598818f1">outbuf</a>.clear();</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_pg_a8422838d3a7e83f6db18eceb18817588_cgraph.png" border="0" usemap="#class_pg_a8422838d3a7e83f6db18eceb18817588_cgraph" alt=""/></div>
<map name="class_pg_a8422838d3a7e83f6db18eceb18817588_cgraph" id="class_pg_a8422838d3a7e83f6db18eceb18817588_cgraph">
<area shape="rect" id="node3" href="class_pg.html#aa3859c82746de187e1eaaa2af79763bb" title="write data to outbound message buffer " alt="" coords="185,5,249,35"/><area shape="rect" id="node5" href="class_pg.html#a3ea550f9d0d24a3c7aeb736b83c86bcb" title="put message for reply into outbound buffer " alt="" coords="168,59,267,88"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_pg_a8422838d3a7e83f6db18eceb18817588_icgraph.png" border="0" usemap="#class_pg_a8422838d3a7e83f6db18eceb18817588_icgraph" alt=""/></div>
<map name="class_pg_a8422838d3a7e83f6db18eceb18817588_icgraph" id="class_pg_a8422838d3a7e83f6db18eceb18817588_icgraph">
<area shape="rect" id="node3" href="class_pg.html#a1d9453abb6c088797e14baea3f2c241b" title="wire protocol handling " alt="" coords="675,84,744,113"/><area shape="rect" id="node5" href="class_pg.html#af53fe07c0c0a879e0291e723dff34926" title="continuation function after explicit commit " alt="" coords="171,320,368,349"/><area shape="rect" id="node9" href="class_pg.html#ac132fbe1a0c46c68ece5004366dd8a62" title="after SQL activity is performed " alt="" coords="640,373,779,403"/><area shape="rect" id="node11" href="class_pg.html#adc7f4444738cd3201d51fd254c28f353" title="continuation function after implicit commit " alt="" coords="171,373,368,403"/><area shape="rect" id="node17" href="class_pg.html#a5bdee216f5c823ca136fee3c50a53d7c" title="continuation function after explicit rollback " alt="" coords="168,427,371,456"/><area shape="rect" id="node22" href="class_pg.html#a9b16e732905412fd19a9b1c75e62ced3" title="write authenticationok status to outbound message buffer " alt="" coords="188,267,351,296"/><area shape="rect" id="node30" href="class_pg.html#a79e2585fe00a44c7064745113cf6816a" title="write error to outbound message buffer " alt="" coords="195,213,344,243"/><area shape="rect" id="node40" href="class_pg.html#a9fefc9290f305a1700e08a5c08b10a7b" title="write stored buffer to socket " alt="" coords="208,5,331,35"/><area shape="rect" id="node7" href="class_pg.html#a55518b7c783c58e23badcc740e96cd8e" title="explicit commit " alt="" coords="421,320,568,349"/><area shape="rect" id="node13" href="class_pg.html#a5c7a5cc08d6f879c72e2a5e9515ae7a8" title="implicit commit " alt="" coords="421,373,568,403"/><area shape="rect" id="node19" href="class_pg.html#a26dfda1f20b2fdaac85986fa3dd7ebca" title="explicit rollback " alt="" coords="420,427,569,456"/><area shape="rect" id="node24" href="class_pg.html#aee8ca6d9759c75c81a8d41679744b31e" title="continuation after login operation " alt="" coords="432,213,557,243"/><area shape="rect" id="node26" href="class_operation.html#a07d5db6e1d0c41bf4073f3be93e4e7ed" title="perform operation (only for SQL logins) " alt="" coords="620,213,799,243"/><area shape="rect" id="node28" href="class_transaction_agent.html#abe6035d3eb84620ebbdcdfce3d34fc3b" title="TransactionAgent::Transaction\lAgent" alt="" coords="848,205,1048,251"/><area shape="rect" id="node34" href="class_pg.html#aaa7af6e009006b5eb3c4ff8324ac2d6c" title="output error based on Transaction::resultCode " alt="" coords="440,267,549,296"/><area shape="rect" id="node37" href="class_pg.html#af7204d6b309e5d68f8bd37fdbcc5929e" title="tokenize, parse, compile and execute SQL query " alt="" coords="419,109,571,139"/></map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a0ca4c75980e4c98d1dd74829d9ab259d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Pg::command_autocommit</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_pg_8h_source.html#l00466">466</a> of file <a class="el" href="_pg_8h_source.html">Pg.h</a>.</p>

<p>Referenced by <a class="el" href="_pg_8cc_source.html#l00876">continuePgFunc()</a>, and <a class="el" href="_pg_8cc_source.html#l00836">executeStatement()</a>.</p>

</div>
</div>
<a class="anchor" id="a467c503836324c5b55d20d7e45c68820"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string Pg::inbuf</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_pg_8h_source.html#l00449">449</a> of file <a class="el" href="_pg_8h_source.html">Pg.h</a>.</p>

<p>Referenced by <a class="el" href="_pg_8cc_source.html#l00055">cont()</a>, <a class="el" href="_pg_8cc_source.html#l00474">get()</a>, <a class="el" href="_pg_8cc_source.html#l00416">initcmd()</a>, and <a class="el" href="_pg_8cc_source.html#l01542">putAuthenticationOk()</a>.</p>

</div>
</div>
<a class="anchor" id="af6a3e38d25a2fc5a56b6f6a9a8038a46"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Pg::isintransactionblock</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_pg_8h_source.html#l00467">467</a> of file <a class="el" href="_pg_8h_source.html">Pg.h</a>.</p>

<p>Referenced by <a class="el" href="_pg_8cc_source.html#l00055">cont()</a>, <a class="el" href="_pg_8cc_source.html#l00876">continuePgFunc()</a>, and <a class="el" href="_pg_8cc_source.html#l01206">sqlrollbackimplicit()</a>.</p>

</div>
</div>
<a class="anchor" id="aa66ae17967b8ab82d4753e70598818f1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string Pg::outbuf</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_pg_8h_source.html#l00453">453</a> of file <a class="el" href="_pg_8h_source.html">Pg.h</a>.</p>

<p>Referenced by <a class="el" href="_pg_8cc_source.html#l00055">cont()</a>, <a class="el" href="_pg_8cc_source.html#l01446">continuePgCommitexplicit()</a>, <a class="el" href="_pg_8cc_source.html#l01499">continuePgRollbackexplicit()</a>, <a class="el" href="_pg_8cc_source.html#l01476">continuePgRollbackimplicit()</a>, <a class="el" href="_pg_8cc_source.html#l00718">replymsg()</a>, and <a class="el" href="_pg_8cc_source.html#l00731">writesocket()</a>.</p>

</div>
</div>
<a class="anchor" id="ae8b47198d0557fe10844ee2243553fef"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char Pg::outcmd</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_pg_8h_source.html#l00451">451</a> of file <a class="el" href="_pg_8h_source.html">Pg.h</a>.</p>

<p>Referenced by <a class="el" href="_pg_8cc_source.html#l00055">cont()</a>, <a class="el" href="_pg_8cc_source.html#l01542">putAuthenticationOk()</a>, <a class="el" href="_pg_8cc_source.html#l01134">putCommandComplete()</a>, <a class="el" href="_pg_8cc_source.html#l01316">putDataRows()</a>, <a class="el" href="_pg_8cc_source.html#l01141">putErrorResponse()</a>, <a class="el" href="_pg_8cc_source.html#l01160">putNoticeResponse()</a>, <a class="el" href="_pg_8cc_source.html#l01587">putParameterStatus()</a>, <a class="el" href="_pg_8cc_source.html#l01254">putRowDescription()</a>, <a class="el" href="_pg_8cc_source.html#l00718">replymsg()</a>, and <a class="el" href="_pg_8cc_source.html#l00731">writesocket()</a>.</p>

</div>
</div>
<a class="anchor" id="a2edef6fb7636b158308f0bfbd757dfc7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string Pg::outmsg</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_pg_8h_source.html#l00452">452</a> of file <a class="el" href="_pg_8h_source.html">Pg.h</a>.</p>

<p>Referenced by <a class="el" href="_pg_8cc_source.html#l00625">put()</a>, and <a class="el" href="_pg_8cc_source.html#l00718">replymsg()</a>.</p>

</div>
</div>
<a class="anchor" id="afb9e7b85177f05536150dfe87aa0f43d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char Pg::pgcmdtype</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_pg_8h_source.html#l00447">447</a> of file <a class="el" href="_pg_8h_source.html">Pg.h</a>.</p>

<p>Referenced by <a class="el" href="_pg_8cc_source.html#l00055">cont()</a>, and <a class="el" href="_pg_8cc_source.html#l00416">initcmd()</a>.</p>

</div>
</div>
<a class="anchor" id="a19b186dee0f148ff572552c14becf24b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t Pg::pos</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_pg_8h_source.html#l00450">450</a> of file <a class="el" href="_pg_8h_source.html">Pg.h</a>.</p>

<p>Referenced by <a class="el" href="_pg_8cc_source.html#l00055">cont()</a>, and <a class="el" href="_pg_8cc_source.html#l00474">get()</a>.</p>

</div>
</div>
<a class="anchor" id="a550e4a1da1210646ead838dfdf66bd14"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string Pg::procedureprefix</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_pg_8h_source.html#l00461">461</a> of file <a class="el" href="_pg_8h_source.html">Pg.h</a>.</p>

<p>Referenced by <a class="el" href="_pg_8cc_source.html#l00817">continueLogin()</a>, and <a class="el" href="_pg_8cc_source.html#l00836">executeStatement()</a>.</p>

</div>
</div>
<a class="anchor" id="a02b793188e489b313841541b6cc95045"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">class <a class="el" href="class_schema.html">Schema</a>* Pg::schemaPtr</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_pg_8h_source.html#l00456">456</a> of file <a class="el" href="_pg_8h_source.html">Pg.h</a>.</p>

<p>Referenced by <a class="el" href="_pg_8cc_source.html#l00055">cont()</a>, <a class="el" href="_pg_8cc_source.html#l00817">continueLogin()</a>, and <a class="el" href="_pg_8cc_source.html#l00836">executeStatement()</a>.</p>

</div>
</div>
<a class="anchor" id="a7951fb241c5eb477043de68f40445f17"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Pg::session_isautocommit</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_pg_8h_source.html#l00464">464</a> of file <a class="el" href="_pg_8h_source.html">Pg.h</a>.</p>

<p>Referenced by <a class="el" href="_pg_8cc_source.html#l00876">continuePgFunc()</a>.</p>

</div>
</div>
<a class="anchor" id="ada77aac586bbf5345f3891eea170199d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t Pg::size</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_pg_8h_source.html#l00448">448</a> of file <a class="el" href="_pg_8h_source.html">Pg.h</a>.</p>

<p>Referenced by <a class="el" href="_pg_8cc_source.html#l00055">cont()</a>, <a class="el" href="_pg_8cc_source.html#l00416">initcmd()</a>, and <a class="el" href="_pg_8cc_source.html#l01542">putAuthenticationOk()</a>.</p>

</div>
</div>
<a class="anchor" id="a795eae49ac0f05051ee3c975d67f160a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Pg::sockfd</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_pg_8h_source.html#l00445">445</a> of file <a class="el" href="_pg_8h_source.html">Pg.h</a>.</p>

<p>Referenced by <a class="el" href="_pg_8cc_source.html#l00372">closesocket()</a>, <a class="el" href="_pg_8cc_source.html#l00055">cont()</a>, <a class="el" href="_pg_8cc_source.html#l00416">initcmd()</a>, <a class="el" href="_pg_8cc_source.html#l00037">Pg()</a>, <a class="el" href="_pg_8cc_source.html#l00343">readsocket()</a>, <a class="el" href="_pg_8cc_source.html#l00789">rewritesocket()</a>, and <a class="el" href="_pg_8cc_source.html#l00731">writesocket()</a>.</p>

</div>
</div>
<a class="anchor" id="aabfd82fedcd274f8955cfcbe123015fd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boost::unordered_map&lt;std::string, std::string&gt; Pg::startupArgs</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_pg_8h_source.html#l00459">459</a> of file <a class="el" href="_pg_8h_source.html">Pg.h</a>.</p>

<p>Referenced by <a class="el" href="_pg_8cc_source.html#l00055">cont()</a>, and <a class="el" href="_pg_8cc_source.html#l01542">putAuthenticationOk()</a>.</p>

</div>
</div>
<a class="anchor" id="ada3091b1aa6c1f463bbc773b02bef89c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_pg.html#a3dfd8436412740e96fafae7516a6050a">states_e</a> Pg::state</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_pg_8h_source.html#l00444">444</a> of file <a class="el" href="_pg_8h_source.html">Pg.h</a>.</p>

<p>Referenced by <a class="el" href="_pg_8cc_source.html#l00372">closesocket()</a>, <a class="el" href="_pg_8cc_source.html#l00055">cont()</a>, <a class="el" href="_pg_8cc_source.html#l01446">continuePgCommitexplicit()</a>, <a class="el" href="_pg_8cc_source.html#l01420">continuePgCommitimplicit()</a>, <a class="el" href="_pg_8cc_source.html#l00876">continuePgFunc()</a>, <a class="el" href="_pg_8cc_source.html#l01499">continuePgRollbackexplicit()</a>, <a class="el" href="_pg_8cc_source.html#l01476">continuePgRollbackimplicit()</a>, <a class="el" href="_pg_8cc_source.html#l00416">initcmd()</a>, <a class="el" href="_pg_8cc_source.html#l01542">putAuthenticationOk()</a>, <a class="el" href="_pg_8cc_source.html#l01206">sqlrollbackimplicit()</a>, and <a class="el" href="_pg_8cc_source.html#l00731">writesocket()</a>.</p>

</div>
</div>
<a class="anchor" id="a3f40f67fe0e47628c6bc7ed8053e95a6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int64_t Pg::userid</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_pg_8h_source.html#l00455">455</a> of file <a class="el" href="_pg_8h_source.html">Pg.h</a>.</p>

<p>Referenced by <a class="el" href="_pg_8cc_source.html#l00817">continueLogin()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/infinisql/build/infinisql/infinisqld/<a class="el" href="_pg_8h_source.html">Pg.h</a></li>
<li>/home/infinisql/build/infinisql/infinisqld/<a class="el" href="_pg_8cc_source.html">Pg.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_pg.html">Pg</a></li>
    <li class="footer">Generated on Tue Dec 24 2013 06:05:53 for InfiniSQL by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.4 </li>
  </ul>
</div>
</body>
</html>
