<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.4"/>
<title>InfiniSQL: /home/infinisql/build/infinisql/infinisqld/TransactionAgent.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="header_60.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">InfiniSQL
   &#160;<span id="projectnumber">v0.1.2-alpha</span>
   </div>
   <div id="projectbrief">Massive Scale Transaction Processing</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.4 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('_transaction_agent_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">TransactionAgent.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Actor which communicates with clients and executes transactions. Coordinates of activities between several other actors.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="gch_8h_source.html">gch.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="_operation_8h_source.html">Operation.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="_table_8h_source.html">Table.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="_schema_8h_source.html">Schema.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="_larxer_8h_source.html">Larxer.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="_transaction_8h_source.html">Transaction.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="_applier_8h_source.html">Applier.h</a>&quot;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for TransactionAgent.h:</div>
<div class="dyncontent">
<div class="center"><img src="_transaction_agent_8h__incl.png" border="0" usemap="#_2home_2infinisql_2build_2infinisql_2infinisqld_2_transaction_agent_8h" alt=""/></div>
<map name="_2home_2infinisql_2build_2infinisql_2infinisqld_2_transaction_agent_8h" id="_2home_2infinisql_2build_2infinisql_2infinisqld_2_transaction_agent_8h">
<area shape="rect" id="node3" href="gch_8h.html" title="Headers for all external dependencies. " alt="" coords="2137,272,2191,301"/><area shape="rect" id="node90" href="_operation_8h.html" title="Class for non&#45;transactional, user and schema&#45;related activities, such as login, createuser, createtable, and so on. " alt="" coords="1996,117,2084,147"/><area shape="rect" id="node94" href="_table_8h.html" title="Table class. Has Fields and Indices. " alt="" coords="2097,195,2161,224"/><area shape="rect" id="node97" href="_schema_8h.html" title="Schema class. Contains tables (fields (indices)). One schemata per domain. Corresponds to tablespace ..." alt="" coords="2159,117,2239,147"/><area shape="rect" id="node101" href="_larxer_8h.html" title="Portmanteau of &quot;lexer&quot; and &quot;parser&quot;. This class tokenizes, parses and converts SQL into executable St..." alt="" coords="2239,195,2308,224"/><area shape="rect" id="node104" href="_transaction_8h.html" title="Class which performs transactions. Associated with the TransactionAgent which connected to the client..." alt="" coords="2313,117,2415,147"/><area shape="rect" id="node108" href="_applier_8h.html" title="Applies transactional data modifications as part of synchronous replication. " alt="" coords="2439,117,2511,147"/><area shape="rect" id="node21" href="spooky_8h.html" title="Spooky Hash from Bob Jenkins. This is public domain. " alt="" coords="1149,349,1224,379"/></map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="_transaction_agent_8h__dep__incl.png" border="0" usemap="#_2home_2infinisql_2build_2infinisql_2infinisqld_2_transaction_agent_8hdep" alt=""/></div>
<map name="_2home_2infinisql_2build_2infinisql_2infinisqld_2_transaction_agent_8hdep" id="_2home_2infinisql_2build_2infinisql_2infinisqld_2_transaction_agent_8hdep">
<area shape="rect" id="node3" href="_transaction_8h.html" title="Class which performs transactions. Associated with the TransactionAgent which connected to the client..." alt="" coords="325,117,461,181"/><area shape="rect" id="node12" href="_operation_8h.html" title="Class for non&#45;transactional, user and schema&#45;related activities, such as login, createuser, createtable, and so on. " alt="" coords="485,117,621,181"/><area shape="rect" id="node17" href="_applier_8cc.html" title="Applies transactional data modifications as part of synchronous replication. " alt="" coords="645,117,781,181"/><area shape="rect" id="node19" href="_engine_8h.html" title="Engine actors store and manipulate data. Each engine interacts with a single partition, and vice versa. " alt="" coords="805,117,941,181"/><area shape="rect" id="node28" href="_pg_8cc.html" title="Objects created for every SQL login and associated with a specific TransactionAgent. Takes incoming requests, has them processed and responds to client. " alt="" coords="965,126,1128,173"/><area shape="rect" id="node30" href="_transaction_agent_8cc.html" title="Actor which communicates with clients and executes transactions. Coordinates of activities between se..." alt="" coords="1152,117,1299,181"/><area shape="rect" id="node32" href="_user_schema_mgr_8h.html" title="Actor which maintains user and domain authentication information and schema definitions. There is only 1 active UserSchemaMgr per cluster. " alt="" coords="1323,117,1459,181"/><area shape="rect" id="node5" href="api_8cc.html" title="API for creating stored procedures. Pg objects also inherit from this class, because they perform the..." alt="" coords="5,229,141,293"/><area shape="rect" id="node8" href="_asts_8cc.html" title="Abstract Syntax Tree class and Statement class. A SQL statement turns into these in order to be execu..." alt="" coords="165,229,301,293"/><area shape="rect" id="node10" href="_transaction_8cc.html" title="Class which performs transactions. Associated with the TransactionAgent which connected to the client..." alt="" coords="325,229,461,293"/><area shape="rect" id="node15" href="_operation_8cc.html" title="Class for non&#45;transactional, user and schema&#45;related activities, such as login, createuser, createtable, and so on. " alt="" coords="485,229,621,293"/><area shape="rect" id="node21" href="_engine_8cc.html" title="Engine actors store and manipulate data. Each engine interacts with a single partition, and vice versa. " alt="" coords="645,229,781,293"/><area shape="rect" id="node23" href="_sub_transaction_8h.html" title="Engine&#39;s class corresponding to TransactionAgent&#39;s Transaction. Each data manipulation activity has a..." alt="" coords="805,229,941,293"/><area shape="rect" id="node26" href="_sub_transaction_8cc.html" title="Engine&#39;s class corresponding to TransactionAgent&#39;s Transaction. Each data manipulation activity has a..." alt="" coords="805,341,941,405"/><area shape="rect" id="node34" href="_user_schema_mgr_8cc.html" title="Actor which maintains user and domain authentication information and schema definitions. There is only 1 active UserSchemaMgr per cluster. " alt="" coords="1320,229,1461,293"/></map>
</div>
</div>
<p><a href="_transaction_agent_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structidl.html">idl</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">orphan  <a href="structidl.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structresponse_data.html">responseData</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">for storing network responses held up by EAGAIN on raw interface  <a href="structresponse_data.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structauth_info.html">authInfo</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">authentication information, uniquely identifying a user  <a href="structauth_info.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_transaction_agent.html">TransactionAgent</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">execute <a class="el" href="class_transaction.html" title="create Transaction object ">Transaction</a> Agent actor  <a href="class_transaction_agent.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a21edc4227d2b6f8878a81e5b80e462db"><td class="memItemLeft" align="right" valign="top">typedef vector&lt; <a class="el" href="structidl.html">idl</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_transaction_agent_8h.html#a21edc4227d2b6f8878a81e5b80e462db">cmds</a></td></tr>
<tr class="separator:a21edc4227d2b6f8878a81e5b80e462db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7cf158d302d8588d7c573b053a5515e"><td class="memItemLeft" align="right" valign="top">typedef boost::unordered_map<br class="typebreak"/>
&lt; std::string, <a class="el" href="structprocedures__s.html">procedures_s</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_transaction_agent_8h.html#ad7cf158d302d8588d7c573b053a5515e">domainProceduresMap</a></td></tr>
<tr class="separator:ad7cf158d302d8588d7c573b053a5515e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0e4d670711b50b1bd559a434314aa2c"><td class="memItemLeft" align="right" valign="top">typedef boost::unordered_map<br class="typebreak"/>
&lt; int, <a class="el" href="structresponse_data.html">responseData</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_transaction_agent_8h.html#af0e4d670711b50b1bd559a434314aa2c">sendLaterMap</a></td></tr>
<tr class="separator:af0e4d670711b50b1bd559a434314aa2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a505e9985279d132d8c8e10341ecd55b3"><td class="memItemLeft" align="right" valign="top">typedef std::map&lt; int, <a class="el" href="structauth_info.html">authInfo</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_transaction_agent_8h.html#a505e9985279d132d8c8e10341ecd55b3">socketAuthInfo</a></td></tr>
<tr class="separator:a505e9985279d132d8c8e10341ecd55b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c64ed3d8620e3f2914212b2381c1954"><td class="memItemLeft" align="right" valign="top">typedef boost::unordered_map<br class="typebreak"/>
&lt; int64_t, class <a class="el" href="class_operation.html">Operation</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_transaction_agent_8h.html#a7c64ed3d8620e3f2914212b2381c1954">operationMap</a></td></tr>
<tr class="separator:a7c64ed3d8620e3f2914212b2381c1954"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68f39b0f211bd12aefb65ffe61c96704"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="class_api_interface.html">ApiInterface</a> *(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_transaction_agent_8h.html#a68f39b0f211bd12aefb65ffe61c96704">spclasscreate</a> )(class <a class="el" href="class_transaction_agent.html">TransactionAgent</a> *, class <a class="el" href="class_api_interface.html">ApiInterface</a> *, void *)</td></tr>
<tr class="separator:a68f39b0f211bd12aefb65ffe61c96704"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d7482b07d24fdcf30036b9e4416b34a"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_transaction_agent_8h.html#a2d7482b07d24fdcf30036b9e4416b34a">spclassdestroy</a> )(<a class="el" href="class_api_interface.html">ApiInterface</a> *)</td></tr>
<tr class="separator:a2d7482b07d24fdcf30036b9e4416b34a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a9da971ef9b0843821edd0962102408c1"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_transaction_agent_8h.html#a9da971ef9b0843821edd0962102408c1">transactionpayload_e</a> { <a class="el" href="_transaction_agent_8h.html#a9da971ef9b0843821edd0962102408c1a88dc842de22bee596db498d407ce67d5">NOPAYLOAD</a> = 0, 
<a class="el" href="_transaction_agent_8h.html#a9da971ef9b0843821edd0962102408c1ab2c1ab8c48bec25b02f6591562057935">SUBTRANSACTIONCMDPAYLOAD</a>, 
<a class="el" href="_transaction_agent_8h.html#a9da971ef9b0843821edd0962102408c1a8604fcb80bcd3c1542cb11ced485f7f4">COMMITROLLBACKPAYLOAD</a>
 }</td></tr>
<tr class="memdesc:a9da971ef9b0843821edd0962102408c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">type of <a class="el" href="class_message_transaction.html" title="Message variant for transaction processing. ">MessageTransaction</a> variant. likely an orphan  <a href="_transaction_agent_8h.html#a9da971ef9b0843821edd0962102408c1">More...</a><br/></td></tr>
<tr class="separator:a9da971ef9b0843821edd0962102408c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad0e1c6f8dfd7d54549b798dc50d94a5"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_transaction_agent_8h.html#aad0e1c6f8dfd7d54549b798dc50d94a5">idlcmd_e</a> { <br/>
&#160;&#160;<a class="el" href="_transaction_agent_8h.html#aad0e1c6f8dfd7d54549b798dc50d94a5af5284c96d8deaefce0cf6302773d9d0a">IDLNOCMD</a> = 0, 
<a class="el" href="_transaction_agent_8h.html#aad0e1c6f8dfd7d54549b798dc50d94a5a0ba66c0c70aae50444747ed34496b8a2">IDLROWLOCK</a>, 
<a class="el" href="_transaction_agent_8h.html#aad0e1c6f8dfd7d54549b798dc50d94a5a90b90bc537809d95b2896f675fe10d93">IDLINDEXLOCK</a>, 
<a class="el" href="_transaction_agent_8h.html#aad0e1c6f8dfd7d54549b798dc50d94a5a21e5a4e89bb872c282304b82db74f996">IDLINSERTROW</a>, 
<br/>
&#160;&#160;<a class="el" href="_transaction_agent_8h.html#aad0e1c6f8dfd7d54549b798dc50d94a5af7af101ca12ef50c27975443244865a3">IDLINDEX</a>, 
<a class="el" href="_transaction_agent_8h.html#aad0e1c6f8dfd7d54549b798dc50d94a5a139041015c620075f8764f6f8ec753fe">IDLDELETEUNIQUEINDEX</a>, 
<a class="el" href="_transaction_agent_8h.html#aad0e1c6f8dfd7d54549b798dc50d94a5a886ea8b62a1b6192c796ec3a67c2a4a8">IDLINSERTNONUNIQUEINDEX</a>, 
<a class="el" href="_transaction_agent_8h.html#aad0e1c6f8dfd7d54549b798dc50d94a5a0cee66780a8e68b9ad3f5611d8cf7323">IDLINSERTNULLINDEX</a>, 
<br/>
&#160;&#160;<a class="el" href="_transaction_agent_8h.html#aad0e1c6f8dfd7d54549b798dc50d94a5a18d2cef37cf4c7d48bf3bc356dcbf01f">IDLDELETENONUNIQUEINDEX</a>, 
<a class="el" href="_transaction_agent_8h.html#aad0e1c6f8dfd7d54549b798dc50d94a5ad6975b048bb427fe68da4157373c79aa">IDLDELETENULLINDEX</a>, 
<a class="el" href="_transaction_agent_8h.html#aad0e1c6f8dfd7d54549b798dc50d94a5a03bab05ba79dfcdb45952794ef7f065c">IDLREPLACEINDEX</a>, 
<a class="el" href="_transaction_agent_8h.html#aad0e1c6f8dfd7d54549b798dc50d94a5afd3df82f8087a2f60e7b30c1e46da5f6">IDLROLLBACKROW</a>, 
<br/>
&#160;&#160;<a class="el" href="_transaction_agent_8h.html#aad0e1c6f8dfd7d54549b798dc50d94a5a1072e6fdcc31da4645d8f0d863cdb94a">IDLROLLBACKINDEX</a>
<br/>
 }</td></tr>
<tr class="memdesc:aad0e1c6f8dfd7d54549b798dc50d94a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">likely an orphan  <a href="_transaction_agent_8h.html#aad0e1c6f8dfd7d54549b798dc50d94a5">More...</a><br/></td></tr>
<tr class="separator:aad0e1c6f8dfd7d54549b798dc50d94a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a12e6b1f6dc6bfa69718a5f5798a3ca44"><td class="memItemLeft" align="right" valign="top">msgpack::sbuffer *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_transaction_agent_8h.html#a12e6b1f6dc6bfa69718a5f5798a3ca44">makeSbuf</a> (msgpack::sbuffer *)</td></tr>
<tr class="separator:a12e6b1f6dc6bfa69718a5f5798a3ca44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad55205f494ae1e8cdaca647cdc4a23a6"><td class="memItemLeft" align="right" valign="top">msgpack::sbuffer *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_transaction_agent_8h.html#ad55205f494ae1e8cdaca647cdc4a23a6">makeSbuf</a> (vector&lt; string &gt; *)</td></tr>
<tr class="separator:ad55205f494ae1e8cdaca647cdc4a23a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6438942760668db3866ce0933e7858b3"><td class="memItemLeft" align="right" valign="top">msgpack::sbuffer *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_transaction_agent_8h.html#a6438942760668db3866ce0933e7858b3">makeSbuf</a> (std::map&lt; string, string &gt; *)</td></tr>
<tr class="separator:a6438942760668db3866ce0933e7858b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1dda958c65a7ab491fd5038e8b90625f"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a1dda958c65a7ab491fd5038e8b90625f"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="_transaction_agent_8h.html#a1dda958c65a7ab491fd5038e8b90625f">replyTa</a> (T servent, <a class="el" href="defs_8h.html#a1811cc4e33a4180ebd5c0859ea12d378">topic_e</a> result, void *msg)</td></tr>
<tr class="memdesc:a1dda958c65a7ab491fd5038e8b90625f"><td class="mdescLeft">&#160;</td><td class="mdescRight">orphan  <a href="#a1dda958c65a7ab491fd5038e8b90625f">More...</a><br/></td></tr>
<tr class="separator:a1dda958c65a7ab491fd5038e8b90625f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a249e7ffce5f420933a755cf93feda6c2"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_transaction_agent_8h.html#a249e7ffce5f420933a755cf93feda6c2">transactionAgent</a> (void *identity)</td></tr>
<tr class="memdesc:a249e7ffce5f420933a755cf93feda6c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">launch <a class="el" href="class_transaction.html" title="create Transaction object ">Transaction</a> Agent actor  <a href="#a249e7ffce5f420933a755cf93feda6c2">More...</a><br/></td></tr>
<tr class="separator:a249e7ffce5f420933a755cf93feda6c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Actor which communicates with clients and executes transactions. Coordinates of activities between several other actors. </p>
<dl class="section author"><dt>Author</dt><dd>Mark Travis <a href="#" onclick="location.href='mai'+'lto:'+'mtr'+'av'+'is1'+'54'+'32+'+'sr'+'c@g'+'ma'+'il.'+'co'+'m'; return false;">mtrav<span style="display: none;">.nosp@m.</span>is15<span style="display: none;">.nosp@m.</span>432+s<span style="display: none;">.nosp@m.</span>rc@g<span style="display: none;">.nosp@m.</span>mail.<span style="display: none;">.nosp@m.</span>com</a> </dd></dl>
<dl class="section date"><dt>Date</dt><dd>Tue Dec 17 14:03:09 2013 </dd></dl>

<p>Definition in file <a class="el" href="_transaction_agent_8h_source.html">TransactionAgent.h</a>.</p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="a21edc4227d2b6f8878a81e5b80e462db"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef vector&lt;<a class="el" href="structidl.html">idl</a>&gt; <a class="el" href="_transaction_agent_8h.html#a21edc4227d2b6f8878a81e5b80e462db">cmds</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_transaction_agent_8h_source.html#l00094">94</a> of file <a class="el" href="_transaction_agent_8h_source.html">TransactionAgent.h</a>.</p>

</div>
</div>
<a class="anchor" id="ad7cf158d302d8588d7c573b053a5515e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef boost::unordered_map&lt;std::string, <a class="el" href="structprocedures__s.html">procedures_s</a>&gt; <a class="el" href="_transaction_agent_8h.html#ad7cf158d302d8588d7c573b053a5515e">domainProceduresMap</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_transaction_agent_8h_source.html#l00099">99</a> of file <a class="el" href="_transaction_agent_8h_source.html">TransactionAgent.h</a>.</p>

</div>
</div>
<a class="anchor" id="a7c64ed3d8620e3f2914212b2381c1954"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef boost::unordered_map&lt;int64_t, class <a class="el" href="class_operation.html">Operation</a> *&gt; <a class="el" href="_transaction_agent_8h.html#a7c64ed3d8620e3f2914212b2381c1954">operationMap</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_transaction_agent_8h_source.html#l00129">129</a> of file <a class="el" href="_transaction_agent_8h_source.html">TransactionAgent.h</a>.</p>

</div>
</div>
<a class="anchor" id="af0e4d670711b50b1bd559a434314aa2c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef boost::unordered_map&lt;int, <a class="el" href="structresponse_data.html">responseData</a>&gt; <a class="el" href="_transaction_agent_8h.html#af0e4d670711b50b1bd559a434314aa2c">sendLaterMap</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_transaction_agent_8h_source.html#l00123">123</a> of file <a class="el" href="_transaction_agent_8h_source.html">TransactionAgent.h</a>.</p>

</div>
</div>
<a class="anchor" id="a505e9985279d132d8c8e10341ecd55b3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::map&lt;int, <a class="el" href="structauth_info.html">authInfo</a>&gt; <a class="el" href="_transaction_agent_8h.html#a505e9985279d132d8c8e10341ecd55b3">socketAuthInfo</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_transaction_agent_8h_source.html#l00128">128</a> of file <a class="el" href="_transaction_agent_8h_source.html">TransactionAgent.h</a>.</p>

</div>
</div>
<a class="anchor" id="a68f39b0f211bd12aefb65ffe61c96704"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="class_api_interface.html">ApiInterface</a>*(* spclasscreate)(class <a class="el" href="class_transaction_agent.html">TransactionAgent</a> *, class <a class="el" href="class_api_interface.html">ApiInterface</a> *, void *)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_transaction_agent_8h_source.html#l00506">506</a> of file <a class="el" href="_transaction_agent_8h_source.html">TransactionAgent.h</a>.</p>

</div>
</div>
<a class="anchor" id="a2d7482b07d24fdcf30036b9e4416b34a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* spclassdestroy)(<a class="el" href="class_api_interface.html">ApiInterface</a> *)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_transaction_agent_8h_source.html#l00508">508</a> of file <a class="el" href="_transaction_agent_8h_source.html">TransactionAgent.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="aad0e1c6f8dfd7d54549b798dc50d94a5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="_transaction_agent_8h.html#aad0e1c6f8dfd7d54549b798dc50d94a5">idlcmd_e</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>likely an orphan </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="aad0e1c6f8dfd7d54549b798dc50d94a5af5284c96d8deaefce0cf6302773d9d0a"></a>IDLNOCMD</em>&nbsp;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="aad0e1c6f8dfd7d54549b798dc50d94a5a0ba66c0c70aae50444747ed34496b8a2"></a>IDLROWLOCK</em>&nbsp;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="aad0e1c6f8dfd7d54549b798dc50d94a5a90b90bc537809d95b2896f675fe10d93"></a>IDLINDEXLOCK</em>&nbsp;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="aad0e1c6f8dfd7d54549b798dc50d94a5a21e5a4e89bb872c282304b82db74f996"></a>IDLINSERTROW</em>&nbsp;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="aad0e1c6f8dfd7d54549b798dc50d94a5af7af101ca12ef50c27975443244865a3"></a>IDLINDEX</em>&nbsp;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="aad0e1c6f8dfd7d54549b798dc50d94a5a139041015c620075f8764f6f8ec753fe"></a>IDLDELETEUNIQUEINDEX</em>&nbsp;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="aad0e1c6f8dfd7d54549b798dc50d94a5a886ea8b62a1b6192c796ec3a67c2a4a8"></a>IDLINSERTNONUNIQUEINDEX</em>&nbsp;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="aad0e1c6f8dfd7d54549b798dc50d94a5a0cee66780a8e68b9ad3f5611d8cf7323"></a>IDLINSERTNULLINDEX</em>&nbsp;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="aad0e1c6f8dfd7d54549b798dc50d94a5a18d2cef37cf4c7d48bf3bc356dcbf01f"></a>IDLDELETENONUNIQUEINDEX</em>&nbsp;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="aad0e1c6f8dfd7d54549b798dc50d94a5ad6975b048bb427fe68da4157373c79aa"></a>IDLDELETENULLINDEX</em>&nbsp;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="aad0e1c6f8dfd7d54549b798dc50d94a5a03bab05ba79dfcdb45952794ef7f065c"></a>IDLREPLACEINDEX</em>&nbsp;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="aad0e1c6f8dfd7d54549b798dc50d94a5afd3df82f8087a2f60e7b30c1e46da5f6"></a>IDLROLLBACKROW</em>&nbsp;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="aad0e1c6f8dfd7d54549b798dc50d94a5a1072e6fdcc31da4645d8f0d863cdb94a"></a>IDLROLLBACKINDEX</em>&nbsp;</td><td class="fielddoc">
</td></tr>
</table>

<p>Definition at line <a class="el" href="_transaction_agent_8h_source.html#l00055">55</a> of file <a class="el" href="_transaction_agent_8h_source.html">TransactionAgent.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;{</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <a class="code" href="_transaction_agent_8h.html#aad0e1c6f8dfd7d54549b798dc50d94a5af5284c96d8deaefce0cf6302773d9d0a">IDLNOCMD</a> = 0,</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <a class="code" href="_transaction_agent_8h.html#aad0e1c6f8dfd7d54549b798dc50d94a5a0ba66c0c70aae50444747ed34496b8a2">IDLROWLOCK</a>,</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <a class="code" href="_transaction_agent_8h.html#aad0e1c6f8dfd7d54549b798dc50d94a5a90b90bc537809d95b2896f675fe10d93">IDLINDEXLOCK</a>,</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <a class="code" href="_transaction_agent_8h.html#aad0e1c6f8dfd7d54549b798dc50d94a5a21e5a4e89bb872c282304b82db74f996">IDLINSERTROW</a>,</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <a class="code" href="_transaction_agent_8h.html#aad0e1c6f8dfd7d54549b798dc50d94a5af7af101ca12ef50c27975443244865a3">IDLINDEX</a>,</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <a class="code" href="_transaction_agent_8h.html#aad0e1c6f8dfd7d54549b798dc50d94a5a139041015c620075f8764f6f8ec753fe">IDLDELETEUNIQUEINDEX</a>,</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <a class="code" href="_transaction_agent_8h.html#aad0e1c6f8dfd7d54549b798dc50d94a5a886ea8b62a1b6192c796ec3a67c2a4a8">IDLINSERTNONUNIQUEINDEX</a>,</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <a class="code" href="_transaction_agent_8h.html#aad0e1c6f8dfd7d54549b798dc50d94a5a0cee66780a8e68b9ad3f5611d8cf7323">IDLINSERTNULLINDEX</a>,</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <a class="code" href="_transaction_agent_8h.html#aad0e1c6f8dfd7d54549b798dc50d94a5a18d2cef37cf4c7d48bf3bc356dcbf01f">IDLDELETENONUNIQUEINDEX</a>,</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <a class="code" href="_transaction_agent_8h.html#aad0e1c6f8dfd7d54549b798dc50d94a5ad6975b048bb427fe68da4157373c79aa">IDLDELETENULLINDEX</a>,</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <a class="code" href="_transaction_agent_8h.html#aad0e1c6f8dfd7d54549b798dc50d94a5a03bab05ba79dfcdb45952794ef7f065c">IDLREPLACEINDEX</a>,</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <a class="code" href="_transaction_agent_8h.html#aad0e1c6f8dfd7d54549b798dc50d94a5afd3df82f8087a2f60e7b30c1e46da5f6">IDLROLLBACKROW</a>,</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <a class="code" href="_transaction_agent_8h.html#aad0e1c6f8dfd7d54549b798dc50d94a5a1072e6fdcc31da4645d8f0d863cdb94a">IDLROLLBACKINDEX</a>,</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;};</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9da971ef9b0843821edd0962102408c1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="_transaction_agent_8h.html#a9da971ef9b0843821edd0962102408c1">transactionpayload_e</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>type of <a class="el" href="class_message_transaction.html" title="Message variant for transaction processing. ">MessageTransaction</a> variant. likely an orphan </p>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="a9da971ef9b0843821edd0962102408c1a88dc842de22bee596db498d407ce67d5"></a>NOPAYLOAD</em>&nbsp;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a9da971ef9b0843821edd0962102408c1ab2c1ab8c48bec25b02f6591562057935"></a>SUBTRANSACTIONCMDPAYLOAD</em>&nbsp;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a9da971ef9b0843821edd0962102408c1a8604fcb80bcd3c1542cb11ced485f7f4"></a>COMMITROLLBACKPAYLOAD</em>&nbsp;</td><td class="fielddoc">
</td></tr>
</table>

<p>Definition at line <a class="el" href="_transaction_agent_8h_source.html#l00044">44</a> of file <a class="el" href="_transaction_agent_8h_source.html">TransactionAgent.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;{</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <a class="code" href="_transaction_agent_8h.html#a9da971ef9b0843821edd0962102408c1a88dc842de22bee596db498d407ce67d5">NOPAYLOAD</a> = 0,</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <a class="code" href="_transaction_agent_8h.html#a9da971ef9b0843821edd0962102408c1ab2c1ab8c48bec25b02f6591562057935">SUBTRANSACTIONCMDPAYLOAD</a>,</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <a class="code" href="_transaction_agent_8h.html#a9da971ef9b0843821edd0962102408c1a8604fcb80bcd3c1542cb11ced485f7f4">COMMITROLLBACKPAYLOAD</a></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;};</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a12e6b1f6dc6bfa69718a5f5798a3ca44"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">msgpack::sbuffer* makeSbuf </td>
          <td>(</td>
          <td class="paramtype">msgpack::sbuffer *&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_transaction_agent_8cc_source.html#l01344">1344</a> of file <a class="el" href="_transaction_agent_8cc_source.html">TransactionAgent.cc</a>.</p>

<p>Referenced by <a class="el" href="_transaction_agent_8h_source.html#l00375">TransactionAgent::sendResponse()</a>.</p>
<div class="fragment"><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;{</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;    <span class="keywordflow">return</span> sbuf;</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="_transaction_agent_8h_a12e6b1f6dc6bfa69718a5f5798a3ca44_icgraph.png" border="0" usemap="#_transaction_agent_8h_a12e6b1f6dc6bfa69718a5f5798a3ca44_icgraph" alt=""/></div>
<map name="_transaction_agent_8h_a12e6b1f6dc6bfa69718a5f5798a3ca44_icgraph" id="_transaction_agent_8h_a12e6b1f6dc6bfa69718a5f5798a3ca44_icgraph">
<area shape="rect" id="node3" href="class_transaction_agent.html#afeb56ce4d08a9a26fee880cfb60f0d17" title="send raw protocol TCP responses to builtins, ping, login, logout, etc. " alt="" coords="136,319,355,348"/><area shape="rect" id="node5" href="class_api_interface.html#a4a1a73f032a58252940033976336a459" title="deprecated " alt="" coords="425,5,612,35"/><area shape="rect" id="node7" href="class_transaction_agent.html#abe6035d3eb84620ebbdcdfce3d34fc3b" title="TransactionAgent::Transaction\lAgent" alt="" coords="947,489,1147,535"/><area shape="rect" id="node9" href="class_transaction_agent.html#af613bc9b5c27a3bb79e83249fff16279" title="ping operation " alt="" coords="713,109,868,139"/><area shape="rect" id="node12" href="class_transaction_agent.html#abb8479d4599bc129ade4c148e0a813f6" title="login " alt="" coords="712,163,869,192"/><area shape="rect" id="node15" href="class_transaction_agent.html#a8fdb66b9bdd2755a11beeb8c017ba33f" title="logout " alt="" coords="708,216,873,245"/><area shape="rect" id="node18" href="class_transaction_agent.html#a5b197a6f45bd8a05994f9252332c3b04" title="change password " alt="" coords="404,265,633,295"/><area shape="rect" id="node21" href="class_transaction_agent.html#ac4b282414d3b2df348c418b87abc6fda" title="create domain " alt="" coords="413,319,624,348"/><area shape="rect" id="node24" href="class_transaction_agent.html#ace0343f70e795b25c7d2202cc9e2d990" title="create user " alt="" coords="423,372,615,401"/><area shape="rect" id="node27" href="class_transaction_agent.html#a59b6245bf3e072c73329764a0b527260" title="delete user " alt="" coords="423,425,615,455"/><area shape="rect" id="node30" href="class_transaction_agent.html#aabd5c9203e13ca31a1a3ea7241bd4f85" title="delete domain " alt="" coords="415,479,623,508"/><area shape="rect" id="node33" href="class_transaction_agent.html#afd3364c54ec5e8432c5bb06f610170f5" title="common code for many operations, such as login, create table, etc " alt="" coords="429,621,608,667"/><area shape="rect" id="node53" href="class_transaction_agent.html#a9e808c79db27d1222cc8f4f98d866a04" title="compile SQL statement " alt="" coords="431,764,607,793"/><area shape="rect" id="node56" href="class_transaction_agent.html#a276ba1d319a904b3d2cb5b7760ca7ecc" title="called by loadprocedure " alt="" coords="412,892,625,921"/><area shape="rect" id="node35" href="class_transaction_agent.html#aab53c4bfa995b9022cc36cc15d13aba5" title="create schema " alt="" coords="684,523,897,552"/><area shape="rect" id="node38" href="class_transaction_agent.html#a3708411d5f2ecc05c73956df8fd55817" title="create table " alt="" coords="693,576,888,605"/><area shape="rect" id="node41" href="class_transaction_agent.html#a7a3c3c5d2cdd473e05900dd77086ae63" title="add column " alt="" coords="693,629,888,659"/><area shape="rect" id="node44" href="class_transaction_agent.html#a558d5f43203b188965159990809efe3f" title="delete index " alt="" coords="692,683,889,712"/><area shape="rect" id="node47" href="class_transaction_agent.html#a3a53d6669e67de446acf6da315a4be4a" title="delete table " alt="" coords="693,736,888,765"/><area shape="rect" id="node50" href="class_transaction_agent.html#a71760a1ab215c83cdd9ed7ad1fa38ff0" title="delete schema " alt="" coords="684,789,897,819"/><area shape="rect" id="node59" href="class_transaction_agent.html#a7522dec06fd92d63d98b5afff843f0e2" title="load stored procedure " alt="" coords="684,944,897,973"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad55205f494ae1e8cdaca647cdc4a23a6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">msgpack::sbuffer* makeSbuf </td>
          <td>(</td>
          <td class="paramtype">vector&lt; string &gt; *&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_transaction_agent_8cc_source.html#l01349">1349</a> of file <a class="el" href="_transaction_agent_8cc_source.html">TransactionAgent.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;{</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;    msgpack::sbuffer *sbuf = <span class="keyword">new</span> msgpack::sbuffer;</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;    msgpack::pack(*sbuf, *v);</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;    <span class="keywordflow">return</span> sbuf;</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6438942760668db3866ce0933e7858b3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">msgpack::sbuffer* makeSbuf </td>
          <td>(</td>
          <td class="paramtype">std::map&lt; string, string &gt; *&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_transaction_agent_8cc_source.html#l01356">1356</a> of file <a class="el" href="_transaction_agent_8cc_source.html">TransactionAgent.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;{</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;    msgpack::sbuffer *sbuf = <span class="keyword">new</span> msgpack::sbuffer;</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;    msgpack::pack(*sbuf, *m);</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;    <span class="keywordflow">return</span> sbuf;</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1dda958c65a7ab491fd5038e8b90625f"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void replyTa </td>
          <td>(</td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>servent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="defs_8h.html#a1811cc4e33a4180ebd5c0859ea12d378">topic_e</a>&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>orphan </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">servent</td><td></td></tr>
    <tr><td class="paramname">result</td><td></td></tr>
    <tr><td class="paramname">msg</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_transaction_agent_8h_source.html#l00518">518</a> of file <a class="el" href="_transaction_agent_8h_source.html">TransactionAgent.h</a>.</p>

<p>References <a class="el" href="_message_8h_source.html#l00248">MessageUserSchema::userschema_s::domainid</a>, <a class="el" href="_message_8h_source.html#l00158">Message::messageStruct</a>, <a class="el" href="_message_8h_source.html#l00247">MessageUserSchema::userschema_s::operationid</a>, <a class="el" href="defs_8h_source.html#l00196">PAYLOADUSERSCHEMA</a>, <a class="el" href="_message_8h_source.html#l00259">MessageUserSchema::userschema_s::status</a>, <a class="el" href="_message_8h_source.html#l00095">Message::message_s::topic</a>, <a class="el" href="_message_8h_source.html#l00249">MessageUserSchema::userschema_s::userid</a>, and <a class="el" href="_message_8h_source.html#l00304">MessageUserSchema::userschemaStruct</a>.</p>
<div class="fragment"><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;{</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    <span class="keyword">class </span><a class="code" href="class_message_user_schema.html" title="Message variant for UserSchemaMgr activities. ">MessageUserSchema</a> &amp;msgref = *(<span class="keyword">class </span><a class="code" href="class_message_user_schema.html" title="Message variant for UserSchemaMgr activities. ">MessageUserSchema</a> *)msg;</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    servent-&gt;msgsnd.data = (<span class="keywordtype">void</span> *)msg;</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    ((<span class="keyword">class </span><a class="code" href="class_message.html" title="create Message object ">Message</a> *)servent-&gt;msgsnd.data)-&gt;<a class="code" href="class_message.html#a207c19577db4a07c21510e53589d9bc6">messageStruct</a>.<a class="code" href="struct_message_1_1message__s.html#a17f266f85586cef34d7aabd5bcd1134d">topic</a> = result;</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    ((<span class="keyword">class </span><a class="code" href="class_message.html" title="create Message object ">Message</a> *)servent-&gt;msgsnd.data)-&gt;messageStruct.payloadtype =</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;        <a class="code" href="defs_8h.html#a50f200c552f1c5a360521f8060c3fbe4a08b95e7e3889071b294e974087f47de3">PAYLOADUSERSCHEMA</a>;</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    msgref.<a class="code" href="class_message_user_schema.html#ae2d6a073f7238bbb302fe3da77b53f02">userschemaStruct</a>.<a class="code" href="struct_message_user_schema_1_1userschema__s.html#ac56df00e7a5f93b400565a4cebbb37fe">operationid</a> = servent-&gt;operationid;</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    msgref.<a class="code" href="class_message_user_schema.html#ae2d6a073f7238bbb302fe3da77b53f02">userschemaStruct</a>.<a class="code" href="struct_message_user_schema_1_1userschema__s.html#a45938891cec93892ccec65de08b75123">domainid</a> = servent-&gt;domainid;</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    msgref.<a class="code" href="class_message_user_schema.html#ae2d6a073f7238bbb302fe3da77b53f02">userschemaStruct</a>.<a class="code" href="struct_message_user_schema_1_1userschema__s.html#a63673cc24b82eb15935c2b8a3377833e">userid</a> = servent-&gt;userid;</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    msgref.<a class="code" href="class_message_user_schema.html#ae2d6a073f7238bbb302fe3da77b53f02">userschemaStruct</a>.<a class="code" href="struct_message_user_schema_1_1userschema__s.html#a1d29e228a9d397461eedda66b0cc3dfe">status</a> = servent-&gt;status;</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a249e7ffce5f420933a755cf93feda6c2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* transactionAgent </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>identity</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>launch <a class="el" href="class_transaction.html" title="create Transaction object ">Transaction</a> Agent actor </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">identity</td><td>how to identify actor instance</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="_transaction_agent_8cc_source.html#l00633">633</a> of file <a class="el" href="_transaction_agent_8cc_source.html">TransactionAgent.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;{</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    <a class="code" href="class_transaction_agent.html" title="execute Transaction Agent actor ">TransactionAgent</a>((<a class="code" href="struct_topology_1_1partition_address.html">Topology::partitionAddress</a> *)identity);</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_6546ed341f558cf0be54c4e16baf7f96.html">infinisqld</a></li><li class="navelem"><a class="el" href="_transaction_agent_8h.html">TransactionAgent.h</a></li>
    <li class="footer">Generated on Tue Dec 24 2013 06:05:49 for InfiniSQL by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.4 </li>
  </ul>
</div>
</body>
</html>
